/*! For license information please see admin.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(e,t,a){"use strict";function o(e,t,a,o,i,n,r,s){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=a,c._compiled=!0),o&&(c.functional=!0),n&&(c._scopeId="data-v-"+n),r?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}a.d(t,"a",(function(){return o}))},,,,function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a=function(e,t){var a=e[1]||"",o=e[3];if(!o)return a;if(t&&"function"==typeof btoa){var i=(r=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),n=o.sources.map((function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"}));return[a].concat(n).concat([i]).join("\n")}var r;return[a].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+a+"}":a})).join("")},t.i=function(e,a){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},i=0;i<this.length;i++){var n=this[i][0];"number"==typeof n&&(o[n]=!0)}for(i=0;i<e.length;i++){var r=e[i];"number"==typeof r[0]&&o[r[0]]||(a&&!r[2]?r[2]=a:a&&(r[2]="("+r[2]+") and ("+a+")"),t.push(r))}},t}},function(e,t,a){var o,i,n={},r=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=o.apply(this,arguments)),i}),s=function(e,t){return t?t.querySelector(e):document.querySelector(e)},l=function(e){var t={};return function(e,a){if("function"==typeof e)return e();if(void 0===t[e]){var o=s.call(this,e,a);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}}(),c=null,u=0,d=[],m=a(204);function v(e,t){for(var a=0;a<e.length;a++){var o=e[a],i=n[o.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](o.parts[r]);for(;r<o.parts.length;r++)i.parts.push(b(o.parts[r],t))}else{var s=[];for(r=0;r<o.parts.length;r++)s.push(b(o.parts[r],t));n[o.id]={id:o.id,refs:1,parts:s}}}}function p(e,t){for(var a=[],o={},i=0;i<e.length;i++){var n=e[i],r=t.base?n[0]+t.base:n[0],s={css:n[1],media:n[2],sourceMap:n[3]};o[r]?o[r].parts.push(s):a.push(o[r]={id:r,parts:[s]})}return a}function f(e,t){var a=l(e.insertInto);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=d[d.length-1];if("top"===e.insertAt)o?o.nextSibling?a.insertBefore(t,o.nextSibling):a.appendChild(t):a.insertBefore(t,a.firstChild),d.push(t);else if("bottom"===e.insertAt)a.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=l(e.insertAt.before,a);a.insertBefore(t,i)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function h(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var o=function(){0;return a.nc}();o&&(e.attrs.nonce=o)}return _(t,e.attrs),f(e,t),t}function _(e,t){Object.keys(t).forEach((function(a){e.setAttribute(a,t[a])}))}function b(e,t){var a,o,i,n;if(t.transform&&e.css){if(!(n="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=n}if(t.singleton){var r=u++;a=c||(c=h(t)),o=C.bind(null,a,r,!1),i=C.bind(null,a,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",_(t,e.attrs),f(e,t),t}(t),o=k.bind(null,a,t),i=function(){g(a),a.href&&URL.revokeObjectURL(a.href)}):(a=h(t),o=O.bind(null,a),i=function(){g(a)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=r()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var a=p(e,t);return v(a,t),function(e){for(var o=[],i=0;i<a.length;i++){var r=a[i];(s=n[r.id]).refs--,o.push(s)}e&&v(p(e,t),t);for(i=0;i<o.length;i++){var s;if(0===(s=o[i]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete n[s.id]}}}};var x,y=(x=[],function(e,t){return x[e]=t,x.filter(Boolean).join("\n")});function C(e,t,a,o){var i=a?"":o.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var n=document.createTextNode(i),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(n,r[t]):e.appendChild(n)}}function O(e,t){var a=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}function k(e,t,a){var o=a.css,i=a.sourceMap,n=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||n)&&(o=m(o)),i&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var r=new Blob([o],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(r),s&&URL.revokeObjectURL(s)}},function(e,t){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch(e){"object"==typeof window&&(a=window)}e.exports=a},function(e){e.exports=JSON.parse('[{"text":"Sin Certeza","value":0.01,"color":"#000000"},{"text":"Solicito Informacion","value":0.1,"color":"#B71C1C"},{"text":"Interesado","value":0.2,"color":"#EF5350"},{"text":"Cotizacion","value":0.3,"color":"#F9A825"},{"text":"Segundo Contacto","value":0.4,"color":"#FDD835"},{"text":"Negociacion","value":0.5,"color":"#FFFF00"},{"text":"Cotizacion Formalizada","value":0.6,"color":"#B9F6CA"},{"text":"Envio de Documentos","value":0.7,"color":"#69F0AE"},{"text":"Documentacion (Para compra o Financiamiento)","value":0.8,"color":"#00E676"},{"text":"Cierre de Venta","value":0.9,"color":"#00C853"},{"text":"Entregado","value":1,"color":"#00C853"}]')},function(e){e.exports=JSON.parse('[{"name":"CELAYA"},{"name":"SALAMANCA"},{"name":"SILAO"},{"name":"IRAPUATO"},{"name":"QRO"},{"name":"ABASOLO"},{"name":"MATRIZ"}]')},function(e){e.exports=JSON.parse('[{"name":"ADMINISTRACION"},{"name":"CONTABILIDAD"},{"name":"CREDITO Y COBRANZA"},{"name":"DIRECCION"},{"name":"LUBRICANTES"},{"name":"MARKETING"},{"name":"NUEVAS TECNOLOGIAS"},{"name":"POST VENTA"},{"name":"REFACCIONES"},{"name":"RIEGO"},{"name":"RRHH"},{"name":"SERVICIO AGRICOLA"},{"name":"SERVICIO INDRUSTRIAL"},{"name":"SISTEMAS"},{"name":"ASCACAMBARO"},{"name":"EQUIPO DEMO"},{"name":"GERENTE"},{"name":"BRIGADA VERDE"},{"name":"ASC QRO"},{"name":"ASC SILAO"},{"name":"TRASLADOS"},{"name":"RENTAS"},{"name":"VENTAS MAQ AGRICOLA"},{"name":"VENTAS MAQ INDUSTRIAL"}]')},function(e,t,a){"use strict";(function(e){a.d(t,"b",(function(){return x}));var o=("undefined"!=typeof window?window:void 0!==e?e:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function i(e,t){if(void 0===t&&(t=[]),null===e||"object"!=typeof e)return e;var a,o=(a=function(t){return t.original===e},t.filter(a)[0]);if(o)return o.copy;var n=Array.isArray(e)?[]:{};return t.push({original:e,copy:n}),Object.keys(e).forEach((function(a){n[a]=i(e[a],t)})),n}function n(e,t){Object.keys(e).forEach((function(a){return t(e[a],a)}))}function r(e){return null!==e&&"object"==typeof e}var s=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var a=e.state;this.state=("function"==typeof a?a():a)||{}},l={namespaced:{configurable:!0}};l.namespaced.get=function(){return!!this._rawModule.namespaced},s.prototype.addChild=function(e,t){this._children[e]=t},s.prototype.removeChild=function(e){delete this._children[e]},s.prototype.getChild=function(e){return this._children[e]},s.prototype.hasChild=function(e){return e in this._children},s.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},s.prototype.forEachChild=function(e){n(this._children,e)},s.prototype.forEachGetter=function(e){this._rawModule.getters&&n(this._rawModule.getters,e)},s.prototype.forEachAction=function(e){this._rawModule.actions&&n(this._rawModule.actions,e)},s.prototype.forEachMutation=function(e){this._rawModule.mutations&&n(this._rawModule.mutations,e)},Object.defineProperties(s.prototype,l);var c=function(e){this.register([],e,!1)};c.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},c.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,a){return e+((t=t.getChild(a)).namespaced?a+"/":"")}),"")},c.prototype.update=function(e){!function e(t,a,o){0;if(a.update(o),o.modules)for(var i in o.modules){if(!a.getChild(i))return void 0;e(t.concat(i),a.getChild(i),o.modules[i])}}([],this.root,e)},c.prototype.register=function(e,t,a){var o=this;void 0===a&&(a=!0);var i=new s(t,a);0===e.length?this.root=i:this.get(e.slice(0,-1)).addChild(e[e.length-1],i);t.modules&&n(t.modules,(function(t,i){o.register(e.concat(i),t,a)}))},c.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),a=e[e.length-1],o=t.getChild(a);o&&o.runtime&&t.removeChild(a)},c.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),a=e[e.length-1];return t.hasChild(a)};var u;var d=function(e){var t=this;void 0===e&&(e={}),!u&&"undefined"!=typeof window&&window.Vue&&b(window.Vue);var a=e.plugins;void 0===a&&(a=[]);var i=e.strict;void 0===i&&(i=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new c(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new u,this._makeLocalGettersCache=Object.create(null);var n=this,r=this.dispatch,s=this.commit;this.dispatch=function(e,t){return r.call(n,e,t)},this.commit=function(e,t,a){return s.call(n,e,t,a)},this.strict=i;var l=this._modules.root.state;g(this,l,[],this._modules.root),f(this,l),a.forEach((function(e){return e(t)})),(void 0!==e.devtools?e.devtools:u.config.devtools)&&function(e){o&&(e._devtoolHook=o,o.emit("vuex:init",e),o.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){o.emit("vuex:mutation",e,t)}),{prepend:!0}),e.subscribeAction((function(e,t){o.emit("vuex:action",e,t)}),{prepend:!0}))}(this)},m={state:{configurable:!0}};function v(e,t,a){return t.indexOf(e)<0&&(a&&a.prepend?t.unshift(e):t.push(e)),function(){var a=t.indexOf(e);a>-1&&t.splice(a,1)}}function p(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var a=e.state;g(e,a,[],e._modules.root,!0),f(e,a,t)}function f(e,t,a){var o=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var i=e._wrappedGetters,r={};n(i,(function(t,a){r[a]=function(e,t){return function(){return e(t)}}(t,e),Object.defineProperty(e.getters,a,{get:function(){return e._vm[a]},enumerable:!0})}));var s=u.config.silent;u.config.silent=!0,e._vm=new u({data:{$$state:t},computed:r}),u.config.silent=s,e.strict&&function(e){e._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}(e),o&&(a&&e._withCommit((function(){o._data.$$state=null})),u.nextTick((function(){return o.$destroy()})))}function g(e,t,a,o,i){var n=!a.length,r=e._modules.getNamespace(a);if(o.namespaced&&(e._modulesNamespaceMap[r],e._modulesNamespaceMap[r]=o),!n&&!i){var s=h(t,a.slice(0,-1)),l=a[a.length-1];e._withCommit((function(){u.set(s,l,o.state)}))}var c=o.context=function(e,t,a){var o=""===t,i={dispatch:o?e.dispatch:function(a,o,i){var n=_(a,o,i),r=n.payload,s=n.options,l=n.type;return s&&s.root||(l=t+l),e.dispatch(l,r)},commit:o?e.commit:function(a,o,i){var n=_(a,o,i),r=n.payload,s=n.options,l=n.type;s&&s.root||(l=t+l),e.commit(l,r,s)}};return Object.defineProperties(i,{getters:{get:o?function(){return e.getters}:function(){return function(e,t){if(!e._makeLocalGettersCache[t]){var a={},o=t.length;Object.keys(e.getters).forEach((function(i){if(i.slice(0,o)===t){var n=i.slice(o);Object.defineProperty(a,n,{get:function(){return e.getters[i]},enumerable:!0})}})),e._makeLocalGettersCache[t]=a}return e._makeLocalGettersCache[t]}(e,t)}},state:{get:function(){return h(e.state,a)}}}),i}(e,r,a);o.forEachMutation((function(t,a){!function(e,t,a,o){(e._mutations[t]||(e._mutations[t]=[])).push((function(t){a.call(e,o.state,t)}))}(e,r+a,t,c)})),o.forEachAction((function(t,a){var o=t.root?a:r+a,i=t.handler||t;!function(e,t,a,o){(e._actions[t]||(e._actions[t]=[])).push((function(t){var i,n=a.call(e,{dispatch:o.dispatch,commit:o.commit,getters:o.getters,state:o.state,rootGetters:e.getters,rootState:e.state},t);return(i=n)&&"function"==typeof i.then||(n=Promise.resolve(n)),e._devtoolHook?n.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):n}))}(e,o,i,c)})),o.forEachGetter((function(t,a){!function(e,t,a,o){if(e._wrappedGetters[t])return void 0;e._wrappedGetters[t]=function(e){return a(o.state,o.getters,e.state,e.getters)}}(e,r+a,t,c)})),o.forEachChild((function(o,n){g(e,t,a.concat(n),o,i)}))}function h(e,t){return t.reduce((function(e,t){return e[t]}),e)}function _(e,t,a){return r(e)&&e.type&&(a=t,t=e,e=e.type),{type:e,payload:t,options:a}}function b(e){u&&e===u||function(e){if(Number(e.version.split(".")[0])>=2)e.mixin({beforeCreate:a});else{var t=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[a].concat(e.init):a,t.call(this,e)}}function a(){var e=this.$options;e.store?this.$store="function"==typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}}(u=e)}m.state.get=function(){return this._vm._data.$$state},m.state.set=function(e){0},d.prototype.commit=function(e,t,a){var o=this,i=_(e,t,a),n=i.type,r=i.payload,s=(i.options,{type:n,payload:r}),l=this._mutations[n];l&&(this._withCommit((function(){l.forEach((function(e){e(r)}))})),this._subscribers.slice().forEach((function(e){return e(s,o.state)})))},d.prototype.dispatch=function(e,t){var a=this,o=_(e,t),i=o.type,n=o.payload,r={type:i,payload:n},s=this._actions[i];if(s){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(r,a.state)}))}catch(e){0}var l=s.length>1?Promise.all(s.map((function(e){return e(n)}))):s[0](n);return new Promise((function(e,t){l.then((function(t){try{a._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(r,a.state)}))}catch(e){0}e(t)}),(function(e){try{a._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(r,a.state,e)}))}catch(e){0}t(e)}))}))}},d.prototype.subscribe=function(e,t){return v(e,this._subscribers,t)},d.prototype.subscribeAction=function(e,t){return v("function"==typeof e?{before:e}:e,this._actionSubscribers,t)},d.prototype.watch=function(e,t,a){var o=this;return this._watcherVM.$watch((function(){return e(o.state,o.getters)}),t,a)},d.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._vm._data.$$state=e}))},d.prototype.registerModule=function(e,t,a){void 0===a&&(a={}),"string"==typeof e&&(e=[e]),this._modules.register(e,t),g(this,this.state,e,this._modules.get(e),a.preserveState),f(this,this.state)},d.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var a=h(t.state,e.slice(0,-1));u.delete(a,e[e.length-1])})),p(this)},d.prototype.hasModule=function(e){return"string"==typeof e&&(e=[e]),this._modules.isRegistered(e)},d.prototype.hotUpdate=function(e){this._modules.update(e),p(this,!0)},d.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(d.prototype,m);var x=S((function(e,t){var a={};return k(t).forEach((function(t){var o=t.key,i=t.val;a[o]=function(){var t=this.$store.state,a=this.$store.getters;if(e){var o=N(this.$store,"mapState",e);if(!o)return;t=o.context.state,a=o.context.getters}return"function"==typeof i?i.call(this,t,a):t[i]},a[o].vuex=!0})),a})),y=S((function(e,t){var a={};return k(t).forEach((function(t){var o=t.key,i=t.val;a[o]=function(){for(var t=[],a=arguments.length;a--;)t[a]=arguments[a];var o=this.$store.commit;if(e){var n=N(this.$store,"mapMutations",e);if(!n)return;o=n.context.commit}return"function"==typeof i?i.apply(this,[o].concat(t)):o.apply(this.$store,[i].concat(t))}})),a})),C=S((function(e,t){var a={};return k(t).forEach((function(t){var o=t.key,i=t.val;i=e+i,a[o]=function(){if(!e||N(this.$store,"mapGetters",e))return this.$store.getters[i]},a[o].vuex=!0})),a})),O=S((function(e,t){var a={};return k(t).forEach((function(t){var o=t.key,i=t.val;a[o]=function(){for(var t=[],a=arguments.length;a--;)t[a]=arguments[a];var o=this.$store.dispatch;if(e){var n=N(this.$store,"mapActions",e);if(!n)return;o=n.context.dispatch}return"function"==typeof i?i.apply(this,[o].concat(t)):o.apply(this.$store,[i].concat(t))}})),a}));function k(e){return function(e){return Array.isArray(e)||r(e)}(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function S(e){return function(t,a){return"string"!=typeof t?(a=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,a)}}function N(e,t,a){return e._modulesNamespaceMap[a]}function w(e,t,a){var o=a?e.groupCollapsed:e.group;try{o.call(e,t)}catch(a){e.log(t)}}function P(e){try{e.groupEnd()}catch(t){e.log("—— log end ——")}}function D(){var e=new Date;return" @ "+T(e.getHours(),2)+":"+T(e.getMinutes(),2)+":"+T(e.getSeconds(),2)+"."+T(e.getMilliseconds(),3)}function T(e,t){return a="0",o=t-e.toString().length,new Array(o+1).join(a)+e;var a,o}var A={Store:d,install:b,version:"3.5.1",mapState:x,mapMutations:y,mapGetters:C,mapActions:O,createNamespacedHelpers:function(e){return{mapState:x.bind(null,e),mapGetters:C.bind(null,e),mapMutations:y.bind(null,e),mapActions:O.bind(null,e)}},createLogger:function(e){void 0===e&&(e={});var t=e.collapsed;void 0===t&&(t=!0);var a=e.filter;void 0===a&&(a=function(e,t,a){return!0});var o=e.transformer;void 0===o&&(o=function(e){return e});var n=e.mutationTransformer;void 0===n&&(n=function(e){return e});var r=e.actionFilter;void 0===r&&(r=function(e,t){return!0});var s=e.actionTransformer;void 0===s&&(s=function(e){return e});var l=e.logMutations;void 0===l&&(l=!0);var c=e.logActions;void 0===c&&(c=!0);var u=e.logger;return void 0===u&&(u=console),function(e){var d=i(e.state);void 0!==u&&(l&&e.subscribe((function(e,r){var s=i(r);if(a(e,d,s)){var l=D(),c=n(e),m="mutation "+e.type+l;w(u,m,t),u.log("%c prev state","color: #9E9E9E; font-weight: bold",o(d)),u.log("%c mutation","color: #03A9F4; font-weight: bold",c),u.log("%c next state","color: #4CAF50; font-weight: bold",o(s)),P(u)}d=s})),c&&e.subscribeAction((function(e,a){if(r(e,a)){var o=D(),i=s(e),n="action "+e.type+o;w(u,n,t),u.log("%c action","color: #03A9F4; font-weight: bold",i),P(u)}})))}}};t.a=A}).call(this,a(6))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var a,o,i=e.exports={};function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function s(e){if(a===setTimeout)return setTimeout(e,0);if((a===n||!a)&&setTimeout)return a=setTimeout,setTimeout(e,0);try{return a(e,0)}catch(t){try{return a.call(null,e,0)}catch(t){return a.call(this,e,0)}}}!function(){try{a="function"==typeof setTimeout?setTimeout:n}catch(e){a=n}try{o="function"==typeof clearTimeout?clearTimeout:r}catch(e){o=r}}();var l,c=[],u=!1,d=-1;function m(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&v())}function v(){if(!u){var e=s(m);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===r||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)t[a-1]=arguments[a];c.push(new p(e,t)),1!==c.length||u||s(v)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=f,i.addListener=f,i.once=f,i.off=f,i.removeListener=f,i.removeAllListeners=f,i.emit=f,i.prependListener=f,i.prependOnceListener=f,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},,function(e){e.exports=JSON.parse('[{"text":"Colección JD"},{"text":"Construcción"},{"text":"Implementos"},{"text":"Jardineria"},{"text":"Maquinaria Diversa"},{"text":"Otros productos"},{"text":"Por definir"},{"text":"Refacciones"},{"text":"Riego"},{"text":"Seminuevos"},{"text":"Servicio"},{"text":"Tractores"},{"text":"Tractor por definir"},{"text":"Tractores Seminuevos"},{"text":"Trilladora"},{"text":"Venta en Linea"}]')},,function(e,t,a){"use strict";var o={mixins:[{data:function(){return{estate_id:null,township_id:null,options:{estates:[],townships:[]}}},watch:{estate_id:function(e){this.options.townships=[],e&&this.loadTownships(this.estate_id)}},methods:{loadEstates:function(e){var t=this;axios.get("/admin/estates").then((function(a){var o=a.data.data;t.options.estates=o.estates,(e||Function)()}))},loadTownships:function(e){if(e){var t=this;axios.get("/admin/townships/"+e).then((function(e){var a=e.data.data;t.options.townships=a.townships}))}else this.township_id=null}}}],props:{form:{required:!0,type:Object},textBtn:{required:!1,type:String,default:"Guardar"}},data:function(){return{valid:!0,rules:[function(e){return!!e||"campo requerido."}]}},created:function(){var e=this;e.loadEstates((function(){e.estate_id=e.form.estate_id?e.form.estate_id:null}))},methods:{submit:function(){this.$refs.formProspect.validate()&&this.$emit("submit")}}},i=a(0),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"formProspect",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.submit()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",{staticClass:"d-flex flex-wrap align-content-space-around justify-space-around"},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{flat:"",label:"Persona: "+(e.form.is_moral?"Moral":"Fisica")},model:{value:e.form.is_moral,callback:function(t){e.$set(e.form,"is_moral",t)},expression:"form.is_moral"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"10"}},[a("v-text-field",{attrs:{label:"Nombre a quien va dirigido:",rules:e.rules,filled:"",outlined:""},model:{value:e.form.full_name,callback:function(t){e.$set(e.form,"full_name",t)},expression:"form.full_name"}})],1),e._v(" "),e.form.is_moral?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Razon Social:",filled:"",outlined:""},model:{value:e.form.company,callback:function(t){e.$set(e.form,"company",t)},expression:"form.company"}})],1):e._e(),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"RFC:",filled:"",outlined:""},model:{value:e.form.rfc,callback:function(t){e.$set(e.form,"rfc",t)},expression:"form.rfc"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{items:e.options.estates,"item-text":"name","item-value":"id",label:"Estado:",filled:"",outlined:"",rules:e.rules},model:{value:e.estate_id,callback:function(t){e.estate_id=t},expression:"estate_id"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{items:e.options.townships,label:"Municipio","item-text":"name","item-value":"id",filled:"",outlined:"",rules:e.rules,outline:""},model:{value:e.form.township_id,callback:function(t){e.$set(e.form,"township_id",t)},expression:"form.township_id"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Telefono:",rules:e.rules,filled:"",outlined:"",counter:"10"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Correo Electronico:",filled:"",outlined:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Nombre Racho/comunidad (opcional):",placeholder:"¿De donde nos visita?",filled:"",outlined:""},model:{value:e.form.town,callback:function(t){e.$set(e.form,"town",t)},expression:"form.town"}})],1)],1),e._v(" "),a("v-btn",{attrs:{block:"",type:"submit",color:"success",dark:"",disabled:!e.valid}},[e._v("\n      "+e._s(e.textBtn)+"\n    ")])],1)],1)}),[],!1,null,null,null);t.a=n.exports},function(e,t,a){"use strict";var o=a(179),i=a(147);function n(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){if(e){if("string"==typeof e)return s(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,o=new Array(t);a<t;a++)o[a]=e[a];return o}var l={name:"TrackingForm",props:{form:{required:!0,type:Object},editing:{required:!1,type:Boolean,default:!1}},mounted:function(){var e=this;this.loadResources((function(){e.$gate.deny("assignSeller","tracking")&&(e.form.agency_id=window.LSK_APP.AUTH_USER.agency_id,e.form.department_id=window.LSK_APP.AUTH_USER.department_id)}))},data:function(){return{rules:[function(e){return!!e||"Campo Requerido"}],selectModel:null,selectConfig:{hint:""},options:{categories:i,prospects:[],agencies:[],departments:[],sellers:[],condition:["Por definir","Contado","Financiamiento","Renta"],tractors:o}}},watch:{"form.agency_id":function(e){this.form.department_id&&e&&this.loadSellers((function(){}))},"form.department_id":function(e){this.form.agency_id&&e&&this.loadSellers((function(){}))},selectModel:function(){this.form.reference=null,this.form.price=null,this.selectConfig={hint:""}},selectConfig:function(e){var t=e.text,a=e.price,o=e.currency;this.form.reference=t,this.form.price=a,this.form.currency=o}},computed:{availableSeller:function(){return!this.form.agency_id||!this.form.department_id},tipos:function(){return n(new Set(this.options.tractors.map((function(e){return e.Tipo}))))},models:function(){var e=this.options.tractors.filter((function(e){return"Tractor"===e.Tipo}));return n(new Set(e.map((function(e){return"".concat(e.Modelo)}))))},TractorConfigurations:function(){var e,t=this,a=[],o=new Map,i=function(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=r(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,l=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return s=e.done,e},e:function(e){l=!0,n=e},f:function(){try{s||null==a.return||a.return()}finally{if(l)throw n}}}}(this.options.tractors.filter((function(e){return"".concat(e.Modelo)===t.selectModel})));try{for(i.s();!(e=i.n()).done;){var n=e.value;o.has(this.configuracion(n))||(o.set(this.configuracion(n),!0),a.push({text:this.configuracion(n).trim(),price:n.Precio,currency:n["Tipo Moneda"],hint:"".concat(n.Modelo," ").concat(n.field4," ").concat("SI"===n["Traccion Sencilla"]?"Traccion Sencilla | ":""," ").concat("SI"===n["Doble Traccion"]?"Doble Traccion | ":""," ").concat("SI"===n["Power Reverser"]?"Power Reverser | ":""," ").concat("SI"===n.Creeper?"Creeper | ":""," ").concat("SI"===n["Con Cabina"]?"Con Cabina | ":""," ").concat("SI"===n["Cabina Premium"]?"Cabina Premium | ":""," ").concat("SI"===n["Doble rodado"]?"Doble rodado | ":""," ").concat("SI"===n.Ams?"AMS Incluido | ":"").trim()}))}}catch(e){i.e(e)}finally{i.f()}return a}},methods:{loadResources:function(e){var t=this;axios.get("/admin/tracking/sales_history/resources").then((function(a){var o=a.data.data;t.options.agencies=o.agencies,t.options.departments=o.departments,t.options.prospects=o.prospects,(e||Function)()}))},loadSellers:function(e){var t=this;this.editing||(t.form.attended_by=window.LSK_APP.AUTH_USER.id);var a={seller_agency_id:t.form.agency_id,seller_type_id:t.form.department_id,paginate:"no"};t.$store.commit("showLoader"),axios.get("/admin/sellers",{params:a}).then((function(e){t.options.sellers=e.data.data,t.$store.commit("hideLoader")}))},changeCurrency:function(){"MXN"==this.form.currency?this.form.currency="USD":this.form.currency="MXN"},configuracion:function(e){return"".concat(e.Modelo," ").concat(e.field4," ").concat("SI"===e["Traccion Sencilla"]?"TS":""," ").concat("SI"===e["Doble Traccion"]?"DT":""," ").concat("SI"===e["Power Reverser"]?"PR":""," ").concat("SI"===e.Creeper?"Creeper":""," ").concat("SI"===e["Con Cabina"]?"c/CAB":""," ").concat("SI"===e["Cabina Premium"]?"CAB/Premium":""," ").concat("SI"===e["Doble rodado"]?"DR":""," ").concat("SI"===e.Ams?"AMS Incluido":"")}}},c=a(0),u=Object(c.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{staticClass:"grey lighten-5 ma-2"},[a("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{items:e.options.prospects,"item-text":"full_name","item-value":"id",label:"PROSPECTO:",placeholder:"Buscar por Nombre:",clearable:"",outlined:"",dense:"",rules:e.rules,eager:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-icon",e._g(e._b({key:"icon-add",attrs:{color:"success"},on:{click:function(t){return e.$router.push({name:"prospect.create"})}}},"v-icon",i,!1),o),[e._v("mdi-account-plus\n            ")])]}}])},[e._v(" "),a("span",[e._v("Registrar Nuevo")])])]},proxy:!0},{key:"item",fn:function(t){return[a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:e._s(t.item.full_name)}}),e._v(" "),a("v-list-item-subtitle",{domProps:{textContent:e._s((t.item.company||"")+" "+(t.item.rfc||""))}}),e._v(" "),a("v-list-item-subtitle",{domProps:{textContent:e._s("Tel: "+t.item.phone+" "+(t.item.email||""))}}),e._v(" "),a("v-list-item-subtitle",{domProps:{textContent:e._s((t.item.township?t.item.township.name:"")+" "+(t.item.township?t.item.township.estate.name:""))}}),e._v(" "),a("v-list-item-subtitle",{domProps:{textContent:e._s(t.item.town)}})],1)]}}]),model:{value:e.form.prospect_id,callback:function(t){e.$set(e.form,"prospect_id",t)},expression:"form.prospect_id"}}),e._v(" "),a("v-autocomplete",{attrs:{items:e.options.agencies,"item-text":"title","item-value":"id",label:"AGENCIA ASIGNADA:",placeholder:"Agencia a quien correponde.",outlined:"",dense:"",rules:e.rules},model:{value:e.form.agency_id,callback:function(t){e.$set(e.form,"agency_id",t)},expression:"form.agency_id"}}),e._v(" "),a("v-autocomplete",{attrs:{items:e.options.departments,"item-text":"title","item-value":"id",label:"CORRESPONDE A:",placeholder:"Departamento a quien correponde.",outlined:"",dense:"",rules:e.rules},model:{value:e.form.department_id,callback:function(t){e.$set(e.form,"department_id",t)},expression:"form.department_id"}}),e._v(" "),a("v-autocomplete",{attrs:{disabled:e.availableSeller,items:e.options.sellers,"item-text":"name","item-value":"id",label:"VENDEDOR SUGERIDO:",placeholder:"Vendedores disponibles:",outlined:"",dense:"",rules:e.rules},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-list-item-avatar",[t.item.groups.some((function(e){return"Gerente"==e.name}))?a("v-icon",{staticClass:"green--text"},[e._v("mdi-check-circle-outline")]):a("v-icon",{staticClass:"grey--text"},[e._v("mdi-alert-circle-outline")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",{domProps:{innerHTML:e._s(t.item.name)}})],1)]}}]),model:{value:e.form.attended_by,callback:function(t){e.$set(e.form,"attended_by",t)},expression:"form.attended_by"}})],1),e._v(" "),a("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"6"}},[a("v-select",{attrs:{items:e.options.categories,label:"CATEGORIA INTERES:",placeholder:"describir o seleccionar un opcion",filled:"",outlined:"",dense:"",rules:e.rules},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}}),e._v(" "),"Tractores"!=e.form.title||e.editing?a("v-text-field",{staticClass:"title",attrs:{label:"REFERENCIA:",placeholder:"Alguna Referencia del Producto de interes",filled:"",outlined:"",dense:"",clearable:"",rules:e.rules},model:{value:e.form.reference,callback:function(t){e.$set(e.form,"reference",t)},expression:"form.reference"}}):e.editing?e._e():a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"4"}},[a("v-autocomplete",{attrs:{items:e.models,label:"Modelo:",placeholder:"Seleccione Modelo",required:"",outlined:"",filled:"",dense:"",clearable:"",rules:[function(e){return!!e&&e.length>0||"Campo Requerido"}]},model:{value:e.selectModel,callback:function(t){e.selectModel=t},expression:"selectModel"}})],1),e._v(" "),a("v-col",{attrs:{cols:"8"}},[a("v-select",{attrs:{items:e.TractorConfigurations,label:"Configuracion:",hint:e.selectConfig.hint,"persistent-hint":"",filled:"",outlined:"",required:"",dense:"","prepend-icon":"mdi-cogs","return-object":"",rules:[function(e){return!!e.text||"Campo Requerido"}]},model:{value:e.selectConfig,callback:function(t){e.selectConfig=t},expression:"selectConfig"}})],1)],1),e._v(" "),a("v-row",{attrs:{align:"center",wrap:""}},[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{staticClass:"title",attrs:{label:"PRECIO A TRATAR:",placeholder:"0.00",filled:"",outlined:"",dense:"",reverse:"",type:"Number","append-icon":"mdi-currency-usd",rules:e.rules},scopedSlots:e._u([{key:"prepend-inner",fn:function(){return[a("v-btn",{attrs:{text:"",color:"success"},on:{click:function(t){return e.changeCurrency()}}},[e._v("\n              "+e._s(e.form.currency)+"\n            ")])]},proxy:!0}]),model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-select",{staticClass:"overline",attrs:{items:e.options.condition,label:"Condicion de operacion:",filled:"",outlined:"",dense:"",rules:e.rules},model:{value:e.form.tracking_condition,callback:function(t){e.$set(e.form,"tracking_condition",t)},expression:"form.tracking_condition"}})],1)],1)],1),e._v(" "),a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("div",{staticClass:"d-flex d-flex-row align-center overline mx-3"},[a("span",[e._v("El Prospecto fue contactado:")]),e._v(" "),a("v-radio-group",{attrs:{row:"",dense:"",rules:e.rules},model:{value:e.form.first_contact,callback:function(t){e.$set(e.form,"first_contact",t)},expression:"form.first_contact"}},[a("v-radio",{attrs:{label:"ONLINE",value:"online"}}),e._v(" "),a("v-radio",{attrs:{label:"EN AGENCIA",value:"agencia"}}),e._v(" "),a("v-radio",{attrs:{label:"EN CAMPO",value:"campo"}})],1)],1),e._v(" "),a("v-textarea",{staticClass:"title",attrs:{label:"MOTIVO:",placeholder:"Motivo del Seguimiento, detalle producto, precios, etc",counter:"500",filled:"",outlined:"",rules:[function(e){return!!e||"Motivo Requerido"},function(e){return e&&e.length>=25||"Motivo debe tener al menos 25 caracteres"}]},model:{value:e.form.description_topic,callback:function(t){e.$set(e.form,"description_topic",t)},expression:"form.description_topic"}})],1)],1)}),[],!1,null,null,null);t.a=u.exports},function(e,t,a){"use strict";var o={name:"GpsForm",props:{form:{required:!0,type:Object},options:{require:!1,type:Object,default:function(){return{}}},editing:{required:!1,type:Boolean,default:!1}},data:function(){return{rules:[function(e){return!!e||"Campo Requerido"}]}}},i=(a(211),a(0)),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"d-flex flex-wrap justify-space-around align-stretch text-uppercase",attrs:{flat:"",tile:""}},[a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Nombre GPS",placeholder:"Referencia",rules:e.rules,outlined:"",filled:"",dense:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{items:e.options.groups,label:"Cliente:",placeholder:"A quien pertence","item-text":"name","item-value":"id",rules:e.rules,clearable:"",outlined:"",filled:"",dense:""},model:{value:e.form.gps_group_id,callback:function(t){e.$set(e.form,"gps_group_id",t)},expression:"form.gps_group_id"}})],1),e._v(" "),a("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"3"}},[a("v-autocomplete",{attrs:{items:e.options.chips,label:"Chip (SIM): ",placeholder:"CHIP Asignado","item-text":"sim","item-value":"sim",rules:e.rules,clearable:"",outlined:"",filled:"",dense:""},model:{value:e.form.gps_chip_id,callback:function(t){e.$set(e.form,"gps_chip_id",t)},expression:"form.gps_chip_id"}})],1),e._v(" "),a("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"3"}},[a("v-select",{attrs:{items:e.options.types,label:"Tipo de Pago",rules:e.rules,outlined:"",filled:"",dense:""},model:{value:e.form.payment_type,callback:function(t){e.$set(e.form,"payment_type",t)},expression:"form.payment_type"}})],1),e._v(" "),a("v-col",{staticClass:"pa-0",attrs:{cols:"12",md:"8"}},[a("v-row",{attrs:{"no-gutters":"",align:"center"}},[a("v-col",{staticClass:"pa-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{staticClass:"mx-2",attrs:{label:"Fecha Instalacion",type:"date",rules:e.rules,outlined:"",filled:"",dense:""},model:{value:e.form.installation_date,callback:function(t){e.$set(e.form,"installation_date",t)},expression:"form.installation_date"}})],1),e._v(" "),a("v-col",{staticClass:"pa-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{staticClass:"mx-2",attrs:{label:"Fecha en que Renueva",type:"date",rules:e.rules,outlined:"",filled:"",dense:""},model:{value:e.form.renew_date,callback:function(t){e.$set(e.form,"renew_date",t)},expression:"form.renew_date"}})],1)],1),e._v(" "),a("v-row",{attrs:{"no-gutters":""}},[a("p",{staticClass:"subtitle text-center mx-2"},[e._v("\n        Datos de Facturacion (Opcionales):\n      ")]),e._v(" "),a("v-text-field",{staticClass:"mx-2",attrs:{label:"Factura:",placeholder:"Folio",readonly:e.editing,outlined:"",dense:""},model:{value:e.form.invoice,callback:function(t){e.$set(e.form,"invoice",t)},expression:"form.invoice"}}),e._v(" "),a("v-text-field",{staticClass:"mx-2",attrs:{label:"Fecha Factura",type:"date",outlined:"",dense:""},model:{value:e.form.invoice_date,callback:function(t){e.$set(e.form,"invoice_date",t)},expression:"form.invoice_date"}}),e._v(" "),a("v-text-field",{staticClass:"mx-2 title",attrs:{label:"Importe Factura:",placeholder:"0.00",type:"Number","prepend-inner-icon":"mdi-currency-usd",readonly:e.editing,outlined:"",filled:"",dense:""},scopedSlots:e._u([{key:"append",fn:function(){return[a("v-btn",{attrs:{disabled:e.editing,outlined:"",small:""},on:{click:function(t){"MXN"==e.form.currency?e.form.currency="USD":e.form.currency="MXN",e.form.exchange_rate=1}}},[e._v("\n            "+e._s(e.form.currency)+"\n          ")])]},proxy:!0}]),model:{value:e.form.amount,callback:function(t){e.$set(e.form,"amount",t)},expression:"form.amount"}}),e._v(" "),"USD"==e.form.currency?[a("v-text-field",{staticClass:"title",attrs:{label:"Tipo Cambio:",type:"Number",rules:e.rules,readonly:e.editing,"hide-details":"",reverse:"",outlined:"",filled:"",dense:""},model:{value:e.form.exchange_rate,callback:function(t){e.$set(e.form,"exchange_rate",t)},expression:"form.exchange_rate"}})]:e._e()],2)],1),e._v(" "),a("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[a("v-textarea",{staticClass:"title font-weight-bold",attrs:{label:"Ultimo Comentario:",placeholder:"Comentario",rules:e.rules,outlined:"",filled:"",dense:""},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1)}),[],!1,null,"c386ce38",null);t.a=n.exports},,function(e,t,a){(function(e,t){!function(e,a){"use strict";if(!e.setImmediate){var o,i,n,r,s,l=1,c={},u=!1,d=e.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(e);m=m&&m.setTimeout?m:e,"[object process]"==={}.toString.call(e.process)?o=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,a=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=a,t}}()?e.MessageChannel?((n=new MessageChannel).port1.onmessage=function(e){p(e.data)},o=function(e){n.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(i=d.documentElement,o=function(e){var t=d.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):o=function(e){setTimeout(p,0,e)}:(r="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(r)&&p(+t.data.slice(r.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),o=function(t){e.postMessage(r+t,"*")}),m.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),a=0;a<t.length;a++)t[a]=arguments[a+1];var i={callback:e,args:t};return c[l]=i,o(l),l++},m.clearImmediate=v}function v(e){delete c[e]}function p(e){if(u)setTimeout(p,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,a=e.args;switch(a.length){case 0:t();break;case 1:t(a[0]);break;case 2:t(a[0],a[1]);break;case 3:t(a[0],a[1],a[2]);break;default:t.apply(void 0,a)}}(t)}finally{v(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,a(6),a(145))},,function(e,t,a){"use strict";a.r(t);var o=a(7),i={props:{info:{required:!0,type:Object}},computed:{folio:function(){return this.info.detail.id?this.info.detail.id.toString().padStart(5,0):""},percenAssertiveness:function(){var e=this;return o.find((function(t){return t.value==e.info.detail.assertiveness}))},created_at_format:function(){return this.$appFormatters.formatDate(this.info.detail.created_at,"LL hh:mm a")}},methods:{colorEstatus:function(e){return"finalizado"==e?"red":"formalizado"==e?"blue":"primary"}}},n=(a(207),a(0)),r=Object(n.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"mx-auto",attrs:{elevation:"0"}},[a("v-toolbar",{staticClass:"overline",attrs:{flat:""}},[a("span",{staticClass:"text-primary text-md-h4 text-sm-overline"},[e._v("\n      Folio: #"+e._s(e.folio))]),e._v(" "),a("v-spacer"),e._v(" "),a("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-progress-circular",e._g(e._b({attrs:{rotate:360,size:56,width:5,value:100*e.percenAssertiveness.value,color:e.percenAssertiveness.color}},"v-progress-circular",i,!1),o),[e._v("\n          "+e._s(e._f("percent")(e.percenAssertiveness.value))+"\n        ")])]}}])},[e._v(" "),a("span",[e._v(e._s(e.percenAssertiveness.text))])]),e._v(" "),a("v-chip",{staticClass:"mr-2 text-uppercase",attrs:{small:"",color:e.colorEstatus(e.info.estatus.key),dark:""}},[e._v("\n      "+e._s(e.info.estatus.title)+"\n    ")]),e._v(" "),e.$gate.allow("isGerente","tracking")?a("v-btn",{attrs:{icon:"",small:""},on:{click:function(t){return e.$router.push({name:"tracking.edit",params:{propTrackingId:e.info.detail.id}})}}},[a("v-icon",[e._v("mdi-pencil")])],1):e._e()],1),e._v(" "),a("v-list",[a("v-list-item",[a("v-list-item-icon",{directives:[{name:"show",rawName:"v-show",value:this.$vuetify.breakpoint.mdAndUp,expression:"this.$vuetify.breakpoint.mdAndUp"}]},[a("v-icon",{attrs:{color:"indigo"}},[e._v(" mdi-file-document ")])],1),e._v(" "),a("v-list-item-content",{staticClass:"px-2"},[a("v-card",{staticClass:"mx-auto",attrs:{outlined:"",elevation:"4",color:"light-blue lighten-5"}},[a("v-toolbar",{staticClass:"overline",attrs:{flat:"",dense:""}},[e._v("\n            "+e._s(e.info.detail.title)+"\n            "),a("v-spacer"),e._v("\n            "+e._s(e.info.detail.first_contact)+" |\n            "+e._s(e.info.detail.tracking_condition)+"\n          ")],1),e._v(" "),a("v-divider"),e._v(" "),a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"headline text-wrap mb-1"},[e._v("\n                "+e._s(e.info.detail.reference)+"\n              ")]),e._v(" "),a("v-list-item-subtitle",{staticClass:"subtitle-1 text-uppercase"},[e._v("\n                "+e._s(e.created_at_format)+"\n              ")]),e._v(" "),a("v-list-item-subtitle",{staticClass:"subtitle-1 text-uppercase"},[e._v("\n                "+e._s(e._f("currency")(e.info.detail.price))+" "+e._s(e.info.detail.currency)+"\n              ")]),e._v(" "),a("v-list-item-title",{staticClass:"pt-4 text-wrap text-button",domProps:{textContent:e._s(e.info.detail.description_topic)}})],1)],1)],1)],1)],1),e._v(" "),a("v-list-item",[a("v-list-item-icon",{directives:[{name:"show",rawName:"v-show",value:this.$vuetify.breakpoint.mdAndUp,expression:"this.$vuetify.breakpoint.mdAndUp"}]},[a("v-icon",{attrs:{color:"indigo"}},[e._v(" mdi-account ")])],1),e._v(" "),a("v-list-item-content",{staticClass:"px-2"},[a("v-card",{staticClass:"mx-auto",attrs:{outlined:"",elevation:"4",color:"blue-grey lighten-5"}},[a("v-toolbar",{staticClass:"overline",attrs:{flat:"",dense:""}},[e._v("\n            Dirigido\n          ")]),e._v(" "),a("v-divider"),e._v(" "),a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"headline text-wrap mb-2"},[e._v("\n                "+e._s(e.info.prospect.full_name)+"\n              ")]),e._v(" "),a("v-list-item-subtitle",{staticClass:"body-1"},[e._v("\n                "+e._s(e.info.prospect.company||"")+"\n              ")]),e._v(" "),a("v-list-item-subtitle",{staticClass:"body-1"},[a("span",{staticClass:"text--primary"},[e._v("RFC:")]),e._v("\n                "+e._s(e.info.prospect.rfc||"")+"\n              ")]),e._v(" "),a("v-list-item-subtitle",{staticClass:"body-1"},[a("span",{staticClass:"text--primary"},[e._v("Telefono:")]),e._v("\n                "+e._s(e.info.prospect.phone||"")+"\n              ")]),e._v(" "),a("v-list-item-subtitle",{staticClass:"body-1"},[a("span",{staticClass:"text--primary"},[e._v("Email:")]),e._v("\n                "+e._s(e.info.prospect.email||"")+"\n              ")]),e._v(" "),e.info.prospect.township?a("v-list-item-subtitle",{staticClass:"body-1"},[a("span",{staticClass:"text--primary"},[e._v("Ciudad:")]),e._v("\n                "+e._s(e.info.prospect.township.name)+",\n                "+e._s(e.info.prospect.township.estate.name)+"\n              ")]):e._e(),e._v(" "),a("v-list-item-subtitle",{staticClass:"body-1"},[a("span",{staticClass:"text--primary"},[e._v("Rancho o Provincia:")]),e._v("\n                "+e._s(e.info.prospect.town||"")+"\n              ")])],1)],1)],1)],1)],1),e._v(" "),a("v-list-item",[a("v-list-item-icon",{directives:[{name:"show",rawName:"v-show",value:this.$vuetify.breakpoint.mdAndUp,expression:"this.$vuetify.breakpoint.mdAndUp"}]},[a("v-icon",{attrs:{color:"indigo"}},[e._v(" mdi-account-box-outline ")])],1),e._v(" "),a("v-list-item-content",{staticClass:"px-2"},[a("v-card",{staticClass:"mx-auto",attrs:{outlined:"",elevation:"4",color:"cyan lighten-5"}},[a("v-toolbar",{staticClass:"overline",attrs:{flat:"",dense:""}},[e._v("\n            Ejecutivo y Sucursal\n            "),a("v-spacer")],1),e._v(" "),a("v-divider"),e._v(" "),a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("v-list-item-subtitle",[e._v("\n                Ejecutivo asignado:\n              ")]),e._v(" "),a("v-list-item-title",{staticClass:"headline mb-1"},[e._v("\n                "+e._s(e.info.attended_by)+"\n              ")]),e._v(" "),a("v-list-item-subtitle",[e._v("\n                "+e._s(e.info.attended_email)+"\n              ")]),e._v(" "),a("v-list-item-subtitle",[e._v("\n                "+e._s(e.info.agency)+" - "+e._s(e.info.department)+"\n              ")])],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,"232d023c",null).exports;function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){c(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var u={props:{Tracking:{required:!0,type:Object}},data:function(){return{valid:!0,loading:!1,dialogCalendar:!1,form:{message:null,price:0,invoice:null,currency:null,assertiveness:.1,tracking_condition:null,date_next_tracking:null,type_contacted:"Llamada",estatus:"activo"},options:{type_contacted:["Llamada","Visita Campo","En Agencia"],condition:["Por definir","Contado","Financiamiento","Renta"],assertiveness:o}}},mounted:function(){this.form.price=this.Tracking.price,this.form.currency=this.Tracking.currency,this.form.tracking_condition=this.Tracking.tracking_condition,this.form.assertiveness=this.Tracking.assertiveness,this.form.estatus=this.setEstatus()},methods:{submit:function(){if(this.$refs.form.validate()){var e=this,t=l(l({},e.form),{},{last_assertiveness:"formalizado"==e.form.estatus?1:e.form.assertiveness,assertiveness:"formalizado"==e.form.estatus?1:e.form.assertiveness,last_price:e.form.price,last_currency:e.form.currency});axios.put("/admin/tracking/historical/"+e.Tracking.id,t).then((function(){e.$refs.form.resetValidation(),e.$eventBus.$emit("MESSAGE_ADDED"),e.$eventBus.$emit("NOTIFICATION"),e.$store.commit("showSnackbar",{message:response.data.message,color:"success",duration:3e3})})).catch((function(t){e.$store.commit("hideLoader"),t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)})),this.form.message=null}},changeCurrency:function(){this.form.currency="MXN"===this.form.currency?"USD":"MXN"},setEstatus:function(){return this.$gate.auth().id==this.Tracking.owner?"activo":"formalizado"==this.Tracking.estatus.key?"formalizado":"finalizado"}}},d=Object(n.a)(u,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.Tracking?a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-radio-group",{staticClass:"my-2",attrs:{row:"","hide-details":""},model:{value:e.form.estatus,callback:function(t){e.$set(e.form,"estatus",t)},expression:"form.estatus"}},["activo"==e.Tracking.estatus.key&&e.$gate.auth().id==e.Tracking.owner?a("v-radio",{attrs:{label:"Proximo Seguimiento",value:"activo"}}):e._e(),e._v(" "),a("v-radio",{attrs:{label:"Finalizar Seguimiento",value:"finalizado"}}),e._v(" "),a("v-radio",{attrs:{label:"Formalizar Seguimiento",value:"formalizado"}})],1),e._v(" "),a("v-card",{staticClass:"pa-2",attrs:{color:"grey lighten-4"}},[a("v-row",{attrs:{align:"center"}},["activo"==e.form.estatus&&e.$gate.auth().id==e.Tracking.owner?a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-dialog",{ref:"dialog",attrs:{"return-value":e.form.date_next_tracking,persistent:"",transition:"scale-transition",width:"324px"},on:{"update:returnValue":function(t){return e.$set(e.form,"date_next_tracking",t)},"update:return-value":function(t){return e.$set(e.form,"date_next_tracking",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({staticClass:"my-3",attrs:{label:"Fecha Proximo Seguimiento","prepend-icon":"mdi-calendar",dense:"",readonly:"",rules:[function(e){return!!e||"Requerido"}],outlined:"","hide-details":"",filled:""},model:{value:e.form.date_next_tracking,callback:function(t){e.$set(e.form,"date_next_tracking",t)},expression:"form.date_next_tracking"}},"v-text-field",i,!1),o))]}}],null,!1,212806903),model:{value:e.dialogCalendar,callback:function(t){e.dialogCalendar=t},expression:"dialogCalendar"}},[e._v(" "),a("v-date-picker",{attrs:{scrollable:"",min:(new Date).toISOString().substr(0,10)},model:{value:e.form.date_next_tracking,callback:function(t){e.$set(e.form,"date_next_tracking",t)},expression:"form.date_next_tracking"}},[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialogCalendar=!1}}},[e._v("\n              Cancel\n            ")]),e._v(" "),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialog.save(e.form.date_next_tracking)}}},[e._v("\n              OK\n            ")])],1)],1)],1):e._e(),e._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-select",{attrs:{items:e.options.assertiveness,label:"Certeza:",rules:[function(e){return!!e||"Requerido"}],outlined:"",dense:"",filled:"","hide-details":""},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-list-item-content",[a("v-list-item-title",{staticClass:"overline",domProps:{textContent:e._s(t.item.text)}})],1),e._v(" "),a("v-list-item-action",[a("v-btn",{attrs:{color:t.item.color,dark:""}},[e._v("\n                "+e._s(e._f("percent")(t.item.value))+"\n              ")])],1)]}}],null,!1,415883561),model:{value:e.form.assertiveness,callback:function(t){e.$set(e.form,"assertiveness",t)},expression:"form.assertiveness"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-select",{attrs:{items:e.options.condition,label:"Condicion de operacion:",rules:[function(e){return!!e||"Requerido"}],outlined:"",dense:"",filled:"","hide-details":""},model:{value:e.form.tracking_condition,callback:function(t){e.$set(e.form,"tracking_condition",t)},expression:"form.tracking_condition"}})],1),e._v(" "),"formalizado"==e.form.estatus?a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"#Pedido o Factura:",outlined:"",rules:[function(e){return!!e||"Requerido"}],dense:"","hide-details":"",filled:""},model:{value:e.form.invoice,callback:function(t){e.$set(e.form,"invoice",t)},expression:"form.invoice"}})],1):e._e()],1),e._v(" "),a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{"hide-details":"",label:"Ultimo Precio a Tratar:",outlined:"",dense:"",rules:[function(e){return!!e||"Requerido"}],reverse:"",type:"number","append-icon":"mdi-currency-usd",filled:""},scopedSlots:e._u([{key:"prepend-inner",fn:function(){return[a("v-btn",{attrs:{small:"",text:""},on:{click:function(t){return e.changeCurrency()}}},[e._v("\n              "+e._s(e.form.currency)+"\n            ")])]},proxy:!0}],null,!1,1240318378),model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-select",{attrs:{items:e.options.type_contacted,label:"Medio Contacto:",rules:[function(e){return!!e||"Requerido"}],"hide-details":"",dense:"",outlined:"",filled:""},model:{value:e.form.type_contacted,callback:function(t){e.$set(e.form,"type_contacted",t)},expression:"form.type_contacted"}})],1)],1),e._v(" "),a("v-textarea",{staticClass:"title",attrs:{label:"Escribir Comentario...",rules:[function(e){return!!e||"Requerido"}],outlined:"",filled:""},model:{value:e.form.message,callback:function(t){e.$set(e.form,"message",t)},expression:"form.message"}}),e._v(" "),a("v-btn",{attrs:{depressed:"",block:"",disabled:!e.valid,color:"success"},on:{click:e.submit}},[e._v("\n      Enviar\n      "),a("v-icon",{attrs:{right:"",dark:""}},[e._v(" mdi-send ")])],1)],1)],1):e._e()}),[],!1,null,null,null).exports,m=a(10);function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){f(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var g={components:{HistoricalForm:d},props:{Tracking:{required:!0},timeline:{required:!0,type:Array}},computed:p(p({},Object(m.b)(["Assertiveness"])),{},{initials:function(){var e=this.$gate.auth().name.split(" "),t=e[0].substring(0,1).toUpperCase();return e.length>1&&(t+=e[e.length-1].substring(0,1).toUpperCase()),{init:t,full_name:this.$gate.auth().name}},owner:function(){return this.$gate.auth().id}}),methods:{percenAssertiveness:function(e){return this.Assertiveness.find((function(t){return t.value==e}))}}},h=Object(n.a)(g,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-timeline",{attrs:{dense:"",clipped:""}},[e.Tracking.assertiveness<1?a("v-timeline-item",{staticClass:"white--text mb-6",attrs:{"fill-dot":"",color:"orange",large:""},scopedSlots:e._u([{key:"icon",fn:function(){return[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("span",e._g(e._b({},"span",i,!1),o),[e._v(e._s(e.initials.init))])]}}],null,!1,3826819275)},[e._v(" "),a("span",[e._v(e._s(e.initials.full_name))])])]},proxy:!0}],null,!1,295424699)},[e._v(" "),a("historical-form",{attrs:{Tracking:e.Tracking}})],1):e._e(),e._v(" "),a("v-slide-x-transition",{attrs:{group:""}},e._l(e.timeline,(function(t){return a("v-timeline-item",{key:t.id,staticClass:"mb-2",attrs:{color:"pink",small:""}},[a("v-row",{staticClass:"overline",attrs:{align:"center","no-gutters":""}},[a("v-col",{attrs:{cols:"12",md:"7"}},[a("div",{staticClass:"d-flex flex-column"},[a("div",{staticClass:"blue-grey lighten-5 elevation-2 pa-3"},[a("p",{domProps:{textContent:e._s(t.message)}})]),e._v(" "),t.date_next_tracking?a("span",{staticClass:"overline"},[e._v("\n              Fecha del seguimiento:\n              "+e._s(e.$appFormatters.formatDate(t.date_next_tracking,"LL hh:mm"))+"\n            ")]):e._e()])]),e._v(" "),a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(o){var i=o.on,n=o.attrs;return[a("v-progress-circular",e._g(e._b({attrs:{rotate:360,size:64,width:5,value:100*e.percenAssertiveness(t.last_assertiveness).value,color:e.percenAssertiveness(t.last_assertiveness).color,dark:""}},"v-progress-circular",n,!1),i),[e._v("\n                "+e._s(e._f("percent")(e.percenAssertiveness(t.last_assertiveness).value))+"\n              ")])]}}],null,!0)},[e._v(" "),a("span",[e._v("\n              "+e._s(e.percenAssertiveness(t.last_assertiveness).text)+"\n            ")])])],1),e._v(" "),a("v-col",{staticClass:"text-right",attrs:{cols:"12",md:"3"}},[t.invoice?a("div",{staticClass:"caption"},[e._v("\n            "+e._s("Factura/Pedido: "+t.invoice)+"\n          ")]):e._e(),e._v(" "),a("div",[e._v("\n            "+e._s(e.$appFormatters.formatDate(t.created_at,"DD MMM YYYY hh:mm"))+"\n          ")]),e._v(" "),a("div",{staticClass:"caption"},[e._v("\n            "+e._s(e._f("currency")(t.last_price))+" "+e._s(t.last_currency)+"\n          ")]),e._v(" "),a("div",{staticClass:"caption"},[e._v(e._s(t.user))]),e._v(" "),a("div",{staticClass:"caption blue--text"},[e._v("\n            "+e._s(t.type_contacted)+"\n          ")])])],1)],1)})),1)],1)}),[],!1,null,null,null).exports,_={props:["sellerId","trackingId"],data:function(){return{valid:!1,form:{message:null}}},mounted:function(){},methods:{clearMessage:function(){this.$refs.form.reset()},sendMessage:function(){if(this.$refs.form.validate()){var e=this,t={recipient_id:this.sellerId,tracking_id:this.trackingId,msg:this.form.message};axios.post("/admin/tracking/message",t).then((function(){e.$refs.form.reset(),e.$eventBus.$emit("MESSAGE_SEND"),e.$eventBus.$emit("NOTIFICATION"),e.$store.commit("showSnackbar",{message:response.data.message,color:"success",duration:3e3})})).catch((function(t){e.$store.commit("hideLoader"),t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)}))}}}},b={name:"MessageTracking",components:{Message:Object(n.a)(_,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{staticClass:"px-4",attrs:{"append-outer-icon":"mdi-send",outlined:"",filled:"",solo:"","clear-icon":"mdi-close-circle",clearable:"",label:"Mensaje",type:"text"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMessage(t)},"click:append-outer":e.sendMessage,"click:clear":e.clearMessage},model:{value:e.form.message,callback:function(t){e.$set(e.form,"message",t)},expression:"form.message"}})],1)}),[],!1,null,null,null).exports},props:["sellerId","trackingId"],data:function(){return{messages:[]}},mounted:function(){var e=this;this.loadMessages(),this.$eventBus.$on(["MESSAGE_SEND"],(function(){e.loadMessages()}))},methods:{initials:function(e){var t=e.split(" "),a=t[0].substring(0,1).toUpperCase();return t.length>1&&(a+=t[t.length-1].substring(0,1).toUpperCase()),{init:a,full_name:e}},loadMessages:function(){var e=this;axios.get("/admin/tracking/messages/"+this.trackingId).then((function(t){e.messages=t.data.data.messages}))}}},x={components:{CardInfoTracking:r,HistoricalTracking:h,MessageTracking:Object(n.a)(b,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"pa-2",attrs:{color:"grey lighten-4"}},[a("v-col",{staticClass:"border",attrs:{cols:"12"}},[a("v-sheet",{staticClass:"overflow-y-auto",attrs:{"max-height":"400"}},[a("v-slide-x-transition",{attrs:{group:""}},e._l(e.messages,(function(t){return a("v-app-bar",{key:t.id,staticClass:"mb-16",attrs:{color:"rgba(0,0,0,0)",flat:""}},[t.sender_id==e.$gate.auth().id?a("v-spacer"):a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(o){var i=o.on,n=o.attrs;return[a("v-avatar",{attrs:{color:"indigo",size:"40",elevation:"10"}},[a("span",e._g(e._b({staticClass:"white--text overline"},"span",n,!1),i),[e._v("\n                  "+e._s(e.initials(t.sender.name).init)+"\n                ")])])]}}],null,!0)},[e._v(" "),a("span",[e._v(e._s(e.initials(t.sender.name).full_name))])]),e._v(" "),a("v-card",{staticClass:"mt-10 mx-2",attrs:{"max-width":"350px",color:t.sender_id==e.$gate.auth().id?"blue":"grey darken-3",dark:""}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("div",{staticClass:" mb-4"},[e._v("\n                  "+e._s(t.msg)+"\n                ")]),e._v(" "),a("v-list-item-subtitle",[e._v("\n                  hace\n                  "+e._s(e.$appFormatters.formatTimeFromNow(t.created_at))+"\n                ")])],1)],1)],1),e._v(" "),t.sender_id==e.$gate.auth().id?a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(o){var i=o.on,n=o.attrs;return[a("v-avatar",{attrs:{color:"indigo",size:"40",elevation:"10"}},[a("span",e._g(e._b({staticClass:"white--text overline"},"span",n,!1),i),[e._v("\n                  "+e._s(e.initials(t.sender.name).init)+"\n                ")])])]}}],null,!0)},[e._v(" "),a("span",[e._v(e._s(e.initials(t.sender.name).full_name))])]):e._e()],1)})),1)],1)],1),e._v(" "),a("message",{attrs:{"seller-id":e.sellerId,"tracking-id":e.trackingId}})],1)}),[],!1,null,null,null).exports},props:{propTrackingId:{required:!0,type:[Number,String]}},data:function(){return{Tracking:null,tab:null,items:["Seguimiento","Mensajes"]}},mounted:function(){var e=this;e.loadTracking((function(){})),e.$eventBus.$on(["MESSAGE_ADDED"],(function(){e.loadTracking((function(){}))}))},computed:{timeline:function(){return this.Tracking.historical.slice().reverse()},propTracking:function(){var e=this.Tracking.detail,t=e.id,a=e.price,o=e.currency,i=e.tracking_condition,n=e.assertiveness;return{id:t,price:a,currency:o,estatus:this.Tracking.estatus,tracking_condition:i,assertiveness:n,owner:this.Tracking.owner}}},methods:{loadTracking:function(e){var t=this;axios.get("/admin/tracking/"+t.propTrackingId).then((function(a){t.Tracking=a.data.data,e()}))}}},y=(a(209),Object(n.a)(x,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[e.Tracking?a("v-row",[e.Tracking?a("v-col",{attrs:{cols:"12",md:"5"}},[a("card-info-tracking",{attrs:{info:e.Tracking}})],1):e._e(),e._v(" "),e.Tracking.historical?a("v-col",{attrs:{cols:"12",md:"7"}},[a("v-tabs",{attrs:{"background-color":"transparent",centered:"",grow:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.items,(function(t){return a("v-tab",{key:t},["Mensajes"==t?[a("v-badge",{attrs:{color:"deep-purple accent-4",icon:"mdi-bell"}},[e._v("\n              "+e._s(t)+"\n            ")])]:[e._v(e._s(t))]],2)})),1),e._v(" "),a("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab-item",[a("historical-tracking",{attrs:{Tracking:e.propTracking,timeline:e.timeline}})],1),e._v(" "),a("v-tab-item",[a("message-tracking",{attrs:{"seller-id":e.Tracking.owner,"tracking-id":e.Tracking.detail.id}})],1)],1)],1):e._e()],1):e._e()],1)}),[],!1,null,"4ca490d3",null));t.default=y.exports},function(e,t,a){"use strict";a.r(t);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var r={components:{GpsForm:a(151).a},props:{propGpsId:{required:!0,type:[String,Number]}},data:function(){return{valid:!0,form:{},options:{groups:[],chips:[],types:["CONTADO","CREDITO","CARGO"]},desserts:[{name:"MXN",calories:159},{name:"MXN",calories:237}]}},mounted:function(){this.loadGps((function(){})),this.loadOptions((function(){}))},methods:{save:function(){if(this.$refs.form.validate()){var e=this;axios.put("/admin/gps/".concat(e.propGpsId),e.form).then((function(t){e.$store.commit("showSnackbar",{message:t.data.message,color:"success",duration:3e3}),e.$eventBus.$emit("GPS_REFRESH")})).catch((function(t){t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)}))}},loadGps:function(e){var t=this;axios.get("/admin/gps/"+t.propGpsId+"/edit").then((function(e){var a=e.data.data;t.form=i(i({},a),{},{installation_date:t.$appFormatters.formatDate(a.installation_date),renew_date:t.$appFormatters.formatDate(a.renew_date),invoice_date:a.invoice_date?t.$appFormatters.formatDate(a.invoice_date||""):null}),t.$store.commit("showSnackbar",{message:e.data.message,color:"success",duration:3e3})})).catch((function(e){t.$store.commit("hideLoader"),e.response?t.$store.commit("showSnackbar",{message:e.response.data.message,color:"error",duration:3e3}):e.request?console.log(e.request):console.log("Error",e.message)})),e()},loadOptions:function(e){var t=this;axios.get("/admin/gps/search/resources").then((function(a){t.options.chips=a.data.data.chips,t.options.groups=a.data.data.groups,(e||Function)()}))}}},s=a(0),l=Object(s.a)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{flat:""}},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[a("v-icon",[e._v("mdi-crosshairs")]),e._v(" Detalle del GPS\n    ")],1),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"success"},on:{click:e.save}},[e._v("\n      Editar\n      "),a("v-icon",{attrs:{right:""}},[e._v("mdi-pencil")])],1)],1),e._v(" "),a("v-divider",{staticClass:"mb-3"}),e._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("gps-form",{attrs:{form:e.form,options:e.options,editing:""},on:{"update:form":function(t){e.form=t}}})],1)],1),e._v(" "),a("v-card-text",[a("v-simple-table",{staticClass:"caption text-uppercase",attrs:{"max-height":"300","fixed-header":"",dense:"",dark:""},scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[e._v("\n              Factura\n            ")]),e._v(" "),a("th",{staticClass:"text-left"},[e._v("\n              Importe Moneda\n            ")]),e._v(" "),a("th",{staticClass:"text-left"},[e._v("\n              Fecha Facturacion\n            ")])])]),e._v(" "),a("tbody",e._l(e.desserts,(function(t,o){return a("tr",{key:o},[a("td",[e._v(e._s(t.calories))]),e._v(" "),a("td",[e._v(e._s(e._f("currency")(t.calories))+" "+e._s(t.name))]),e._v(" "),a("td",[e._v("01-01-2020")])])})),0)]},proxy:!0}])})],1)],1)}),[],!1,null,null,null);t.default=l.exports},function(e,t,a){var o={"./af":11,"./af.js":11,"./ar":12,"./ar-dz":13,"./ar-dz.js":13,"./ar-kw":14,"./ar-kw.js":14,"./ar-ly":15,"./ar-ly.js":15,"./ar-ma":16,"./ar-ma.js":16,"./ar-sa":17,"./ar-sa.js":17,"./ar-tn":18,"./ar-tn.js":18,"./ar.js":12,"./az":19,"./az.js":19,"./be":20,"./be.js":20,"./bg":21,"./bg.js":21,"./bm":22,"./bm.js":22,"./bn":23,"./bn.js":23,"./bo":24,"./bo.js":24,"./br":25,"./br.js":25,"./bs":26,"./bs.js":26,"./ca":27,"./ca.js":27,"./cs":28,"./cs.js":28,"./cv":29,"./cv.js":29,"./cy":30,"./cy.js":30,"./da":31,"./da.js":31,"./de":32,"./de-at":33,"./de-at.js":33,"./de-ch":34,"./de-ch.js":34,"./de.js":32,"./dv":35,"./dv.js":35,"./el":36,"./el.js":36,"./en-au":37,"./en-au.js":37,"./en-ca":38,"./en-ca.js":38,"./en-gb":39,"./en-gb.js":39,"./en-ie":40,"./en-ie.js":40,"./en-il":41,"./en-il.js":41,"./en-in":42,"./en-in.js":42,"./en-nz":43,"./en-nz.js":43,"./en-sg":44,"./en-sg.js":44,"./eo":45,"./eo.js":45,"./es":46,"./es-do":47,"./es-do.js":47,"./es-us":48,"./es-us.js":48,"./es.js":46,"./et":49,"./et.js":49,"./eu":50,"./eu.js":50,"./fa":51,"./fa.js":51,"./fi":52,"./fi.js":52,"./fil":53,"./fil.js":53,"./fo":54,"./fo.js":54,"./fr":55,"./fr-ca":56,"./fr-ca.js":56,"./fr-ch":57,"./fr-ch.js":57,"./fr.js":55,"./fy":58,"./fy.js":58,"./ga":59,"./ga.js":59,"./gd":60,"./gd.js":60,"./gl":61,"./gl.js":61,"./gom-deva":62,"./gom-deva.js":62,"./gom-latn":63,"./gom-latn.js":63,"./gu":64,"./gu.js":64,"./he":65,"./he.js":65,"./hi":66,"./hi.js":66,"./hr":67,"./hr.js":67,"./hu":68,"./hu.js":68,"./hy-am":69,"./hy-am.js":69,"./id":70,"./id.js":70,"./is":71,"./is.js":71,"./it":72,"./it-ch":73,"./it-ch.js":73,"./it.js":72,"./ja":74,"./ja.js":74,"./jv":75,"./jv.js":75,"./ka":76,"./ka.js":76,"./kk":77,"./kk.js":77,"./km":78,"./km.js":78,"./kn":79,"./kn.js":79,"./ko":80,"./ko.js":80,"./ku":81,"./ku.js":81,"./ky":82,"./ky.js":82,"./lb":83,"./lb.js":83,"./lo":84,"./lo.js":84,"./lt":85,"./lt.js":85,"./lv":86,"./lv.js":86,"./me":87,"./me.js":87,"./mi":88,"./mi.js":88,"./mk":89,"./mk.js":89,"./ml":90,"./ml.js":90,"./mn":91,"./mn.js":91,"./mr":92,"./mr.js":92,"./ms":93,"./ms-my":94,"./ms-my.js":94,"./ms.js":93,"./mt":95,"./mt.js":95,"./my":96,"./my.js":96,"./nb":97,"./nb.js":97,"./ne":98,"./ne.js":98,"./nl":99,"./nl-be":100,"./nl-be.js":100,"./nl.js":99,"./nn":101,"./nn.js":101,"./oc-lnc":102,"./oc-lnc.js":102,"./pa-in":103,"./pa-in.js":103,"./pl":104,"./pl.js":104,"./pt":105,"./pt-br":106,"./pt-br.js":106,"./pt.js":105,"./ro":107,"./ro.js":107,"./ru":108,"./ru.js":108,"./sd":109,"./sd.js":109,"./se":110,"./se.js":110,"./si":111,"./si.js":111,"./sk":112,"./sk.js":112,"./sl":113,"./sl.js":113,"./sq":114,"./sq.js":114,"./sr":115,"./sr-cyrl":116,"./sr-cyrl.js":116,"./sr.js":115,"./ss":117,"./ss.js":117,"./sv":118,"./sv.js":118,"./sw":119,"./sw.js":119,"./ta":120,"./ta.js":120,"./te":121,"./te.js":121,"./tet":122,"./tet.js":122,"./tg":123,"./tg.js":123,"./th":124,"./th.js":124,"./tk":125,"./tk.js":125,"./tl-ph":126,"./tl-ph.js":126,"./tlh":127,"./tlh.js":127,"./tr":128,"./tr.js":128,"./tzl":129,"./tzl.js":129,"./tzm":130,"./tzm-latn":131,"./tzm-latn.js":131,"./tzm.js":130,"./ug-cn":132,"./ug-cn.js":132,"./uk":133,"./uk.js":133,"./ur":134,"./ur.js":134,"./uz":135,"./uz-latn":136,"./uz-latn.js":136,"./uz.js":135,"./vi":137,"./vi.js":137,"./x-pseudo":138,"./x-pseudo.js":138,"./yo":139,"./yo.js":139,"./zh-cn":140,"./zh-cn.js":140,"./zh-hk":141,"./zh-hk.js":141,"./zh-mo":142,"./zh-mo.js":142,"./zh-tw":143,"./zh-tw.js":143};function i(e){var t=n(e);return a(t)}function n(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}i.keys=function(){return Object.keys(o)},i.resolve=n,e.exports=i,i.id=157},,,,function(e,t){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},,,,,function(e,t,a){(function(e){var o=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function n(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new n(i.call(setTimeout,o,arguments),clearTimeout)},t.setInterval=function(){return new n(i.call(setInterval,o,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(o,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},a(153),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,a(6))},function(e,t,a){var o=a(203);"string"==typeof o&&(o=[[e.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(5)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,a){var o=a(206);"string"==typeof o&&(o=[[e.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(5)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,a){var o=a(208);"string"==typeof o&&(o=[[e.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(5)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,a){var o=a(210);"string"==typeof o&&(o=[[e.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(5)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,a){var o=a(212);"string"==typeof o&&(o=[[e.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(5)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,a){var o=a(214);"string"==typeof o&&(o=[[e.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(5)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,a){var o=a(216);"string"==typeof o&&(o=[[e.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(5)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,a){var o=a(218);"string"==typeof o&&(o=[[e.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(5)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,a){var o=a(220);"string"==typeof o&&(o=[[e.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(5)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,a){var o=a(222);"string"==typeof o&&(o=[[e.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(5)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,a){var o=a(224);"string"==typeof o&&(o=[[e.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(5)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,a){e.exports=function(){"use strict";!function(){if("undefined"!=typeof document){var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style"),a=" .__cov-progress { opacity: 1; z-index: 999999; } ";t.type="text/css",t.styleSheet?t.styleSheet.cssText=a:t.appendChild(document.createTextNode(a)),e.appendChild(t)}}();var e="undefined"!=typeof window,t={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"__cov-progress",style:e.style})},staticRenderFns:[],name:"VueProgress",serverCacheKey:function(){return"Progress"},computed:{style:function(){var e=this.progress,t=e.options,a=!!t.show,o=t.location,i={"background-color":t.canSuccess?t.color:t.failedColor,opacity:t.show?1:0,position:t.position};return"top"===o||"bottom"===o?("top"===o?i.top="0px":i.bottom="0px",t.inverse?i.right="0px":i.left="0px",i.width=e.percent+"%",i.height=t.thickness,i.transition=(a?"width "+t.transition.speed+", ":"")+"opacity "+t.transition.opacity):"left"!==o&&"right"!==o||("left"===o?i.left="0px":i.right="0px",t.inverse?i.top="0px":i.bottom="0px",i.height=e.percent+"%",i.width=t.thickness,i.transition=(a?"height "+t.transition.speed+", ":"")+"opacity "+t.transition.opacity),i},progress:function(){return e?window.VueProgressBarEventBus.RADON_LOADING_BAR:{percent:0,options:{canSuccess:!0,show:!1,color:"rgb(19, 91, 55)",failedColor:"red",thickness:"2px",transition:{speed:"0.2s",opacity:"0.6s",termination:300},location:"top",autoRevert:!0,inverse:!1}}}}};return{install:function(e){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=(e.version.split(".")[0],"undefined"!=typeof window),i={$vm:null,state:{tFailColor:"",tColor:"",timer:null,cut:0},init:function(e){this.$vm=e},start:function(e){var t=this;this.$vm&&(e||(e=3e3),this.$vm.RADON_LOADING_BAR.percent=0,this.$vm.RADON_LOADING_BAR.options.show=!0,this.$vm.RADON_LOADING_BAR.options.canSuccess=!0,this.state.cut=1e4/Math.floor(e),clearInterval(this.state.timer),this.state.timer=setInterval((function(){t.increase(t.state.cut*Math.random()),95<t.$vm.RADON_LOADING_BAR.percent&&t.$vm.RADON_LOADING_BAR.options.autoFinish&&t.finish()}),100))},set:function(e){this.$vm.RADON_LOADING_BAR.options.show=!0,this.$vm.RADON_LOADING_BAR.options.canSuccess=!0,this.$vm.RADON_LOADING_BAR.percent=Math.floor(e)},get:function(){return Math.floor(this.$vm.RADON_LOADING_BAR.percent)},increase:function(e){this.$vm.RADON_LOADING_BAR.percent=Math.min(99,this.$vm.RADON_LOADING_BAR.percent+Math.floor(e))},decrease:function(e){this.$vm.RADON_LOADING_BAR.percent=this.$vm.RADON_LOADING_BAR.percent-Math.floor(e)},hide:function(){var t=this;clearInterval(this.state.timer),this.state.timer=null,setTimeout((function(){t.$vm.RADON_LOADING_BAR.options.show=!1,e.nextTick((function(){setTimeout((function(){t.$vm.RADON_LOADING_BAR.percent=0}),100),t.$vm.RADON_LOADING_BAR.options.autoRevert&&setTimeout((function(){t.revert()}),300)}))}),this.$vm.RADON_LOADING_BAR.options.transition.termination)},pause:function(){clearInterval(this.state.timer)},finish:function(){this.$vm&&(this.$vm.RADON_LOADING_BAR.percent=100,this.hide())},fail:function(){this.$vm.RADON_LOADING_BAR.options.canSuccess=!1,this.$vm.RADON_LOADING_BAR.percent=100,this.hide()},setFailColor:function(e){this.$vm.RADON_LOADING_BAR.options.failedColor=e},setColor:function(e){this.$vm.RADON_LOADING_BAR.options.color=e},setLocation:function(e){this.$vm.RADON_LOADING_BAR.options.location=e},setTransition:function(e){this.$vm.RADON_LOADING_BAR.options.transition=e},tempFailColor:function(e){this.state.tFailColor=this.$vm.RADON_LOADING_BAR.options.failedColor,this.$vm.RADON_LOADING_BAR.options.failedColor=e},tempColor:function(e){this.state.tColor=this.$vm.RADON_LOADING_BAR.options.color,this.$vm.RADON_LOADING_BAR.options.color=e},tempLocation:function(e){this.state.tLocation=this.$vm.RADON_LOADING_BAR.options.location,this.$vm.RADON_LOADING_BAR.options.location=e},tempTransition:function(e){this.state.tTransition=this.$vm.RADON_LOADING_BAR.options.transition,this.$vm.RADON_LOADING_BAR.options.transition=e},revertColor:function(){this.$vm.RADON_LOADING_BAR.options.color=this.state.tColor,this.state.tColor=""},revertFailColor:function(){this.$vm.RADON_LOADING_BAR.options.failedColor=this.state.tFailColor,this.state.tFailColor=""},revertLocation:function(){this.$vm.RADON_LOADING_BAR.options.location=this.state.tLocation,this.state.tLocation=""},revertTransition:function(){this.$vm.RADON_LOADING_BAR.options.transition=this.state.tTransition,this.state.tTransition={}},revert:function(){this.$vm.RADON_LOADING_BAR.options.autoRevert&&(this.state.tColor&&this.revertColor(),this.state.tFailColor&&this.revertFailColor(),this.state.tLocation&&this.revertLocation(),!this.state.tTransition||void 0===this.state.tTransition.speed&&void 0===this.state.tTransition.opacity||this.revertTransition())},parseMeta:function(e){for(var t in e.func){var a=e.func[t];switch(a.call){case"color":switch(a.modifier){case"set":this.setColor(a.argument);break;case"temp":this.tempColor(a.argument)}break;case"fail":switch(a.modifier){case"set":this.setFailColor(a.argument);break;case"temp":this.tempFailColor(a.argument)}break;case"location":switch(a.modifier){case"set":this.setLocation(a.argument);break;case"temp":this.tempLocation(a.argument)}break;case"transition":switch(a.modifier){case"set":this.setTransition(a.argument);break;case"temp":this.tempTransition(a.argument)}}}}},n=function(e,t){for(var a,o,i=1;i<arguments.length;++i)for(a in o=arguments[i])Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);return e}({canSuccess:!0,show:!1,color:"#73ccec",position:"fixed",failedColor:"red",thickness:"2px",transition:{speed:"0.2s",opacity:"0.6s",termination:300},autoRevert:!0,location:"top",inverse:!1,autoFinish:!0},a),r=new e({data:{RADON_LOADING_BAR:{percent:0,options:n}}});o&&(window.VueProgressBarEventBus=r,i.init(r)),e.component("vue-progress-bar",t),e.prototype.$Progress=i}}}()},function(e){e.exports=JSON.parse('[{"Tipo":"Tractor","Marca":"John deere","Modelo":"5090","field4":"EN","Categoria":"Especializados","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"952884.00","Tipo Moneda":"MXN","Potencia HP":"89","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5090","field4":"EN","Categoria":"Especializados","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"SI","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"963900.00","Tipo Moneda":"MXN","Potencia HP":"89","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5090","field4":"EN","Categoria":"Especializados","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"SI","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"1085994.00","Tipo Moneda":"MXN","Potencia HP":"89","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5090","field4":"EN","Categoria":"Especializados","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"SI","Con Cabina":"SI","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"1097010.00","Tipo Moneda":"MXN","Potencia HP":"89","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5076","field4":"EN","Categoria":"Serie 5E","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"880362.00","Tipo Moneda":"MXN","Potencia HP":"77","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5076","field4":"EF","Categoria":"Serie 5E","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"852822.00","Tipo Moneda":"MXN","Potencia HP":"77","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5090","field4":"EH","Categoria":"Especializados","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"1018980.00","Tipo Moneda":"MXN","Potencia HP":"89","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5090","field4":"EH","Categoria":"Especializados","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"SI","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"1048356.00","Tipo Moneda":"MXN","Potencia HP":"89","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5090","field4":"EH","Categoria":"Especializados","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"1095174.00","Tipo Moneda":"MXN","Potencia HP":"89","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5090","field4":"EH","Categoria":"Especializados","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"SI","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"1104354.00","Tipo Moneda":"MXN","Potencia HP":"89","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5090","field4":"EH","Categoria":"Especializados","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"SI","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"1280610.00","Tipo Moneda":"MXN","Potencia HP":"89","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5090","field4":"EH","Categoria":"Especializados","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"SI","Con Cabina":"SI","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"1291626.00","Tipo Moneda":"MXN","Potencia HP":"89","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5065","field4":"E","Categoria":"Serie 5E","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"29869.67","Tipo Moneda":"USD","Potencia HP":"65","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5065","field4":"E","Categoria":"Serie 5E","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"SI","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"38403.99","Tipo Moneda":"USD","Potencia HP":"65","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5055","field4":"E","Categoria":"Serie 5E","Traccion Sencilla":"SI","Doble Traccion":"NO","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"28601.14","Tipo Moneda":"USD","Potencia HP":"55","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5090","field4":"E","Categoria":"Serie 5E","Traccion Sencilla":"SI","Doble Traccion":"NO","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"SI","Ams":"NO","Precio":"840888.00","Tipo Moneda":"MXN","Potencia HP":"92","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5090","field4":"E","Categoria":"Serie 5E","Traccion Sencilla":"SI","Doble Traccion":"NO","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"SI","Ams":"NO","Precio":"912492.00","Tipo Moneda":"MXN","Potencia HP":"92","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5090","field4":"E","Categoria":"Serie 5E","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"971244.00","Tipo Moneda":"MXN","Potencia HP":"92","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5090","field4":"E","Categoria":"Serie 5E","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"1033668.00","Tipo Moneda":"MXN","Potencia HP":"92","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5090","field4":"E","Categoria":"Serie 5E","Traccion Sencilla":"SI","Doble Traccion":"NO","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"SI","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"SI","Ams":"NO","Precio":"1021734.00","Tipo Moneda":"MXN","Potencia HP":"92","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5090","field4":"E","Categoria":"Serie 5E","Traccion Sencilla":"SI","Doble Traccion":"NO","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"SI","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"SI","Ams":"NO","Precio":"1095174.00","Tipo Moneda":"MXN","Potencia HP":"92","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5090","field4":"E","Categoria":"Serie 5E","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"SI","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"1167696.00","Tipo Moneda":"MXN","Potencia HP":"92","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5090","field4":"E","Categoria":"Serie 5E","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"SI","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"1244808.00","Tipo Moneda":"MXN","Potencia HP":"92","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5082","field4":"E","Categoria":"Serie 5E","Traccion Sencilla":"SI","Doble Traccion":"NO","Power Reverser":"NO","Dual":"NO","Turbo":"SI","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"SI","Ams":"NO","Precio":"743580.00","Tipo Moneda":"MXN","Potencia HP":"77","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5082","field4":"E","Categoria":"Serie 5E","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"NO","Dual":"NO","Turbo":"SI","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"852822.00","Tipo Moneda":"MXN","Potencia HP":"77","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5082","field4":"E","Categoria":"Serie 5E","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"934524.00","Tipo Moneda":"MXN","Potencia HP":"77","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5082","field4":"E","Categoria":"Serie 5E","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"SI","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"1055700.00","Tipo Moneda":"MXN","Potencia HP":"77","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5082","field4":"E","Categoria":"Serie 5E","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"SI","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"1040000.00","Tipo Moneda":"MXN","Potencia HP":"77","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5076","field4":"E","Categoria":"Serie 5E","Traccion Sencilla":"SI","Doble Traccion":"NO","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"630666.00","Tipo Moneda":"MXN","Potencia HP":"77","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5076","field4":"E","Categoria":"Serie 5E","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"774792.00","Tipo Moneda":"MXN","Potencia HP":"77","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5045","field4":"D","Categoria":"Serie 5D","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"22090.34","Tipo Moneda":"USD","Potencia HP":"45","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5415","field4":" ","Categoria":"Serie 5015","Traccion Sencilla":"SI","Doble Traccion":"NO","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"557226.00","Tipo Moneda":"MXN","Potencia HP":"77","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5415","field4":" ","Categoria":"Serie 5015","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"696762.00","Tipo Moneda":"MXN","Potencia HP":"77","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5715","field4":" ","Categoria":"Serie 5015","Traccion Sencilla":"SI","Doble Traccion":"NO","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"SI","Ams":"NO","Precio":"759186.00","Tipo Moneda":"MXN","Potencia HP":"89","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"5715","field4":" ","Categoria":"Serie 5015","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"887706.00","Tipo Moneda":"MXN","Potencia HP":"89","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"6105","field4":"J HC","Categoria":"Serie 6J","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"SI","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"1289790.00","Tipo Moneda":"MXN","Potencia HP":"105","Extencion a 2 metros (MXN)":"30,000.00","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"6105","field4":"J HC","Categoria":"Serie 6J","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"SI","Con Cabina":"SI","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"1610790.00","Tipo Moneda":"MXN","Potencia HP":"105","Extencion a 2 metros (MXN)":"30,000.00","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"6140","field4":"JH","Categoria":"Serie 6J","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"SI","Con Cabina":"SI","Configuracion Especial Llantas":"SI","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"2150874.00","Tipo Moneda":"MXN","Potencia HP":"139","Extencion a 2 metros (MXN)":"30,000.00","LLanta delgada (Modelo)":"90R50","Doble rodado (MXN)":"90,000.00","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"6195","field4":"M","Categoria":"Serie 6M","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"SI","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"162655.00","Tipo Moneda":"USD","Potencia HP":"206","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"6195","field4":"M","Categoria":"Serie 6M","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"SI","Doble rodado":"NO","Angosto":"NO","Ams":"SI","Precio":"174778.35","Tipo Moneda":"USD","Potencia HP":"206","AMS (opcional) USD":"Sin Anualidad"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"6175","field4":"M","Categoria":"Serie 6M","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"SI","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"146490.53","Tipo Moneda":"USD","Potencia HP":"175","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"6175","field4":"M","Categoria":"Serie 6M","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"SI","Doble rodado":"NO","Angosto":"NO","Ams":"SI","Precio":"161644.72","Tipo Moneda":"USD","Potencia HP":"175","AMS (opcional) USD":"Sin Anualidad"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"6140","field4":"J","Categoria":"Serie 6J","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"NO","Dual":"SI","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"SI","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"1827738.00","Tipo Moneda":"MXN","Potencia HP":"139","Doble rodado (MXN)":"90000","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"6140","field4":"J","Categoria":"Serie 6J","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"SI","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"1745118.00","Tipo Moneda":"MXN","Potencia HP":"139","Doble rodado (MXN)":"90000","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"6140","field4":"J","Categoria":"Serie 6J","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"NO","Dual":"SI","Turbo":"NO","Creeper":"NO","Con Cabina":"SI","Configuracion Especial Llantas":"SI","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"2041632.00","Tipo Moneda":"MXN","Potencia HP":"139","Doble rodado (MXN)":"90000","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"6140","field4":"J","Categoria":"Serie 6J","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"SI","Configuracion Especial Llantas":"SI","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"1959012.00","Tipo Moneda":"MXN","Potencia HP":"139","Doble rodado (MXN)":"90000","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"6190","field4":"J","Categoria":"Serie 6J","Traccion Sencilla":"NO","Doble Traccion":"NO","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"6170","field4":"J","Categoria":"Serie 6J","Traccion Sencilla":"NO","Doble Traccion":"NO","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"6155","field4":"J","Categoria":"Serie 6J","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"NO","Dual":"SI","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"SI","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"1990224.00","Tipo Moneda":"MXN","Potencia HP":"155","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"6155","field4":"J","Categoria":"Serie 6J","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"SI","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"1907604.00","Tipo Moneda":"MXN","Potencia HP":"155","Doble rodado (MXN)":"80000","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"6155","field4":"J","Categoria":"Serie 6J","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"SI","Configuracion Especial Llantas":"SI","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"2169234.00","Tipo Moneda":"MXN","Potencia HP":"155","Doble rodado (MXN)":"80000","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"6155","field4":"J","Categoria":"Serie 6J","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"NO","Dual":"SI","Turbo":"NO","Creeper":"NO","Con Cabina":"SI","Configuracion Especial Llantas":"SI","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"2253690.00","Tipo Moneda":"MXN","Potencia HP":"155","Doble rodado (MXN)":"80000","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"6105","field4":"J","Categoria":"Serie 6J","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"1226448.00","Tipo Moneda":"MXN","Potencia HP":"105","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"6105","field4":"J","Categoria":"Serie 6J","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"SI","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"1398200.00","Tipo Moneda":"MXN","Potencia HP":"105","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"6125","field4":"E","Categoria":"Serie 6E","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"1409130.00","Tipo Moneda":"MXN","Potencia HP":"123","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"6125","field4":"E","Categoria":"Serie 6E","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"SI","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"1652400.00","Tipo Moneda":"MXN","Potencia HP":"123","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"6110","field4":"E","Categoria":"Serie 6E","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"1225530.00","Tipo Moneda":"MXN","Potencia HP":"118","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"6110","field4":"E","Categoria":"Serie 6E","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"SI","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"1460538.00","Tipo Moneda":"MXN","Potencia HP":"118","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"6100","field4":"E","Categoria":"Serie 6E","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"1129140.00","Tipo Moneda":"MXN","Potencia HP":"99","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"6100","field4":"E","Categoria":"Serie 6E","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"SI","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"1367820.00","Tipo Moneda":"MXN","Potencia HP":"99","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"6155","field4":"JH","Categoria":"Serie 6J","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"SI","Con Cabina":"SI","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"2562138.00","Tipo Moneda":"MXN","Potencia HP":"155","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"7230","field4":"J","Categoria":"Serie 7J","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"SI","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"174618.53","Tipo Moneda":"USD","Potencia HP":"227","Doble rodado (MXN)":"80000","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"7230","field4":"J","Categoria":"Serie 7J","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"SI","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"SI","Precio":"183482.41","Tipo Moneda":"USD","Potencia HP":"227","Doble rodado (MXN)":"80000","AMS (opcional) USD":"Sin Anualidad"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"7215","field4":"J","Categoria":"Serie 7J","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"SI","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"162342.65","Tipo Moneda":"USD","Potencia HP":"215","Doble rodado (MXN)":"80000","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"7215","field4":"J","Categoria":"Serie 7J","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"SI","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"SI","Precio":"170842.27","Tipo Moneda":"USD","Potencia HP":"215","Doble rodado (MXN)":"80000","AMS (opcional) USD":"Sin Anualidad"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"7200","field4":"J","Categoria":"Serie 7J","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"SI","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"SI","Doble rodado":"SI","Angosto":"NO","Ams":"NO","Precio":"153843.04","Tipo Moneda":"USD","Potencia HP":"197","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"7200","field4":"J","Categoria":"Serie 7J","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"SI","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"SI","Doble rodado":"SI","Angosto":"NO","Ams":"SI","Precio":"162342.65","Tipo Moneda":"USD","Potencia HP":"197","AMS (opcional) USD":"Sin Anualidad"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"8370","field4":"R","Categoria":"Serie 8R","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"SI","Doble rodado":"SI","Angosto":"NO","Ams":"NO","Precio":"358227.69","Tipo Moneda":"USD","Potencia HP":"370","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"8370","field4":"R","Categoria":"Serie 8R","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"SI","Doble rodado":"SI","Angosto":"NO","Ams":"SI","Precio":"368974.52","Tipo Moneda":"USD","Potencia HP":"370","AMS (opcional) USD":"Sin Anualidad"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"8345","field4":"R","Categoria":"Serie 8R","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"SI","Doble rodado":"SI","Angosto":"NO","Ams":"NO","Precio":"339420.74","Tipo Moneda":"USD","Potencia HP":"345","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"8345","field4":"R","Categoria":"Serie 8R","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"SI","Doble rodado":"SI","Angosto":"NO","Ams":"SI","Precio":"350167.57","Tipo Moneda":"USD","Potencia HP":"345","AMS (opcional) USD":"Sin Anualidad"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"8320","field4":"R","Categoria":"Serie 8R","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"SI","Doble rodado":"SI","Angosto":"NO","Ams":"NO","Precio":"314344.80","Tipo Moneda":"USD","Potencia HP":"300","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"8320","field4":"R","Categoria":"Serie 8R","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"SI","Doble rodado":"SI","Angosto":"NO","Ams":"SI","Precio":"325987.20","Tipo Moneda":"USD","Potencia HP":"300","AMS (opcional) USD":"Sin Anualidad"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"8295","field4":"R","Categoria":"Serie 8R","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"SI","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"284791.02","Tipo Moneda":"USD","Potencia HP":"195","Doble rodado (MXN)":"80000","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"8295","field4":"R","Categoria":"Serie 8R","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"SI","Doble rodado":"NO","Angosto":"NO","Ams":"SI","Precio":"295537.85","Tipo Moneda":"USD","Potencia HP":"195","Doble rodado (MXN)":"80000","AMS (opcional) USD":"Sin Anualidad"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"8270","field4":"R","Categoria":"Serie 8R","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"SI","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"256132.80","Tipo Moneda":"USD","Potencia HP":"270","Doble rodado (MXN)":"80000","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"8270","field4":"R","Categoria":"Serie 8R","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"SI","Doble rodado":"NO","Angosto":"NO","Ams":"SI","Precio":"267775.20","Tipo Moneda":"USD","Potencia HP":"270","Doble rodado (MXN)":"80000","AMS (opcional) USD":"Sin Anualidad"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"8245","field4":"R","Categoria":"Serie 8R","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"SI","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"242699.26","Tipo Moneda":"USD","Potencia HP":"200","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"8245","field4":"R","Categoria":"Serie 8R","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"SI","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"SI","Doble rodado":"NO","Angosto":"NO","Ams":"SI","Precio":"253446.09","Tipo Moneda":"USD","Potencia HP":"200","AMS (opcional) USD":"Sin Anualidad"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"2036","field4":"R","Categoria":"Serie 2R","Traccion Sencilla":"NO","Doble Traccion":"NO","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"23506.74","Tipo Moneda":"USD","Potencia HP":"36,6","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"2025","field4":"R","Categoria":"Serie 2R","Traccion Sencilla":"NO","Doble Traccion":"NO","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"15721.96","Tipo Moneda":"USD","Potencia HP":"23,9","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"1025","field4":"R","Categoria":"Subcompactos","Traccion Sencilla":"NO","Doble Traccion":"NO","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"13717.66","Tipo Moneda":"USD","Potencia HP":"24,2","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"3036","field4":"E","Categoria":"Serie 3","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"18480.69","Tipo Moneda":"USD","Potencia HP":"36","AMS (opcional) USD":"13,000.00"},{"Tipo":"Tractor","Marca":"John deere","Modelo":"3036","field4":"EN","Categoria":"Serie 3","Traccion Sencilla":"NO","Doble Traccion":"SI","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"19181.19","Tipo Moneda":"USD","Potencia HP":"36","AMS (opcional) USD":"13,000.00"},{"Tipo":"Aspersora","Marca":"John deere","Modelo":"4730","field4":" ","Traccion Sencilla":"NO","Doble Traccion":"NO","Power Reverser":"NO","Dual":"NO","Turbo":"NO","Creeper":"NO","Con Cabina":"NO","Configuracion Especial Llantas":"NO","Cabina Premium":"NO","Doble rodado":"NO","Angosto":"NO","Ams":"NO","Precio":"403000.00","Tipo Moneda":"USD","AMS (opcional) USD":"13,000.00"}]')},function(e){e.exports=JSON.parse('[{"name":"ENERO","value":1},{"name":"FEBRERO","value":2},{"name":"MARZO","value":3},{"name":"ABRIL","value":4},{"name":"MAYO","value":5},{"name":"JUNIO","value":6},{"name":"JULIO","value":7},{"name":"AGOSTO","value":8},{"name":"SEPTIEMBRE","value":9},{"name":"OCTUBRE","value":10},{"name":"NOVIEMBRE","value":11},{"name":"DICIEMBRE","value":12}]')},function(e){e.exports=JSON.parse('[{"name":"2017"},{"name":"2018"},{"name":"2019"},{"name":"2020"},{"name":"2021"},{"name":"2022"},{"name":"2023"}]')},,function(e,t,a){a(227),a(267),e.exports=a(277)},function(e,t,a){window.moment=a(1),moment.locale("es"),window.Dropzone=a(158),window.axios=a(159),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var o=document.head.querySelector('meta[name="csrf-token"]');o?(window._token=o.content,window.axios.defaults.headers.common["X-CSRF-TOKEN"]=o.content):console.error("CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token")},,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a(167)},function(e,t,a){(e.exports=a(4)(!1)).push([e.i,".v-spinner .v-moon1{position:relative}.v-spinner .v-moon1,.v-spinner .v-moon2{-webkit-animation:v-moonStretchDelay .6s linear 0s infinite;animation:v-moonStretchDelay .6s linear 0s infinite;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.v-spinner .v-moon2{opacity:.8;position:absolute}.v-spinner .v-moon3{opacity:.1}@-webkit-keyframes v-moonStretchDelay{to{transform:rotate(1turn)}}@keyframes v-moonStretchDelay{to{transform:rotate(1turn)}}",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var a=t.protocol+"//"+t.host,o=a+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,n=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(n)?e:(i=0===n.indexOf("//")?n:0===n.indexOf("/")?a+n:o+n.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(e,t,a){"use strict";a(168)},function(e,t,a){(e.exports=a(4)(!1)).push([e.i,".v-list-item__content[data-v-4434ee32]{padding:0}",""])},function(e,t,a){"use strict";a(169)},function(e,t,a){(e.exports=a(4)(!1)).push([e.i,".v-progress-circular[data-v-232d023c]{margin:1rem}.v-toolbar__content[data-v-232d023c]{padding:0}",""])},function(e,t,a){"use strict";a(170)},function(e,t,a){(e.exports=a(4)(!1)).push([e.i,".v-list-item__content[data-v-4ca490d3]{padding:0}",""])},function(e,t,a){"use strict";a(171)},function(e,t,a){(e.exports=a(4)(!1)).push([e.i,".v-input__append-outer[data-v-c386ce38]{margin-top:0}",""])},function(e,t,a){"use strict";a(172)},function(e,t,a){(e.exports=a(4)(!1)).push([e.i,".finder_wrap[data-v-dcae199e]{padding:0 20px}",""])},function(e,t,a){"use strict";a(173)},function(e,t,a){(e.exports=a(4)(!1)).push([e.i,".style-1{background-color:#d7d72c}.style-2{background-color:#727243}",""])},function(e,t,a){"use strict";a(174)},function(e,t,a){(e.exports=a(4)(!1)).push([e.i,".swiss[data-v-d56ae546]{max-width:300px;opacity:.2}",""])},function(e,t,a){"use strict";a(175)},function(e,t,a){(e.exports=a(4)(!1)).push([e.i,"#fileupload[data-v-52bb6714]{min-height:400px;background:grey;border:1px dashed #eaeaea}.dropzone .dz-preview.dz-image-preview[data-v-52bb6714]{background:none}",""])},function(e,t,a){"use strict";a(176)},function(e,t,a){(e.exports=a(4)(!1)).push([e.i,".file_view_popup[data-v-3f102da7]{min-width:500px;text-align:center}",""])},function(e,t,a){"use strict";a(177)},function(e,t,a){(e.exports=a(4)(!1)).push([e.i,".finder_wrap[data-v-b28bd852]{padding:0 20px}",""])},function(e,t,a){"use strict";a.r(t);var o={props:{text:String}},i=a(0),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[e._t("activator",null,{on:a,attrs:o})]}}],null,!0)},[e._v(" "),a("span",[e._v(e._s(e.text))])])}),[],!1,null,null,null).exports,r={components:{BaseTooltip:n},props:{value:Boolean},computed:{}},s=Object(i.a)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-navigation-drawer",{attrs:{value:e.value,absolute:"",right:"",fixed:"",temporary:"","disable-resize-watcher":"",width:e.$vuetify.breakpoint.mdAndDown?"256":"512"}},[a("v-app-bar",{attrs:{dense:"",color:"accent",dark:""}},[a("v-toolbar-title",[e._v("\n      Filtro\n    ")]),e._v(" "),a("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[a("v-btn",e._g({attrs:{absolute:"",dark:"",fab:"",bottom:"",right:"",small:"",color:"primary"}},o),[a("v-icon",[e._v("mdi-magnify")])],1)]}}])},[e._v(" "),a("span",[e._v("Buscar")])])],1),e._v(" "),a("v-subheader",[a("base-tooltip",{attrs:{text:"Limpiar Filtro"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[a("v-btn",e._g({attrs:{icon:"",color:"error"},on:{click:function(t){return e.$emit("resetFilter")}}},o),[a("v-icon",[e._v("mdi-filter-remove")])],1)]}}])})],1),e._v(" "),a("v-divider"),e._v(" "),a("v-container",{attrs:{fluid:""}},[e._t("default")],2)],1)}),[],!1,null,null,null).exports,l=a(1),c=a.n(l);c.a.locale("es");var u=c.a.months(),d={data:function(){return{model:null,months:u,year:"",stats:[]}},created:function(){var e=this;e.$eventBus.$on(["GPS_ADDED","GPS_UPDATED","GPS_DELETED"],(function(){e.fetchGps((function(){}))})),e.fetchGps((function(){})),e.year=moment().year()},methods:{fetchGps:function(e){var t=this;axios.get("/admin/gps/stats/allYear").then((function(e){t.stats=e.data.data}))},emitQuery:function(e,t){this.$eventBus.$emit("STAT_QUERY",{month:e,stat_query:t})}}},m=Object(i.a)(d,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-slide-group",{staticClass:"pa-4",attrs:{"show-arrows":"",mandatory:"","center-active":""},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.stats,(function(t){return a("v-slide-item",{key:t.Month,scopedSlots:e._u([{key:"default",fn:function(o){var i=o.toggle;return[a("v-card",{staticClass:"mx-2",attrs:{flat:""},on:{click:i}},[a("div",{staticClass:"text-center overline"},[e._v("\n        Mes "+e._s(e.months[t.Month-1])+" "+e._s(e.year)+"\n      ")]),e._v(" "),a("v-card-text",{staticClass:"py-0"},[a("v-chip-group",[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(o){var i=o.on,n=o.attrs;return[a("v-chip",e._g(e._b({attrs:{dark:"",small:""},on:{click:function(a){return e.emitQuery(t.Month,"totales")}}},"v-chip",n,!1),i),[e._v("\n                "+e._s(t.Total)+"\n              ")])]}}],null,!0)},[e._v(" "),a("span",[e._v("GPS Totales")])]),e._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(o){var i=o.on,n=o.attrs;return[a("v-chip",e._g(e._b({attrs:{color:"blue",dark:"",small:""},on:{click:function(a){return e.emitQuery(t.Month,"nuevos")}}},"v-chip",n,!1),i),[e._v("\n                "+e._s(t.Nuevos)+"\n              ")])]}}],null,!0)},[e._v(" "),a("span",[e._v("GPS Nuevos ")])]),e._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(o){var i=o.on,n=o.attrs;return[a("v-chip",e._g(e._b({attrs:{color:"success",dark:"",small:""},on:{click:function(a){return e.emitQuery(t.Month,"renovados")}}},"v-chip",n,!1),i),[e._v("\n                "+e._s(t.Renovados)+"\n              ")])]}}],null,!0)},[e._v(" "),a("span",[e._v("GPS Renovados ")])]),e._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(o){var i=o.on,n=o.attrs;return[a("v-chip",e._g(e._b({attrs:{color:"orange",dark:"",small:""},on:{click:function(a){return e.emitQuery(t.Month,"por_renovar")}}},"v-chip",n,!1),i),[e._v("\n                "+e._s(t.PorRenovar)+"\n              ")])]}}],null,!0)},[e._v(" "),a("span",[e._v("GPS Por Renovar ")])]),e._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(o){var i=o.on,n=o.attrs;return[a("v-chip",e._g(e._b({attrs:{color:"red",dark:"",small:""},on:{click:function(a){return e.emitQuery(t.Month,"cancelados")}}},"v-chip",n,!1),i),[e._v("\n                "+e._s(t.Cancelados)+"\n              ")])]}}],null,!0)},[e._v(" "),a("span",[e._v("GPS Cancelados ")])]),e._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(o){var i=o.on,n=o.attrs;return[a("v-chip",e._g(e._b({attrs:{dark:"",small:""}},"v-chip",n,!1),i),[e._v("\n                "+e._s(e._f("percent")(t.Porcentaje))+"\n              ")])]}}],null,!0)},[e._v(" "),a("span",[e._v("Porcentaje Renovados ")])])],1)],1)],1)]}}],null,!0)})})),1)}),[],!1,null,null,null).exports,v=a(8),p=a(9),f=a(156),g={name:"GpsInvoiceForm",props:{form:{require:!0}},data:function(){return{rules:[function(e){return!!e||"Campo Requerido"}]}}},h={components:{GpsInvoice:Object(i.a)(g,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-text-field",{staticClass:"mx-2",attrs:{rules:e.rules,label:"Factura:",placeholder:"Folio",outlined:"",dense:""},model:{value:e.form.invoice,callback:function(t){e.$set(e.form,"invoice",t)},expression:"form.invoice"}}),e._v(" "),a("v-text-field",{staticClass:"mx-2",attrs:{rules:e.rules,label:"Fecha Factura",type:"date",outlined:"",dense:""},model:{value:e.form.invoice_date,callback:function(t){e.$set(e.form,"invoice_date",t)},expression:"form.invoice_date"}}),e._v(" "),a("v-text-field",{staticClass:"mx-2 title",attrs:{rules:e.rules,label:"Importe Factura:",placeholder:"0.00",type:"Number","prepend-inner-icon":"mdi-currency-usd",outlined:"",filled:"",dense:""},scopedSlots:e._u([{key:"append",fn:function(){return[a("v-btn",{attrs:{outlined:"",small:""},on:{click:function(t){"MXN"==e.form.currency?e.form.currency="USD":e.form.currency="MXN",e.form.exchange_rate=1}}},[e._v("\n          "+e._s(e.form.currency)+"\n        ")])]},proxy:!0}]),model:{value:e.form.amount,callback:function(t){e.$set(e.form,"amount",t)},expression:"form.amount"}}),e._v(" "),"USD"==e.form.currency?a("templater",[a("v-text-field",{staticClass:"title",attrs:{rules:e.rules,label:"Tipo Cambio:",type:"Number","hide-details":"",reverse:"",outlined:"",filled:"",dense:""},model:{value:e.form.exchange_rate,callback:function(t){e.$set(e.form,"exchange_rate",t)},expression:"form.exchange_rate"}})],1):e._e()],1),e._v(" "),a("small",[e._v("*Indica Campo requerido")])],1)}),[],!1,null,null,null).exports},props:{propGpsId:{required:!0,type:[String,Number]}},data:function(){return{valid:!1,form:{invoice:null,invoice_date:null,amount:0,currency:"MXN",exchange_rate:1}}},methods:{save:function(){if(this.$refs.form.validate()){var e=this;axios.put("/admin/gps/".concat(e.propGpsId,"/invoice"),e.form).then((function(t){e.$store.commit("showSnackbar",{message:t.data.message,color:"success",duration:3e3}),e.$eventBus.$emit("GPS_REFRESH")})).catch((function(t){t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)}))}}}},b=Object(i.a)(h,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{flat:"","max-width":"600"}},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("gps-invoice",{attrs:{form:e.form},on:{"update:form":function(t){e.form=t}}})],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"red darken-1",block:"",dark:"",disabled:!e.valid},on:{click:e.save}},[e._v("\n      Facturar\n    ")])],1)],1)}),[],!1,null,null,null).exports,x={name:"GpsCancelForm",props:{form:{required:!0}},data:function(){return{rules:[function(e){return!!e||"Campo Requerido"}]}}},y={components:{GpsCancel:Object(i.a)(x,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{staticClass:"mx-2",attrs:{rules:e.rules,label:"Fecha de Cancelacion*",type:"date",outlined:"",dense:""},model:{value:e.form.cancellation_date,callback:function(t){e.$set(e.form,"cancellation_date",t)},expression:"form.cancellation_date"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{staticClass:"mx-2",attrs:{rules:e.rules,label:"Motivo de Cancelacion*",type:"date",outlined:"",dense:""},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1),e._v(" "),a("small",[e._v("*Indica Campo requerido")])],1)}),[],!1,null,null,null).exports},props:{propGpsId:{required:!0,type:[String,Number]}},data:function(){return{valid:!1,form:{cancellation_date:null,description:null}}},methods:{save:function(){if(this.$refs.form.validate()){var e=this;e.$store.commit("showDialog",{type:"confirm",title:"Confirmar Cancelacion",message:"¿Seguro en Cancelar el GPS?",okCb:function(){axios.put("/admin/gps/".concat(e.propGpsId,"/cancel"),e.form).then((function(t){e.$store.commit("showSnackbar",{message:t.data.message,color:"success",duration:3e3}),e.$eventBus.$emit("GPS_REFRESH")})).catch((function(t){t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)}))},cancelCb:function(){console.log("CANCEL")}})}}}},O=Object(i.a)(y,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"overline",attrs:{flat:"","max-width":"600"}},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("gps-cancel",{attrs:{form:e.form},on:{"update:form":function(t){e.form=t}}})],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"red darken-1",block:"",dark:"",disabled:!e.valid},on:{click:e.save}},[e._v("\n      Dar de Baja el GPS\n    ")])],1)],1)}),[],!1,null,null,null).exports;function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){N(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function N(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var w={components:{BaseTooltip:n,DrawerRigthFilter:s,GpsWidgetStats:m,EditGps:f.default,InvoiceGps:b,CancelGps:O},data:function(){var e;return{drawer:null,modal:!1,date:[],items:[],headers:[{value:"action",align:"left",divider:!0,sortable:!1},(e={text:"Nombre GPS",value:"name",align:"left",class:"overline"},N(e,"class","overline blue lighten-4"),N(e,"sortable",!1),e),{text:"Cliente:",value:"gps_group.name",align:"left",class:"overline blue lighten-4",divider:!0,sortable:!1},{text:"SIM / CHIP",value:"chip.sim",align:"right",sortable:!1},{text:"Costo:",value:"chip.costo",align:"left",sortable:!1},{text:"Factura:",value:"invoice",align:"center",sortable:!0},{text:"Monto:",value:"amount",align:"right",sortable:!0},{text:"Moneda:",value:"currency",align:"left",sortable:!1},{text:"Instalado en:",value:"installation_date",align:"center",sortable:!0},{text:"Renueva en:",value:"renew_date",align:"center",sortable:!0},{text:"Vence en:",value:"renew_date_day",align:"center",sortable:!1}],filters:{name:null,sim:null,agency:null,department:null,customer:null,defeated:!1,canceled:!1,dates:[]},options:{chips:[],groups:[],agencies:v,departments:p},dialog:{show:!1,fullscreen:!0,props:{},title:"",component:""},totalItems:0,pagination:{itemsPerPage:10,page:1}}},mounted:function(){var e=this;e.loadGps((function(){})),e.loadSearchOptions((function(){})),e.$store.commit("setBreadcrumbs",[{label:"GPS",name:""}]),e.$eventBus.$on(["GPS_REFRESH"],(function(){e.loadGps((function(){e.dialog.show=!1}))}))},watch:{pagination:{handler:_.debounce((function(){this.loadGps((function(){}))}),999),deep:!0},filters:{handler:_.debounce((function(e){this.loadGps((function(){}))}),999),deep:!0}},computed:{switches:function(){var e=this;return[{value:e.filters.defeated,label:"Por Renovar: ".concat(e.filters.defeated?"on":"off"),change:function(){e.filters.defeated=!e.filters.defeated}},{value:e.filters.canceled,label:"Cancelados: ".concat(e.filters.canceled?"on":"off"),change:function(){e.filters.canceled=!e.filters.canceled}}]},currentProperties:function(){return this.dialog.props},dateRangeText:{get:function(){return this.filters.dates.join(",")},set:function(e){!e||(this.filters.dates=e.split(" "))}}},methods:{loadGps:function(e){var t=this,a=S(S({},t.filters),{},{canceled:t.filters.canceled?"on":null,defeated:t.filters.defeated?"on":null,order_sort:t.pagination.sortDesc[0]?"desc":"asc",order_by:t.pagination.sortBy[0]||"name",page:t.pagination.page,per_page:t.pagination.itemsPerPage});axios.get("/admin/gps",{params:a}).then((function(a){var o=a.data.data;t.items=o.gps.data,t.totalItems=o.gps.total,t.pagination.totalItems=o.gps.total,(e||Function)()}))},loadSearchOptions:function(e){var t=this;axios.get("/admin/gps/search/resources").then((function(a){t.options.chips=a.data.data.chips,t.options.groups=a.data.data.groups,(e||Function)()}))},colorDay:function(e){var t=this.$appFormatters.formatTimeDiffNow(e);return t<31?"red darken-3":t<62?"orange darken-3":t?"green darken-3":void 0},resetFilter:function(){this.$refs.form.reset(),this.pagination.itemsPerPage=10,this.pagination.page=1,this.filters.defeated=!1,this.filters.canceled=!1},invoiced:function(e){return moment(e).year()<moment().add(1,"y").year()},dialogEdit:function(e){this.dialog.title="Editar GPS",this.dialog.component="EditGps",this.dialog.props={propGpsId:e},this.dialog.fullscreen=!0,this.dialog.show=!0},dialogShow:function(e){this.dialog.title="Informacion GPS",this.dialog.component="EditGps",this.dialog.props={propGpsId:e},this.dialog.fullscreen=!0,this.dialog.show=!0},dialogInvoice:function(e){this.dialog.title="Facturar GPS",this.dialog.component="InvoiceGps",this.dialog.props={propGpsId:e},this.dialog.fullscreen=!1,this.dialog.show=!0},dialogCancel:function(e){this.dialog.title="Cancelar GPS",this.dialog.component="CancelGps",this.dialog.props={propGpsId:e},this.dialog.fullscreen=!1,this.dialog.show=!0}}},P=Object(i.a)(w,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"component-wrap",attrs:{fluid:""}},[a("gps-widget-stats"),e._v(" "),a("v-data-table",{staticClass:"caption elevation-4",attrs:{headers:e.headers,options:e.pagination,items:e.items,"server-items-length":e.totalItems,dense:"","fixed-header":"",height:"424"},on:{"update:options":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-row",{staticClass:"pa-2",attrs:{align:"center"}},[a("v-btn",{staticClass:"primary lighten-1 ml-2",attrs:{small:"",dark:""},on:{click:function(t){return e.$router.push({name:"gps.create"})}}},[e._v("\n            Registrar Nuevo GPS\n            "),a("v-icon",{attrs:{small:"",right:""}},[e._v("mdi-plus")])],1),e._v(" "),a("v-spacer"),e._v(" "),a("v-dialog",{ref:"dialog",attrs:{"return-value":e.date,persistent:"",width:"354px"},on:{"update:returnValue":function(t){e.date=t},"update:return-value":function(t){e.date=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Filtro Fechas de instalacion",placeholder:"Seleccione un Rango de Fechas","prepend-icon":"mdi-calendar","append-outer-icon":"mdi-close","hide-details":"",outlined:"",readonly:"",dense:""},on:{"click:append-outer":function(t){e.filters.dates=[],e.date=[]}},model:{value:e.dateRangeText,callback:function(t){e.dateRangeText=t},expression:"dateRangeText"}},"v-text-field",i,!1),o))]}}]),model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[e._v(" "),a("v-date-picker",{attrs:{range:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.modal=!1,e.date=[]}}},[e._v("\n                Cancel\n              ")]),e._v(" "),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.$refs.dialog.save(e.filters.dates=e.date)}}},[e._v("\n                OK\n              ")])],1)],1),e._v(" "),a("base-tooltip",{attrs:{text:"Buscar"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[a("v-btn",e._g({attrs:{icon:"",color:"pink"},on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}},o),[a("v-icon",[e._v("mdi-magnify")])],1)]}}])}),e._v(" "),a("base-tooltip",{attrs:{text:"Exportar"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[a("v-btn",e._g({attrs:{icon:"",color:"green"}},o),[a("v-icon",[e._v("mdi-file-excel")])],1)]}}])}),e._v(" "),a("base-tooltip",{attrs:{text:"Actualizar"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[a("v-btn",e._g({attrs:{icon:"",color:"grey"},on:{click:function(t){e.loadGps((function(){}))}}},o),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])})],1)],1)]},proxy:!0},{key:"item.action",fn:function(t){var o=t.item;return[a("v-menu",{attrs:{"offset-x":"",transition:"slide-x-transition",rounded:"r-xl"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",i,!1),o),[a("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e._v(" "),a("v-list",{attrs:{shaped:"",dense:""}},[a("v-list-item-group",[a("v-list-item",{on:{click:function(t){return e.dialogShow(o.id)}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"blue--text"},[e._v("mdi-information-outline")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",[e._v("Detalle GPS")])],1)],1),e._v(" "),e.invoiced(o.renew_date)?a("v-list-item",{on:{click:function(t){return e.dialogInvoice(o.id)}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"green--text"},[e._v("mdi-receipt")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",[e._v("Facturar GPS")])],1)],1):e._e(),e._v(" "),e.invoiced(o.renew_date)&&!o.cancellation_date?a("v-list-item",{on:{click:function(t){return e.dialogCancel(o.id)}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"red--text"},[e._v("mdi-cancel")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",[e._v("Cancelar GPS")])],1)],1):e._e()],1)],1)],1)]}},{key:"item.name",fn:function(t){var o=t.value;return[a("span",{staticClass:"caption font-weight-bold text-no-wrap text-uppercase",domProps:{textContent:e._s(o)}})]}},{key:"item.gps_group.name",fn:function(t){var o=t.value;return[a("span",{staticClass:"caption text-no-wrap",domProps:{textContent:e._s(o)}})]}},{key:"item.chio.sim",fn:function(t){var o=t.value;return[a("span",{staticClass:"caption text-no-wrap",domProps:{textContent:e._s(o)}})]}},{key:"item.chip.costo",fn:function(t){var o=t.value;return[a("span",{staticClass:"caption text-no-wrap"},[e._v("\n        "+e._s(e._f("currency")(o))+"\n      ")])]}},{key:"item.invoice",fn:function(t){var o=t.item;return[e.invoiced(o.renew_date)?a("v-btn",{attrs:{outlined:"",color:"grey darken-3",small:""},on:{click:function(t){return e.dialogInvoice(o.id)}}},[a("v-icon",{attrs:{small:"",left:""}},[e._v("\n          mdi-receipt\n        ")]),e._v("\n        facturar\n      ")],1):a("base-tooltip",{attrs:{text:e.$appFormatters.formatDate(o.invoice_date,"ll")},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("span",e._g({staticClass:"overline font-weight-black text-no-wrap"},i),[e._v("\n            "+e._s(o.invoice)+"\n          ")])]}}],null,!0)})]}},{key:"item.amount",fn:function(t){var o=t.value;return[a("span",{staticClass:"caption font-weight-black text-no-wrap"},[e._v("\n        "+e._s(e._f("currency")(o))+"\n      ")])]}},{key:"item.installation_date",fn:function(t){var o=t.value;return[a("span",{staticClass:"caption text-uppercase text-no-wrap"},[e._v("\n        "+e._s(e.$appFormatters.formatDate(o,"MMM YYYY"))+"\n      ")])]}},{key:"item.renew_date",fn:function(t){var o=t.value;return[a("span",{staticClass:"caption text-uppercase text-no-wrap"},[e._v("\n        "+e._s(e.$appFormatters.formatDate(o,"MMM YYYY"))+"\n      ")])]}},{key:"item.renew_date_day",fn:function(t){var o=t.item;return[a("v-chip",{staticClass:"caption text-no-wrap",attrs:{color:e.colorDay(o.renew_date),dark:"",label:""}},[e._v("\n        "+e._s(e.$appFormatters.formatTimeDiffNow(o.renew_date,"days"))+" Dias\n      ")])]}}],null,!0)}),e._v(" "),a("drawer-rigth-filter",{on:{resetFilter:e.resetFilter},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-form",{ref:"form"},[a("v-text-field",{staticClass:"mt-2",attrs:{"prepend-icon":"mdi-magnify",label:"Filtrar por Nombre de GPS",clearable:"","hide-details":"",outlined:"",dense:"",filled:""},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}}),e._v(" "),a("v-autocomplete",{staticClass:"mt-2",attrs:{items:e.options.chips,label:"Buscar CHIP","item-text":"sim","item-value":"sim","prepend-icon":"mdi-filter-variant","deletable-chips":"","hide-details":"","small-chips":"",outlined:"",filled:"",clearable:"",dense:""},model:{value:e.filters.sim,callback:function(t){e.$set(e.filters,"sim",t)},expression:"filters.sim"}}),e._v(" "),a("v-autocomplete",{staticClass:"mt-2",attrs:{items:e.options.groups,label:"Filtrar por Clientes","item-value":"id","item-text":"name","prepend-icon":"mdi-filter-variant","deletable-chips":"","hide-details":"","small-chips":"",outlined:"",filled:"",clearable:"",dense:""},model:{value:e.filters.customer,callback:function(t){e.$set(e.filters,"customer",t)},expression:"filters.customer"}}),e._v(" "),a("v-select",{staticClass:"mt-2",attrs:{items:e.options.agencies,label:"Sucursal","item-text":"name","item-value":"name","hide-details":"","menu-props":{offsetY:!0},"prepend-icon":"mdi-filter-variant",clearable:"",outlined:"",filled:"",dense:""},model:{value:e.filters.agency,callback:function(t){e.$set(e.filters,"agency",t)},expression:"filters.agency"}}),e._v(" "),a("v-select",{staticClass:"mt-2",attrs:{items:e.options.departments,label:"Departamento","item-text":"name","item-value":"name","menu-props":{offsetY:!0},"prepend-icon":"mdi-filter-variant","hide-details":"",clearable:"",outlined:"",filled:"",dense:""},model:{value:e.filters.department,callback:function(t){e.$set(e.filters,"department",t)},expression:"filters.department"}})],1),e._v(" "),e._l(e.switches,(function(e,t){return a("v-switch",{key:t,attrs:{dense:"","hide-details":"",color:"primary",disabled:null===e.value,"input-value":e.value,label:e.label},on:{change:e.change}})}))],2),e._v(" "),e.dialog.show?a("v-dialog",{attrs:{transition:"dialog-bottom-transition",fullscreen:e.dialog.fullscreen,"max-width":"600",persistent:""},model:{value:e.dialog.show,callback:function(t){e.$set(e.dialog,"show",t)},expression:"dialog.show"}},[a("v-card",[a("v-toolbar",{staticClass:"secondary"},[a("v-btn",{attrs:{icon:""},nativeOn:{click:function(t){e.dialog.show=!1}}},[a("v-icon",[e._v("mdi-close")])],1),e._v(" "),a("v-toolbar-title",{staticClass:"white--text"},[e._v("\n          "+e._s(e.dialog.title)+"\n        ")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-toolbar-items",[a("v-btn",{attrs:{text:""},nativeOn:{click:function(t){e.dialog.show=!1}}},[e._v("\n            Done\n          ")])],1)],1),e._v(" "),a("v-container",[a(e.dialog.component,e._b({tag:"component"},"component",e.currentProperties,!1))],1)],1)],1):e._e()],1)}),[],!1,null,null,null).exports,D={data:function(){return{valid:!1,isLoading:!1,name:"",phone:null,agency:"",department:"",description:"",rules:[function(e){return!!e||"Name is required"}],options:{agencies:v,departments:p}}},mounted:function(){},methods:{save:function(){var e=this,t={name:e.name,phone:e.phone,agency:e.agency,department:e.department,description:e.description};e.isLoading=!0,axios.post("/admin/gpsCustomers/",t).then((function(t){e.$store.commit("showSnackbar",{message:t.data.message,color:"success",duration:3e3}),e.$eventBus.$emit("GPS_GROUP_ADDED")})).catch((function(t){t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)})).finally((function(){e.isLoading=!1}))}}},T={props:{propGpsGroupId:{required:!0}},data:function(){return{valid:!1,isLoading:!1,name:"",phone:"",agency:"",department:"",description:"",rules:[function(e){return!!e||"Name is required"}],options:{agencies:v,departments:p}}},mounted:function(){this.loadGpsGroup((function(){}))},methods:{save:function(){var e=this,t={name:e.name,phone:e.phone,agency:e.agency?e.agency:" ",department:e.department?e.department:" ",description:e.description};e.isLoading=!0,axios.put("/admin/gpsCustomers/"+e.propGpsGroupId,t).then((function(t){e.$store.commit("showSnackbar",{message:t.data.message,color:"success",duration:3e3}),e.$eventBus.$emit("GPS_GROUP_UPDATED")})).catch((function(t){t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)})).finally((function(){e.isLoading=!1}))},loadGpsGroup:function(e){var t=this;axios.get("/admin/gpsCustomers/"+t.propGpsGroupId).then((function(a){var o=a.data.data;t.name=o.name,t.phone=o.phone,t.agency=o.agency,t.department=o.department,t.description=o.description,e()}))}}},A={components:{GpsGroupAdd:Object(i.a)(D,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",[a("v-form",{ref:"gpsGroupFormAdd",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"body-2 white--text"},[e._v("Grupo GPS Detalle")])]),e._v(" "),a("v-flex",{attrs:{xs9:""}},[a("v-text-field",{attrs:{label:"Nombre Grupo",rules:e.rules},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),a("v-flex",{attrs:{xs3:""}},[a("v-text-field",{attrs:{label:"Telefono Contacto",counter:"10"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-select",{attrs:{items:e.options.agencies,label:"Sucursal","menu-props":{offsetY:!0},"item-text":"name","item-value":"name",clearable:""},model:{value:e.agency,callback:function(t){e.agency=t},expression:"agency"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-select",{attrs:{items:e.options.departments,label:"Departamento","menu-props":{offsetY:!0},"item-text":"name","item-value":"name",clearable:""},model:{value:e.department,callback:function(t){e.department=t},expression:"department"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{attrs:{label:"Descripcion",outlined:""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-btn",{attrs:{block:"",disabled:!e.valid,color:"primary"},on:{click:function(t){return e.save()}}},[e._v("Guardar Nuevo")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports,GpsGroupEdit:Object(i.a)(T,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",[a("v-form",{ref:"gpsGroupFormEdit",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"body-2 white--text"},[e._v("Grupo GPS Detalle")])]),e._v(" "),a("v-flex",{attrs:{xs9:""}},[a("v-text-field",{attrs:{label:"Nombre Grupo",rules:e.rules},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),a("v-flex",{attrs:{xs3:""}},[a("v-text-field",{attrs:{label:"Telefono Contacto",counter:"10"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-select",{attrs:{items:e.options.agencies,label:"Sucursal","menu-props":{offsetY:!0},"item-text":"name","item-value":"name",clearable:""},model:{value:e.agency,callback:function(t){e.agency=t},expression:"agency"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-select",{attrs:{items:e.options.departments,label:"Departamento","menu-props":{offsetY:!0},"item-text":"name","item-value":"name",clearable:""},model:{value:e.department,callback:function(t){e.department=t},expression:"department"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{attrs:{label:"Descripcion",outlined:""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-btn",{attrs:{block:"",disabled:!e.valid,color:"primary"},on:{click:function(t){return e.save()}}},[e._v("Modificar")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports},data:function(){return{headers:[{text:"",value:"action",align:"center",divider:!0,width:10,class:"pa-auto",sortable:!1},{text:"Nombre Cliente",value:"name",align:"left",sortable:!0},{text:"Sucursal",value:"agency",align:"left",sortable:!0},{text:"Cargo",value:"department",align:"left",sortable:!0},{text:"Telefono",value:"phone",align:"left",sortable:!1},{text:"Total GPS",value:"gps_count",align:"center",sortable:!1}],items:[],totalItems:0,pagination:{itemsPerPage:10},editedIndex:-1,dialogs:{title:"",show:!1,gpsGroup:null},options:{agencies:v,departments:p},filters:{name:"",agency:null,department:null}}},mounted:function(){var e=this;e.$eventBus.$on(["GPS_GROUP_ADDED","GPS_GROUP_UPDATED","GPS_GROUP_DELETED"],(function(){e.loadGpsGroup((function(){}))}))},watch:{pagination:{handler:_.debounce((function(){this.loadGpsGroup((function(){}))}),700),deep:!0},filters:{handler:_.debounce((function(e){this.loadGpsGroup((function(){}))}),700),deep:!0}},computed:{formTitle:function(){return-1===this.editedIndex?"Registrar Grupo GPS":"Editar Grupo GPS"},formAdd:function(){return-1===this.editedIndex}},methods:{refresh:function(){this.loadGpsGroup((function(){}))},editItem:function(e){this.editedIndex=this.items.indexOf(e),this.dialogs.gpsGroup=e,this.dialogs.show=!0},loadGpsGroup:function(e){var t=this,a={name:t.filters.name,agency:t.filters.agency,department:t.filters.department,order_sort:t.pagination.sortDesc[0]?"desc":"asc",order_by:t.pagination.sortBy[0]||"name",page:t.pagination.page,per_page:t.pagination.itemsPerPage};axios.get("/admin/gpsCustomers",{params:a}).then((function(a){t.items=a.data.data.data,t.totalItems=a.data.data.total,t.pagination.totalItems=a.data.data.total,(e||Function)()}))},trash:function(e){var t=this;t.$store.commit("showDialog",{type:"confirm",title:"Confirm Deletion",message:"Are you sure you want to delete this gps group?",okCb:function(){axios.delete("/admin/gpsCustomers/"+e.id).then((function(e){t.$store.commit("showSnackbar",{message:e.data.message,color:"success",duration:3e3}),t.$eventBus.$emit("GPS_GROUP_DELETED")})).catch((function(e){e.response?t.$store.commit("showSnackbar",{message:e.response.data.message,color:"error",duration:3e3}):e.request?console.log(e.request):console.log("Error",e.message)}))},cancelCb:function(){console.log("CANCEL")}})}}},$=Object(i.a)(A,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",{attrs:{flat:""}},[a("v-form",{ref:"filterForm"},[a("div",{staticClass:"d-flex flex-md-row flex-xs-column flex-wrap align-center"},[a("div",{staticClass:"flex-grow-1 px-2"},[a("v-text-field",{attrs:{"prepend-icon":"mdi-magnify",label:"Filtar por Nombre",clearable:""},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("div",{staticClass:"flex-grow-1 px-2"},[a("v-select",{attrs:{items:e.options.agencies,label:"Sucursal","menu-props":{offsetY:!0},"item-text":"name","item-value":"name","prepend-icon":"mdi-filter-variant",clearable:"",filled:""},model:{value:e.filters.agency,callback:function(t){e.$set(e.filters,"agency",t)},expression:"filters.agency"}})],1),e._v(" "),a("div",{staticClass:"flex-grow-1 px-2"},[a("v-select",{attrs:{items:e.options.departments,label:"Departamento","menu-props":{offsetY:!0},"item-text":"name","item-value":"name","prepend-icon":"mdi-filter-variant",clearable:"",filled:""},model:{value:e.filters.department,callback:function(t){e.$set(e.filters,"department",t)},expression:"filters.department"}})],1),e._v(" "),a("div",{staticClass:"flex-grow-1 text-right"})])])],1),e._v(" "),a("v-data-table",{staticClass:"elevation-1 text-uppercase",attrs:{headers:e.headers,options:e.pagination,items:e.items,"server-items-length":e.totalItems,dense:"","fixed-header":""},on:{"update:options":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{dense:"",elevation:"0"}},[a("div",{staticClass:"flex-grow-1 overline text-uppercase"}),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{attrs:{icon:"",color:"secondary"},on:{click:function(t){e.$refs.filterForm.reset(),e.pagination.itemsPerPage=10}}},[a("v-icon",[e._v("mdi-filter-remove-outline")])],1),e._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:"",color:"blue"},on:{click:function(t){e.dialogs.show=!0}}},"v-btn",i,!1),o),[a("v-icon",[e._v("mdi-plus-thick")])],1)]}}])},[e._v(" "),a("span",[e._v("Agregar Nuevo")])]),e._v(" "),a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.refresh()}}},[a("v-icon",[e._v("mdi-refresh")])],1)],1)]},proxy:!0},{key:"item.action",fn:function(t){var o=t.item;return[a("v-menu",{attrs:{"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",i,!1),o),[a("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e._v(" "),a("v-list",{attrs:{shaped:""}},[a("v-list-item-group",[a("v-list-item",{on:{click:function(t){return e.editItem(o)}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"blue--text"},[e._v("mdi-information-outline")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",[e._v("Detalle")])],1)],1),e._v(" "),a("v-list-item",{on:{click:function(t){return e.trash(o)}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"red--text"},[e._v("mdi-trash-can")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",[e._v("Eliminar")])],1)],1)],1)],1)],1)]}}],null,!0)}),e._v(" "),a("v-dialog",{attrs:{fullscreen:"",transition:"dialog-bottom-transition",overlay:!1},model:{value:e.dialogs.show,callback:function(t){e.$set(e.dialogs,"show",t)},expression:"dialogs.show"}},[a("v-card",[a("v-toolbar",{staticClass:"primary"},[a("v-btn",{attrs:{icon:""},nativeOn:{click:function(t){e.dialogs.show=!1,e.editedIndex=-1}}},[a("v-icon",[e._v("mdi-close")])],1),e._v(" "),a("v-toolbar-title",[e._v(e._s(e.formTitle))]),e._v(" "),a("v-spacer"),e._v(" "),a("v-toolbar-items",[a("v-btn",{attrs:{text:""},nativeOn:{click:function(t){e.dialogs.show=!1,e.editedIndex=-1}}},[e._v("Done")])],1)],1),e._v(" "),a("v-card-text",[e.formAdd?a("gps-group-add"):a("gps-group-edit",{attrs:{propGpsGroupId:e.dialogs.gpsGroup.id}})],1)],1)],1)],1)}),[],!1,null,null,null).exports,E={data:function(){return{valid:!1,sim:"",imei:"",costo:"",cuenta:"",fecha_activacion:null,fecha_renovacion:null,descripcion:"",rules:[function(e){return!!e||"Campo Requerido"}]}},watch:{fecha_activacion:{handler:function(e){var t=new Date(e);t.setDate(t.getDate()+365),this.fecha_renovacion=this.$appFormatters.formatDate(t,"yyyy-MM-DD")}}},methods:{save:function(){var e=this;if(e.$refs.gpsChipFormAdd.validate()){var t={sim:e.sim,imei:e.imei,cuenta:e.cuenta,costo:e.costo,fecha_activacion:e.fecha_activacion,fecha_renovacion:e.fecha_renovacion,descripcion:e.descripcion};axios.post("admin/chips/",t).then((function(t){e.$store.commit("showSnackbar",{message:t.data.message,color:"success",duration:3e3}),e.$eventBus.$emit("GPS_CHIP_ADDED")})).catch((function(t){t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)}))}}}},M=Object(i.a)(E,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",[a("v-form",{ref:"gpsChipFormAdd",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":""}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"SIM",rules:e.rules},model:{value:e.sim,callback:function(t){e.sim=t},expression:"sim"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"IMEI",counter:""},model:{value:e.imei,callback:function(t){e.imei=t},expression:"imei"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Cuenta",counter:""},model:{value:e.cuenta,callback:function(t){e.cuenta=t},expression:"cuenta"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Costo:",rules:e.rules,type:"Numeric",prefix:"$",suffix:"MXN"},model:{value:e.costo,callback:function(t){e.costo=t},expression:"costo"}})],1),e._v(" "),a("v-col",{attrs:{cols:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Fecha Activacion",type:"date",rules:e.rules},model:{value:e.fecha_activacion,callback:function(t){e.fecha_activacion=t},expression:"fecha_activacion"}})],1),e._v(" "),a("v-col",{attrs:{cols:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Fecha Renovacion",type:"date",rules:e.rules,readonly:""},model:{value:e.fecha_renovacion,callback:function(t){e.fecha_renovacion=t},expression:"fecha_renovacion"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"Descripcion:",outlined:""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-btn",{attrs:{block:"",disabled:!e.valid,color:"primary"},on:{click:function(t){return e.save()}}},[e._v("Guardar Nuevo")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports,I={props:{propGpsChipId:{required:!0}},data:function(){return{valid:!1,sim:"",imei:"",costo:"",cuenta:"",fecha_activacion:null,fecha_renovacion:null,descripcion:"",rules:[function(e){return!!e||"Campo Requerido"}]}},mounted:function(){this.loadGpsChip((function(){}))},methods:{save:function(){var e=this;if(e.$refs.gpsChipFormEdit.validate()){var t={sim:e.sim,imei:e.imei,cuenta:e.cuenta,costo:e.costo,fecha_activacion:e.fecha_activacion,fecha_renovacion:e.fecha_renovacion,descripcion:e.descripcion};e.isLoading=!0,axios.put("/admin/chips/"+e.propGpsChipId,t).then((function(t){e.$store.commit("showSnackbar",{message:t.data.message,color:"success",duration:3e3}),e.$eventBus.$emit("GPS_CHIP_UPDATED")})).catch((function(t){t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)})).finally((function(){e.isLoading=!1}))}},loadGpsChip:function(e){var t=this;axios.get("/admin/chips/"+t.propGpsChipId).then((function(a){var o=a.data.data;t.sim=o.sim,t.imei=o.imei,t.cuenta=o.cuenta,t.costo=o.costo,t.fecha_activacion=t.$appFormatters.formatDate(o.fecha_activacion,"yyyy-MM-DD"),t.fecha_renovacion=t.$appFormatters.formatDate(o.fecha_renovacion,"yyyy-MM-DD"),C,t.descripcion=o.descripcion,e()}))}}},j=Object(i.a)(I,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",[a("v-form",{ref:"gpsChipFormEdit",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":""}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"SIM",rules:e.rules},model:{value:e.sim,callback:function(t){e.sim=t},expression:"sim"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"IMEI",counter:""},model:{value:e.imei,callback:function(t){e.imei=t},expression:"imei"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Cuenta",counter:""},model:{value:e.cuenta,callback:function(t){e.cuenta=t},expression:"cuenta"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Costo:",rules:e.rules,type:"Numeric",prefix:"$",suffix:"MXN"},model:{value:e.costo,callback:function(t){e.costo=t},expression:"costo"}})],1),e._v(" "),a("v-col",{attrs:{cols:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Fecha Activacion",type:"date",rules:e.rules},model:{value:e.fecha_activacion,callback:function(t){e.fecha_activacion=t},expression:"fecha_activacion"}})],1),e._v(" "),a("v-col",{attrs:{cols:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Fecha Renovacion",type:"date",rules:e.rules},model:{value:e.fecha_renovacion,callback:function(t){e.fecha_renovacion=t},expression:"fecha_renovacion"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"Descripcion:",outlined:""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-btn",{attrs:{block:"",disabled:!e.valid,color:"primary"},on:{click:function(t){return e.save()}}},[e._v("Guardar Nuevo")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports,R=a(180),L=a(181),F={components:{GpsChipAdd:M,GpsChipEdit:j},data:function(){return{headers:[{text:"",value:"action",align:"center",divider:!0,width:10,class:"pa-auto",sortable:!1},{text:"SIM",value:"sim",align:"left",sortable:!0},{text:"IMEI",value:"imei",align:"left",sortable:!0},{text:"Costo",value:"costo",align:"left",sortable:!1},{text:"Fecha Activacion",value:"fecha_activacion",align:"center",sortable:!0},{text:"Asignado",value:"gps_id",align:"center",sortable:!0}],items:[],totalItems:0,pagination:{itemsPerPage:10},editedIndex:-1,dialogs:{title:"",show:!1,gpsChip:null},options:{months:R,years:L},filters:{sim:"",imei:"",month:null,year:null,assigned:null,deallocated:null,expired:null}}},mounted:function(){var e=this;e.$eventBus.$on(["GPS_CHIP_ADDED","GPS_CHIP_UPDATED","GPS_CHIP_DELETED"],(function(){e.loadGpsChips((function(){}))}))},watch:{pagination:{handler:_.debounce((function(){this.loadGpsChips((function(){}))}),700),deep:!0},filters:{handler:_.debounce((function(e){this.loadGpsChips((function(){}))}),700),deep:!0}},computed:{formTitle:function(){return-1===this.editedIndex?"Registrar CHIP de GPS":"Editar CHIP de GPS"},formAdd:function(){return-1===this.editedIndex}},methods:{refresh:function(){this.loadGpsChips((function(){}))},editItem:function(e){this.editedIndex=this.items.indexOf(e),this.dialogs.gpsChip=e,this.dialogs.show=!0},loadGpsChips:function(e){var t=this,a={sim:t.filters.sim,month:t.filters.month,year:t.filters.year,imei:t.filters.imei,assigned:t.filters.assigned?t.filters.assigned:null,deallocated:t.filters.deallocated?t.filters.deallocated:null,expired:t.filters.expired?t.filters.expired:null,order_sort:t.pagination.sortDesc[0]?"desc":"asc",order_by:t.pagination.sortBy[0]||"sim",page:t.pagination.page,per_page:t.pagination.itemsPerPage};axios.get("/admin/chips",{params:a}).then((function(a){t.items=a.data.data.data,t.totalItems=a.data.data.total,t.pagination.totalItems=a.data.data.total,(e||Function)()}))},exportGpsChips:function(){var e=this,t={sim:e.filters.sim,month:e.filters.month,year:e.filters.year,imei:e.filters.imei,assigned:e.filters.assigned?e.filters.assigned:null,deallocated:e.filters.deallocated?e.filters.deallocated:null,expired:e.filters.expired?e.filters.expired:null,order_by:e.pagination.sortBy[0]||"sim",paginate:"no"};e.$store.commit("showLoader"),axios.get("/admin/gps-chips-export",{params:t,responseType:"blob"}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download","gps-chips.xlsx"),document.body.appendChild(a),a.click()})).catch((function(t){t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)})).finally((function(){e.$store.commit("hideLoader")}))},trash:function(e){var t=this;t.$store.commit("showDialog",{type:"confirm",title:"Confirm Deletion",message:"Are you sure you want to delete this gps chip?",okCb:function(){axios.delete("/admin/chips/"+e.sim).then((function(e){t.$store.commit("showSnackbar",{message:e.data.message,color:"success",duration:3e3}),t.$eventBus.$emit("GPS_CHIP_DELETED")})).catch((function(e){e.response?t.$store.commit("showSnackbar",{message:e.response.data.message,color:"error",duration:3e3}):e.request?console.log(e.request):console.log("Error",e.message)}))},cancelCb:function(){console.log("CANCEL")}})},getColor:function(e){return e<31?"red":e<62?"orange":"green"}}},G={components:{GpsGroupLists:$,ChipsLists:Object(i.a)(F,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",{attrs:{flat:""}},[a("v-form",{ref:"filterForm"},[a("div",{staticClass:"d-flex flex-lg-row flex-xs-column flex-wrap align-center"},[a("div",{staticClass:"flex-grow-1 px-2"},[a("v-text-field",{attrs:{"prepend-icon":"mdi-magnify",label:"Buscar por SIM",clearable:""},model:{value:e.filters.sim,callback:function(t){e.$set(e.filters,"sim",t)},expression:"filters.sim"}})],1),e._v(" "),a("div",{staticClass:"flex-grow-1 px-2"},[a("v-text-field",{attrs:{"prepend-icon":"mdi-magnify",label:"Buscar por IMEI",clearable:""},model:{value:e.filters.imei,callback:function(t){e.$set(e.filters,"imei",t)},expression:"filters.imei"}})],1),e._v(" "),a("div",{staticClass:"flex-grow-1 px-2"},[a("v-select",{attrs:{"prepend-icon":"mdi-calendar-month-outline",items:e.options.months,label:"Mes Renovacion","menu-props":{offsetY:!0},"item-text":"name","item-value":"value",clearable:""},model:{value:e.filters.month,callback:function(t){e.$set(e.filters,"month",t)},expression:"filters.month"}})],1),e._v(" "),a("div",{staticClass:"flex-grow-1 px-2"},[a("v-select",{attrs:{"prepend-icon":"mdi-calendar-month-outline",items:e.options.years,"item-text":"name","item-value":"name",label:"Año Renovacion",clearable:""},model:{value:e.filters.year,callback:function(t){e.$set(e.filters,"year",t)},expression:"filters.year"}})],1),e._v(" "),a("v-row",{staticClass:"flex-grow-1 px-2",attrs:{justify:"space-around"}},[a("v-checkbox",{staticClass:"mx-1",attrs:{label:"Asignados"},model:{value:e.filters.assigned,callback:function(t){e.$set(e.filters,"assigned",t)},expression:"filters.assigned"}}),e._v(" "),a("v-checkbox",{staticClass:"mx-1",attrs:{label:"SIN Asignar"},model:{value:e.filters.deallocated,callback:function(t){e.$set(e.filters,"deallocated",t)},expression:"filters.deallocated"}}),e._v(" "),a("v-checkbox",{staticClass:"mx-1",attrs:{label:"Vencidos"},model:{value:e.filters.expired,callback:function(t){e.$set(e.filters,"expired",t)},expression:"filters.expired"}})],1)],1)])],1),e._v(" "),a("v-data-table",{staticClass:"elevation-1 text-uppercase",attrs:{headers:e.headers,options:e.pagination,items:e.items,"server-items-length":e.totalItems,dense:"","fixed-header":""},on:{"update:options":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{dense:"",elevation:"0"}},[a("div",{staticClass:"flex-grow-1 overline text-uppercase"}),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{attrs:{icon:"",color:"secondary"},on:{click:function(t){e.$refs.filterForm.reset(),e.pagination.itemsPerPage=10}}},[a("v-icon",[e._v("mdi-filter-remove-outline")])],1),e._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:"",color:"green"},on:{click:function(t){return e.exportGpsChips()}}},"v-btn",i,!1),o),[a("v-icon",[e._v("mdi-file-excel")])],1)]}}])},[e._v(" "),a("span",[e._v("Exportar")])]),e._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:"",color:"blue"},on:{click:function(t){e.dialogs.show=!0}}},"v-btn",i,!1),o),[a("v-icon",[e._v("mdi-plus-thick")])],1)]}}])},[e._v(" "),a("span",[e._v("Agregar Nuevo")])]),e._v(" "),a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.refresh()}}},[a("v-icon",[e._v("mdi-refresh")])],1)],1)]},proxy:!0},{key:"item.action",fn:function(t){var o=t.item;return[a("v-menu",{attrs:{"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",i,!1),o),[a("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e._v(" "),a("v-list",{attrs:{shaped:""}},[a("v-list-item-chip",[a("v-list-item",{on:{click:function(t){return e.editItem(o)}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"blue--text"},[e._v("mdi-information-outline")])],1),e._v(" "),a("v-list-item-content",[a("v-list-tile-title",[e._v("Detalle")])],1)],1),e._v(" "),a("v-list-item",{on:{click:function(t){return e.trash(o)}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"red--text"},[e._v("mdi-trash-can")])],1),e._v(" "),a("v-list-item-content",[a("v-list-tile-title",[e._v("Eliminar")])],1)],1)],1)],1)],1)]}},{key:"item.costo",fn:function(t){var a=t.item;return[e._v("\n      "+e._s(e._f("money")(a.costo))+"\n    ")]}},{key:"item.fecha_activacion",fn:function(t){var o=t.item;return[a("span",{staticClass:"overline text-capitalize"},[e._v("\n        "+e._s(e.$appFormatters.formatDate(o.fecha_activacion))+"\n      ")])]}},{key:"item.gps_id",fn:function(t){var o=t.item;return[a("v-avatar",{attrs:{outlined:""}},[null!=o.gps?a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-icon",e._g(e._b({staticClass:"green--text"},"v-icon",i,!1),o),[e._v("mdi-check-circle-outline")])]}}],null,!0)},[e._v(" "),a("span",[e._v(e._s(o.gps.name))])]):a("v-icon",{staticClass:"grey--text"},[e._v("mdi-alert-rhombus-outline")])],1)]}}],null,!0)}),e._v(" "),a("v-dialog",{attrs:{fullscreen:"",transition:"dialog-bottom-transition",overlay:!1},model:{value:e.dialogs.show,callback:function(t){e.$set(e.dialogs,"show",t)},expression:"dialogs.show"}},[a("v-card",[a("v-toolbar",{staticClass:"primary"},[a("v-btn",{attrs:{icon:""},nativeOn:{click:function(t){e.dialogs.show=!1,e.editedIndex=-1}}},[a("v-icon",[e._v("mdi-close")])],1),e._v(" "),a("v-toolbar-title",[e._v(e._s(e.formTitle))]),e._v(" "),a("v-spacer"),e._v(" "),a("v-toolbar-items",[a("v-btn",{attrs:{text:""},nativeOn:{click:function(t){e.dialogs.show=!1,e.editedIndex=-1}}},[e._v("Done")])],1)],1),e._v(" "),a("v-card-text",[e.formAdd?a("gps-chip-add"):a("gps-chip-edit",{attrs:{propGpsChipId:e.dialogs.gpsChip.sim}})],1)],1)],1)],1)}),[],!1,null,null,null).exports,GpsIndex:P},mounted:function(){var e=this;e.$eventBus.$on(["UPLOAD_COMPLETE"],(function(){e.active="gps"})),e.$store.commit("setBreadcrumbs",[{label:"GPS",name:""}])},data:function(){return{active:"gps"}},watch:{active:function(e){console.log("active tab: "+e)}},methods:{}},U=(a(213),Object(i.a)(G,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-tabs",{staticClass:"elevation-4 mb-2",attrs:{centered:"","icons-and-text":"",grow:"",color:"success"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("v-tab",{key:"gps",attrs:{href:"#gps",ripple:""}},[e._v(" GPS ")]),e._v(" "),a("v-tab",{key:"manage-groups-gps",attrs:{href:"#manage-groups-gps",ripple:""}},[e._v("\n    Clientes\n  ")]),e._v(" "),a("v-tab",{key:"manage-chips-gps",attrs:{href:"#manage-chips-gps",ripple:""}},[e._v("\n    Chips GPS\n  ")]),e._v(" "),a("v-tab-item",{attrs:{value:"gps"}},[a("v-card",{attrs:{flat:"",color:"grey lighten-3"}},[a("gps-index")],1)],1),e._v(" "),a("v-tab-item",{attrs:{value:"manage-groups-gps"}},[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("gps-group-lists")],1)],1)],1),e._v(" "),a("v-tab-item",{attrs:{value:"manage-chips-gps"}},[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("chips-lists")],1)],1)],1)],1)}),[],!1,null,"dcae199e",null));t.default=U.exports},function(e,t,a){"use strict";a.r(t);var o={data:function(){return{valid:!1,isLoading:!1,name:"",nameRules:[function(e){return!!e||"Name is required"}],description:"",descriptionRules:[function(e){return!!e||"Description is required"}]}},mounted:function(){console.log("pages.files.components.FileGroupAdd.vue")},methods:{save:function(){var e=this,t={name:e.name,description:e.description};e.isLoading=!0,axios.post("/admin/file-groups",t).then((function(t){e.$store.commit("showSnackbar",{message:t.data.message,color:"success",duration:3e3}),e.isLoading=!1,e.$eventBus.$emit("FILE_GROUP_ADDED"),e.$refs.fileGroupFormAdd.reset()})).catch((function(t){e.isLoading=!1,t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)}))}}},i=a(0),n={props:{propFileGroupId:{required:!0}},data:function(){return{valid:!1,isLoading:!1,name:"",nameRules:[function(e){return!!e||"Name is required"}],description:"",descriptionRules:[function(e){return!!e||"Description is required"}]}},mounted:function(){console.log("pages.files.components.FileGroupEdit.vue")},watch:{propFileGroupId:function(e){e&&this.loadFileGroup((function(){}))}},methods:{save:function(){var e=this,t={name:e.name,description:e.description};e.isLoading=!0,axios.put("/admin/file-groups/"+e.propFileGroupId,t).then((function(t){e.$store.commit("showSnackbar",{message:t.data.message,color:"success",duration:3e3}),e.isLoading=!1,e.$eventBus.$emit("FILE_GROUP_UPDATED")})).catch((function(t){e.isLoading=!1,t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)}))},loadFileGroup:function(e){var t=this;axios.get("/admin/file-groups/"+t.propFileGroupId).then((function(a){var o=a.data.data;t.name=o.name,t.description=o.description,e()}))}}},r={components:{FileGroupAdd:Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",[a("v-form",{ref:"fileGroupFormAdd",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"body-2 white--text"},[e._v("File Group Details")])]),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Group Name",rules:e.nameRules},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{attrs:{label:"Group Description",rules:e.descriptionRules},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-btn",{attrs:{disabled:!e.valid,color:"primary"},on:{click:function(t){return e.save()}}},[e._v("Save")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports,FileGroupEdit:Object(i.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",{attrs:{dark:""}},[a("v-form",{ref:"fileGroupFormEdit",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"body-2 white--text"},[e._v("File Group Details")])]),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{dark:"",label:"Group Name",rules:e.nameRules},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{attrs:{dark:"",label:"Group Description",rules:e.descriptionRules},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-btn",{attrs:{disabled:!e.valid,color:"primary",dark:""},on:{click:function(t){return e.save()}}},[e._v("Update")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports},data:function(){return{headers:[{text:"Action",value:!1,align:"left",sortable:!1},{text:"Group Name",value:"name",align:"left",sortable:!1},{text:"Description",value:"description",align:"left",sortable:!1},{text:"Total Files",value:"file_count",align:"left",sortable:!1},{text:"Date Created",value:"created_at",align:"left",sortable:!1}],items:[],totalItems:0,pagination:{rowsPerPage:10},filters:{name:""},dialogs:{edit:{fileGroup:{},show:!1},add:{show:!1}}}},mounted:function(){console.log("pages.files.components.FileGroupLists.vue");var e=this;e.$eventBus.$on(["FILE_GROUP_ADDED","FILE_GROUP_UPDATED","FILE_GROUP_DELETED"],(function(){e.loadFileGroups((function(){}))}))},watch:{"filters.name":_.debounce((function(e){this.loadFileGroups((function(){}))}),500),"pagination.page":function(){this.loadFileGroups((function(){}))},"pagination.rowsPerPage":function(){this.loadFileGroups((function(){}))}},methods:{trash:function(e){var t=this;t.$store.commit("showDialog",{type:"confirm",title:"Confirm Deletion",message:"Are you sure you want to delete this file group?",okCb:function(){axios.delete("/admin/file-groups/"+e.id).then((function(e){t.$store.commit("showSnackbar",{message:e.data.message,color:"success",duration:3e3}),t.$eventBus.$emit("FILE_GROUP_DELETED")})).catch((function(e){e.response?t.$store.commit("showSnackbar",{message:e.response.data.message,color:"error",duration:3e3}):e.request?console.log(e.request):console.log("Error",e.message)}))},cancelCb:function(){console.log("CANCEL")}})},showDialog:function(e,t){var a=this;switch(e){case"file_group_edit":a.dialogs.edit.fileGroup=t,setTimeout((function(){a.dialogs.edit.show=!0}),500);break;case"file_group_add":setTimeout((function(){a.dialogs.add.show=!0}),500)}},loadFileGroups:function(e){var t=this,a={name:t.filters.name,page:t.pagination.page,per_page:t.pagination.rowsPerPage};axios.get("/admin/file-groups",{params:a}).then((function(a){t.items=a.data.data.data,t.totalItems=a.data.data.total,t.pagination.totalItems=a.data.data.total,(e||Function)()}))}}},s=Object(i.a)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",{attrs:{flat:""}},[a("div",{staticClass:"d-flex flex-row align-center px-4"},[a("div",{staticClass:"flex-grow-1"},[a("v-text-field",{attrs:{"prepend-icon":"search",label:"Filter By Name"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("div",{staticClass:"flex-grow-1 text-right"},[a("v-btn",{staticClass:"primary lighten-1",attrs:{dark:""},on:{click:function(t){return e.showDialog("file_group_add")}}},[e._v("\n                    New File Group\n                    "),a("v-icon",{attrs:{right:""}},[e._v("mdi-plus")])],1)],1)])]),e._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,options:e.pagination,items:e.items,"server-items-length":e.totalItems},on:{"update:options":function(t){e.pagination=t}},scopedSlots:e._u([{key:"body",fn:function(t){var o=t.items;return[a("tbody",e._l(o,(function(t){return a("tr",{key:t.id},[a("td",[a("v-btn",{attrs:{icon:"",small:""},on:{click:function(a){return e.showDialog("file_group_edit",t)}}},[a("v-icon",{staticClass:"blue--text"},[e._v("edit")])],1),e._v(" "),a("v-btn",{attrs:{icon:"",small:""},on:{click:function(a){return e.trash(t)}}},[a("v-icon",{staticClass:"red--text"},[e._v("delete")])],1)],1),e._v(" "),a("td",[e._v(e._s(t.name))]),e._v(" "),a("td",[e._v(e._s(t.description))]),e._v(" "),a("td",[e._v(e._s(t.file_count))]),e._v(" "),a("td",[e._v(e._s(e.$appFormatters.formatDate(t.created_at)))])])})),0)]}}])}),e._v(" "),a("v-dialog",{attrs:{fullscreen:"",transition:"dialog-bottom-transition",overlay:!1},model:{value:e.dialogs.add.show,callback:function(t){e.$set(e.dialogs.add,"show",t)},expression:"dialogs.add.show"}},[a("v-card",[a("v-toolbar",{staticClass:"primary"},[a("v-btn",{attrs:{icon:""},nativeOn:{click:function(t){e.dialogs.add.show=!1}}},[a("v-icon",[e._v("close")])],1),e._v(" "),a("v-toolbar-title",[e._v("Create New File Group")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-toolbar-items",[a("v-btn",{attrs:{text:""},nativeOn:{click:function(t){e.dialogs.add.show=!1}}},[e._v("Done")])],1)],1),e._v(" "),a("v-card-text",[a("file-group-add")],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{fullscreen:"",laze:!1,transition:"dialog-bottom-transition",overlay:!1},model:{value:e.dialogs.edit.show,callback:function(t){e.$set(e.dialogs.edit,"show",t)},expression:"dialogs.edit.show"}},[a("v-card",[a("v-toolbar",{staticClass:"primary"},[a("v-btn",{attrs:{icon:""},nativeOn:{click:function(t){e.dialogs.edit.show=!1}}},[a("v-icon",[e._v("close")])],1),e._v(" "),a("v-toolbar-title",[e._v("Edit File Group")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-toolbar-items",[a("v-btn",{attrs:{text:""},nativeOn:{click:function(t){e.dialogs.edit.show=!1}}},[e._v("Done")])],1)],1),e._v(" "),a("v-card-text",[a("file-group-edit",{attrs:{propFileGroupId:e.dialogs.edit.fileGroup.id}})],1)],1)],1)],1)}),[],!1,null,null,null).exports,l={data:function(){return{dropzone:null,fileGroups:[],uploadTo:"",addedFiles:[]}},mounted:function(){console.log("pages.files.components.FileUpload.vue");var e=this;e.loadFileGroups((function(){})),e.initDropzone(),e.$eventBus.$on(["FILE_GROUP_ADDED"],(function(){e.loadFileGroups((function(){}))}))},methods:{clear:function(){var e=this;_.each(e.addedFiles,(function(t){e.dropzone.removeFile(t)})),e.addedFiles=[]},upload:function(){this.dropzone.processQueue()},initDropzone:function(){var e=this;Dropzone.autoDiscover=!1,e.dropzone=new Dropzone("#fileupload",{url:"/admin/files",paramName:"file",maxFilesize:50,uploadMultiple:!0,headers:{"X-CSRF-TOKEN":_token},autoProcessQueue:!0,init:function(){},success:function(e,t){}}),e.dropzone.on("addedfile",(function(t){e.uploadTo?e.addedFiles.push(t):(e.$store.commit("showSnackbar",{message:"Please choose file group to upload the file(s)",color:"error",duration:3e3}),e.dropzone.removeFile(t))})),e.dropzone.on("sending",(function(t,a,o){o.append("file_group_id",e.uploadTo)})),e.dropzone.on("complete",(function(t){e.$store.commit("showSnackbar",{message:"File(s) uploaded successfully.",color:"success",duration:3e3}),e.$eventBus.$emit("FILE_UPLOADED")}))},loadFileGroups:function(e){var t=this;axios.get("/admin/file-groups",{params:{paginate:"no"}}).then((function(a){t.fileGroups=a.data.data,e()}))}}},c=(a(219),Object(i.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",[a("v-form",{ref:"fileFormUpload",attrs:{"lazy-validation":""}},[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm8:""}},[a("v-select",{attrs:{label:"Upload To File Group",items:e.fileGroups,"item-text":"name","item-value":"id"},model:{value:e.uploadTo,callback:function(t){e.uploadTo=t},expression:"uploadTo"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-btn",{staticClass:"primary lighten-1",attrs:{block:"",dark:""},on:{click:function(t){return e.clear()}}},[e._v("\n              Clear\n            ")])],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"dropzone",attrs:{id:"fileupload"}})])],1)],1)],1)],1)],1)}),[],!1,null,"52bb6714",null).exports),u={components:{},data:function(){return{headers:[{text:"Action",value:!1,align:"left",sortable:!1},{text:"Thumb",value:"thumb",align:"left",sortable:!1},{text:"Name",value:"name",align:"left",sortable:!1},{text:"Size",value:"size",align:"left",sortable:!1},{text:"Found In",value:"group",align:"left",sortable:!1},{text:"Date Created",value:"created_at",align:"left",sortable:!1}],items:[],totalItems:0,pagination:{rowsPerPage:10},filters:{name:"",selectedGroupIds:"",fileGroupId:[],fileGroupsHolder:[]},dialogs:{view:{file:{},show:!1}}}},mounted:function(){console.log("pages.files.components.FileLists.vue");var e=this;e.$eventBus.$on(["FILE_DELETED","FILE_UPLOADED"],(function(){e.loadFiles((function(){}))})),e.loadFileGroups((function(){}))},watch:{"filters.fileGroupId":_.debounce((function(e){var t=[];_.each(e,(function(e,a){e&&t.push(a)})),this.filters.selectedGroupIds=t.join(",")}),500),"filters.selectedGroupIds":function(e){this.loadFiles((function(){}))},"filters.name":_.debounce((function(e){this.loadFiles((function(){}))}),500),"pagination.page":function(){this.loadFiles((function(){}))},"pagination.rowsPerPage":function(){this.loadFiles((function(){}))}},methods:{getFullUrl:function(e,t,a){var o=t||4e3,i=a||"resize";return LSK_APP.APP_URL+"/files/"+e.id+"/preview?w="+o+"&action="+i},downloadFile:function(e){window.open(LSK_APP.APP_URL+"/files/"+e.id+"/download?file_token="+e.file_token)},showDialog:function(e,t){var a=this;switch(e){case"file_show":a.dialogs.view.file=t,setTimeout((function(){a.dialogs.view.show=!0}),500)}},trash:function(e){var t=this;t.$store.commit("showDialog",{type:"confirm",title:"Confirm Deletion",message:"Are you sure you want to delete this file?",okCb:function(){axios.delete("/admin/files/"+e.id).then((function(e){t.$store.commit("showSnackbar",{message:e.data.message,color:"success",duration:3e3}),t.$eventBus.$emit("FILE_DELETED"),t.dialogs.view.show=!1})).catch((function(e){e.response?t.$store.commit("showSnackbar",{message:e.response.data.message,color:"error",duration:3e3}):e.request?console.log(e.request):console.log("Error",e.message)}))},cancelCb:function(){console.log("CANCEL")}})},loadFileGroups:function(e){var t=this;axios.get("/admin/file-groups",{params:{paginate:"no"}}).then((function(a){t.filters.fileGroupsHolder=a.data.data,e()}))},loadFiles:function(e){var t=this,a={name:t.filters.name,file_group_id:t.filters.selectedGroupIds,page:t.pagination.page,per_page:t.pagination.rowsPerPage};axios.get("/admin/files",{params:a}).then((function(a){t.items=a.data.data.data,t.totalItems=a.data.data.total,t.pagination.totalItems=a.data.data.total,(e||Function)()}))}}},d=(a(221),{components:{FileUpload:c,FileGroupLists:s,FileLists:Object(i.a)(u,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",[a("div",{staticClass:"d-flex flex-column"},[a("div",{staticClass:"flex-grow-1 pa-2"},[a("v-text-field",{attrs:{"prepend-icon":"search",label:"Filter By Name or Extension"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("div",{staticClass:"flex-grow-1 pa-2"},[e._v("\n        Show Only:\n      ")]),e._v(" "),a("div",{staticClass:"d-flex flex-xs-row flex-wrap align-center"},e._l(e.filters.fileGroupsHolder,(function(t,o){return a("span",{key:o,staticClass:"px-2"},[a("v-checkbox",{attrs:{label:t.name},model:{value:e.filters.fileGroupId[t.id],callback:function(a){e.$set(e.filters.fileGroupId,t.id,a)},expression:"filters.fileGroupId[group.id]"}})],1)})),0)])]),e._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,options:e.pagination,items:e.items,"server-items-length":e.totalItems},on:{"update:options":function(t){e.pagination=t}},scopedSlots:e._u([{key:"body",fn:function(t){var o=t.items;return[a("tbody",e._l(o,(function(t){return a("tr",{key:t.id},[a("td",[a("v-btn",{attrs:{icon:"",small:""},on:{click:function(a){return e.showDialog("file_show",t)}}},[a("v-icon",{staticClass:"blue--text"},[e._v("mdi-magnify")])],1),e._v(" "),a("v-btn",{attrs:{icon:"",small:""},on:{click:function(t){return e.trash(e.props.item)}}},[a("v-icon",{staticClass:"red--text"},[e._v("mdi-delete")])],1)],1),e._v(" "),a("td",[a("v-avatar",{staticClass:"grey lighten-4",attrs:{tile:"",size:"50px"}},[a("img",{attrs:{src:e.getFullUrl(t,50,"fit")}})])],1),e._v(" "),a("td",[e._v(e._s(t.name))]),e._v(" "),a("td",[e._v("\n            "+e._s(e.$appFormatters.formatByteToMB(t.size).toString()+" MB")+"\n          ")]),e._v(" "),a("td",[e._v(e._s(t.group.name))]),e._v(" "),a("td",[e._v(e._s(e.$appFormatters.formatDate(t.created_at)))])])})),0)]}}])}),e._v(" "),a("v-dialog",{attrs:{fullscreen:"",laze:!1,transition:"dialog-bottom-transition",overlay:!1},model:{value:e.dialogs.view.show,callback:function(t){e.$set(e.dialogs.view,"show",t)},expression:"dialogs.view.show"}},[a("v-card",[a("v-toolbar",{staticClass:"primary"},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogs.view.show=!1}}},[a("v-icon",[e._v("close")])],1),e._v(" "),a("v-toolbar-title",{staticClass:"white--text"},[e._v(e._s(e.dialogs.view.file.name))]),e._v(" "),a("v-spacer"),e._v(" "),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",text:""},nativeOn:{click:function(t){return e.downloadFile(e.dialogs.view.file)}}},[e._v("\n            Download\n            "),a("v-icon",{attrs:{right:"",dark:""}},[e._v("file_download")])],1)],1),e._v(" "),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",text:""},nativeOn:{click:function(t){return e.trash(e.dialogs.view.file)}}},[e._v("\n            Delete\n            "),a("v-icon",{attrs:{right:"",dark:""}},[e._v("delete")])],1)],1)],1),e._v(" "),a("v-card-text",[a("div",{staticClass:"file_view_popup"},[a("div",{staticClass:"file_view_popup_link"},[a("v-text-field",{attrs:{text:"",disabled:"",value:e.getFullUrl(e.dialogs.view.file)}})],1),e._v(" "),a("img",{attrs:{src:e.getFullUrl(e.dialogs.view.file)}})])])],1)],1)],1)}),[],!1,null,"3f102da7",null).exports},mounted:function(){console.log("pages.FileManager.vue");this.$store.commit("setBreadcrumbs",[{label:"Files",name:""}])},data:function(){return{active:"files"}},watch:{active:function(e){console.log("active tab: "+e)}},methods:{}}),m=(a(223),Object(i.a)(d,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page_wrap_vue"},[a("v-tabs",{attrs:{color:"primary"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("v-tab",{key:"files",attrs:{href:"#files",ripple:""}},[e._v("\n            Files\n        ")]),e._v(" "),a("v-tab",{key:"manage-groups",attrs:{href:"#manage-groups",ripple:""}},[e._v("\n            Manage File Groups\n        ")]),e._v(" "),a("v-tab",{key:"upload",attrs:{href:"#upload",ripple:""}},[e._v("\n            Upload\n        ")]),e._v(" "),a("v-tab-item",{attrs:{value:"files"}},[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("file-lists")],1)],1)],1),e._v(" "),a("v-tab-item",{attrs:{value:"manage-groups"}},[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("file-group-lists")],1)],1)],1),e._v(" "),a("v-tab-item",{attrs:{value:"upload"}},[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("file-upload")],1)],1)],1)],1)],1)}),[],!1,null,"b28bd852",null));t.default=m.exports},function(e,t,a){"use strict";a.r(t);var o=a(2),i=a.n(o),n=a(146),r=a.n(n),s=a(182),l=a.n(s),c=a(178),u=a.n(c);function d(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,a,o;return t=e,o=[{key:"create",value:function(e){return"editor"===e.role}},{key:"view",value:function(e,t){return!0}},{key:"createUser",value:function(e){return 1===e["user.create"]}},{key:"deleteUser",value:function(e){return 1===e["user.delete"]}},{key:"updateUser",value:function(e){return 1===e["user.edit"]}},{key:"adminAgency",value:function(e){return 1===e["admin.agencies"]}},{key:"adminGroup",value:function(e){return 1===e["admin.groups"]}},{key:"adminPermission",value:function(e){return 1===e["admin.permissions"]}}],(a=null)&&d(t.prototype,a),o&&d(t,o),e}();function v(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,a,o;return t=e,o=[{key:"updateGps",value:function(e){return!!this.isAdmin(e)||1===e["gps.edit"]}},{key:"isAdmin",value:function(e){return 1===e["gps.admin"]}}],(a=null)&&v(t.prototype,a),o&&v(t,o),e}();function f(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,a,o;return t=e,o=[{key:"assignSeller",value:function(e){return!!this.isAdmin(e)||1===e["asignar.vendedor"]}},{key:"isGerente",value:function(e){return!!this.isAdmin(e)||1===e.gerente}},{key:"isOwner",value:function(e){}},{key:"isAdmin",value:function(e){return 1===e["tracking.admin"]}}],(a=null)&&f(t.prototype,a),o&&f(t,o),e}();function h(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var _=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,a,o;return t=e,o=[{key:"canAutorizar",value:function(e){return!!this.isAdmin(e)}},{key:"canDispersar",value:function(e){return 1===e["flotilla.dispersar"]}},{key:"isAdmin",value:function(e){return 1===e["flotilla.admin"]}}],(a=null)&&h(t.prototype,a),o&&h(t,o),e}();function b(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var x=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.user=t,this.policies={user:m,gps:p,tracking:g,vehicles:_}}var t,a,o;return t=e,(a=[{key:"auth",value:function(){var e=this.user;return{id:e.id,name:e.name,email:e.email}}},{key:"before",value:function(){return 1===this.user.all_permissions.superuser}},{key:"allow",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return!!this.before()||this.policies[t][e](this.user.all_permissions,a)}},{key:"deny",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return!this.allow(e,t,a)}}])&&b(t.prototype,a),o&&b(t,o),e}(),y=a(154),C=a.n(y);i.a.prototype._=C.a;var O=a(148),k=a(10),S=a(7);i.a.use(k.a);var N=new k.a.Store({state:{breadcrumbs:[],showLoader:!1,showSnackbar:!1,snackbarMessage:"",snackbarColor:"",snackbarDuration:3e3,dialogShow:!1,dialogType:"",dialogTitle:"",dialogMessage:"",dialogIcon:null,dialogOkCb:function(){},dialogCancelCb:function(){},Assertiveness:S},mutations:{setBreadcrumbs:function(e,t){t.unshift({label:"Home",to:{name:"dashboard"}}),e.breadcrumbs=t},showLoader:function(e){e.showLoader=!0},hideLoader:function(e){e.showLoader=!1},showSnackbar:function(e,t){e.snackbarDuration=t.duration||3e3,e.snackbarMessage=t.message||"No message.",e.snackbarColor=t.color||"info",e.showSnackbar=!0},hideSnackbar:function(e){e.showSnackbar=!1},showDialog:function(e,t){e.dialogType=t.type||"confirm",e.dialogTitle=t.title,e.dialogMessage=t.message,e.dialogIcon=t.icon||null,e.dialogOkCb=t.okCb||function(){},e.dialogCancelCb=t.cancelCb||function(){},e.dialogShow=!0},hideDialog:function(e){e.dialogShow=!1},dialogOk:function(e){e.dialogOkCb(),e.dialogShow=!1},dialogCancel:function(e){e.dialogCancelCb(),e.dialogShow=!1}},getters:{getBreadcrumbs:function(e){return e.breadcrumbs},showLoader:function(e){return e.showLoader},showSnackbar:function(e){return e.showSnackbar},snackbarMessage:function(e){return e.snackbarMessage},snackbarColor:function(e){return e.snackbarColor},snackbarDuration:function(e){return e.snackbarDuration},showDialog:function(e){return e.dialogShow},dialogType:function(e){return e.dialogType},dialogTitle:function(e){return e.dialogTitle},dialogMessage:function(e){return e.dialogMessage},dialogIcon:function(e){return e.dialogIcon}}}),w=[{path:"/tracking-prospect",name:"trackingProspect",component:a(234).default,children:[{path:"notification",name:"notification.list",component:a(235).default},{path:"sellers",name:"sellers.list",component:a(236).default},{path:"sellers/create",name:"sellers.create",component:a(237).default},{path:"seller/edit/:propSellerId",name:"sellers.edit",component:a(238).default,props:!0},{path:"prospect",name:"prospect.list",component:a(239).default},{path:"prospect/create",name:"prospect.create",component:a(240).default},{path:"prospect/edit/:propProspectId",name:"prospect.edit",component:a(241).default,props:!0},{path:"tracking",name:"tracking.list",component:a(229).default},{path:"tracking/create/:propProspectId?",name:"tracking.create",component:a(242).default,props:!0},{path:"tracking/edit/:propTrackingId",name:"tracking.edit",component:a(243).default,props:!0},{path:"tracking/prospect/:propTrackingId",name:"tracking.prospect",component:a(155).default,props:!0},{path:"tracking/diary",name:"tracking.diary",component:a(244).default,props:!0}]}],P=[{path:"/users",component:a(245).default,children:[{path:"/",name:"users.list",component:a(246).default},{path:"create",name:"users.create",component:a(247).default},{path:"edit/:id",name:"users.edit",component:a(248).default,props:function(e){return{propUserId:e.params.id}}},{path:"groups",name:"users.groups.list",component:a(249).default},{path:"groups/create",name:"users.groups.create",component:a(250).default},{path:"groups/edit/:id",name:"users.groups.edit",component:a(251).default,props:function(e){return{propGroupId:e.params.id}}},{path:"permissions",name:"users.permissions.list",component:a(252).default},{path:"permissions/create",name:"users.permissions.create",component:a(253).default},{path:"permissions/edit/:id",name:"users.permissions.edit",component:a(254).default,props:function(e){return{propPermissionId:e.params.id}}}]}],D=[{path:"/gps",name:"gps",component:a(225).default},{path:"/gps/create",name:"gps.create",component:a(255).default},{path:"/gps/:propGpsId/edit",name:"gps.edit",component:a(156).default,props:!0}],T=[{path:"/vehicles",component:a(256).default,children:[{path:"list",name:"vehicle.list",component:a(257).default},{path:"create",name:"vehicle.create",component:a(258).default},{path:"edit/:propVehicleId",name:"vehicle.edit",component:a(259).default,props:!0},{path:"/dispersion/list",name:"vehicle.dispersion.list",component:a(260).default},{path:"/dispersion/create/:propsVehicleId?",name:"vehicle.dispersal.create",component:a(261).default,props:!0},{path:"/dispersion/edit/:propsVehicleDispersalId",name:"vehicle.dispersion.edit",component:a(262).default,props:!0},{path:"/services/list",name:"vehicle.services.list",component:a(263).default},{path:"/services/create/:propsVehicleId?",name:"vehicle.services.create",component:a(264).default,props:!0},{path:"/services/edit/:propsVehicleServiceId",name:"vehicle.services.edit",component:a(265).default,props:!0}]}];function A(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return $(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,o=new Array(t);a<t;a++)o[a]=e[a];return o}var E=[].concat(A(w),A(P),A(D),A(T));function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,o=new Array(t);a<t;a++)o[a]=e[a];return o}i.a.use(O.default);var I,j=new O.default({routes:[{path:"/",redirect:"/dashboard"},{name:"dashboard",path:"/dashboard",component:a(231).default},{name:"quote",path:"/cotizador",component:a(232).default},{name:"files",path:"/files",component:a(226).default},{name:"marketing",path:"/marketing",component:a(228).default},{name:"settings",path:"/settings",component:a(233).default}].concat((I=E,function(e){if(Array.isArray(e))return M(e)}(I)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(I)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?M(e,t):void 0}}(I)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))});j.beforeEach((function(e,t,a){N.commit("showLoader"),a()})),j.afterEach((function(e,t){setTimeout((function(){N.commit("hideLoader")}),1e3)}));var R=j,L=new i.a,F={install:function(e,t){e.prototype.$eventBus=L}},G={install:function(e,t){e.prototype.$appFormatters={formatDate:function(e,t){return moment(e).format(t||"YYYY-MM-DD")},formatTimeFromNow:function(e){return moment(e).fromNow(!0)},formatTimeDiffNow:function(e,t){return moment(e).diff(Date.now(),t||"days")},formatTimeDiffDays:function(e,t){return moment(e).diff(t,"days")},formatLetterMonth:function(e){return moment.months(e)},formatByteToMB:function(e){return(e/1048576).toFixed(2)},formatMbToBytes:function(e){return(1048576*e).toFixed(2)}}}};function U(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var q=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,a,o;return t=e,(a=[{key:"init",value:function(e,t){var a=0;window.axios.interceptors.request.use((function(t){return 1==++a&&(N.commit("showLoader"),e()),t}),(function(e){return Promise.reject(e)})),window.axios.interceptors.response.use((function(e){return 0==--a&&(t(),N.commit("hideLoader")),e}),(function(e){return 401===e.response.status&&(window.location.href="/login"),e.response?N.commit("showSnackbar",{message:e.response.data.message,color:"error",duration:5e3}):e.request?console.log(e.request):console.log("Error",e.message),0==--a&&(N.commit("hideLoader"),t()),Promise.reject(e)}))}}])&&U(t.prototype,a),o&&U(t,o),e}()),V=Array.prototype.map,B=Array.isArray,z=Object.prototype.toString;function H(e){return!!(""===e||e&&e.charCodeAt&&e.substr)}function J(e){return B?B(e):"[object Array]"===z.call(e)}function X(e){return e&&"[object Object]"===z.call(e)}function K(e,t){var a;for(a in e=e||{},t=t||{})t.hasOwnProperty(a)&&null==e[a]&&(e[a]=t[a]);return e}function Y(e,t,a){if(!e)return[];if(V&&e.map===V)return e.map(t,a);var o,i=[],n=0;for(n=0,o=e.length;n<o;n++)i[n]=t.call(a,e[n],n,e);return i}var Q={settings:{currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}}};function W(e,t){return void 0===t&&(t=0),e=Math.round(Math.abs(e)),isNaN(e)?t:e}var Z=function e(t,a){if(J(t))return Y(t,(function(t){return e(t,a)}));if("number"==typeof(t=t||0))return t;a=a||Q.settings.number.decimal;var o=new RegExp("[^0-9-"+a+"]",["g"]),i=parseFloat((""+t).replace(/\((?=\d+)(.*)\)/,"-$1").replace(o,"").replace(a,"."));return isNaN(i)?0:i},ee=function(e,t){t=W(t,Q.settings.number.precision);var a=Number(Z(e)+"e"+t),o=Math.round(a);return Number(o+"e-"+t).toFixed(t)},te={name:"currency",symbol:"",thousandsSeparator:".",fractionCount:0,fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0,avoidEmptyDecimals:void 0},ae={install:function(e,t){var a=function(t){null==t&&(t={});var a=K(t,te),o=a.name,i=function(e,t){if(null==e)return{};var a,o,i={},n=Object.keys(e);for(o=0;o<n.length;o++)t.indexOf(a=n[o])>=0||(i[a]=e[a]);return i}(a,["name"]),n=function(e,t,a,o,n,r,s,l){var c=K({symbol:t,thousandsSeparator:a,fractionCount:o,fractionSeparator:n,symbolPosition:r,symbolSpacing:s,avoidEmptyDecimals:l},i);"object"==typeof t&&(c=K(t,i));var u=0,d="-"===String(e).charAt(0);d&&(e=String(e).slice(1));var m,v=parseFloat(e);return isNaN(v)||(u=v),m="front"===c.symbolPosition?c.symbolSpacing?"%s %v":"%s%v":c.symbolSpacing?"%v %s":"%v%s",c.fractionCount>0&&(e=ee(e,c.fractionCount)),u=function e(t,a,o,i,n,r,s){if(J(t))return Y(t,(function(t){return e(t,a,o,i,n,r,s)}));t=Z(t);var l=K(X(a)?a:{symbol:a,precision:o,thousand:i,decimal:n,format:r,avoidEmptyDecimals:s},Q.settings.currency),c=function(e){var t=Q.settings.currency.format;return"function"==typeof e&&(e=e()),H(e)&&e.match("%v")?{pos:e,neg:e.replace("-","").replace("%v","-%v"),zero:e}:e&&e.pos&&e.pos.match("%v")?e:H(t)?Q.settings.currency.format={pos:t,neg:t.replace("%v","-%v"),zero:t}:t}(l.format);return(t>0?c.pos:t<0?c.neg:c.zero).replace("%s",l.symbol).replace("%v",function e(t,a,o,i,n){if(J(t))return Y(t,(function(t){return e(t,a,o,i,n)}));t=Z(t);var r=K(X(a)?a:{precision:a,thousand:o,decimal:i},Q.settings.number),s=W(r.precision),l=t<0?"-":"",c=parseInt(ee(Math.abs(t||0),s),10)+"",u=c.length>3?c.length%3:0,d="";return s&&(d=r.decimal+ee(Math.abs(t),s).split(".")[1],void 0!==n&&parseInt(ee(Math.abs(t||0),1),10)==t&&(d=""===n?"":r.decimal+n)),l+(u?c.substr(0,u)+r.thousand:"")+c.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+r.thousand)+d}(Math.abs(t),W(l.precision),l.thousand,l.decimal,l.avoidEmptyDecimals))}(e,{format:m,symbol:c.symbol,precision:c.fractionCount,thousand:c.thousandsSeparator,decimal:c.fractionSeparator,avoidEmptyDecimals:c.avoidEmptyDecimals}),d&&(u="-"+u),u};e.filter(o,n),e.prototype["$"+o]={setConfig:function(e){i=K(e,te)},getConfig:function(){return i},format:n}};Array.isArray(t)?t.forEach((function(e){return a(e)})):a(t)}};a(184),window.Vue=a(2),i.a.use(r.a),i.a.prototype.$gate=new x(window.LSK_APP.AUTH_USER),i.a.use(u.a,{color:"#3f51b5",failedColor:"#b71c1c",thickness:"5px",transition:{speed:"0.2s",opacity:"0.6s"},autoRevert:!0,inverse:!1,autoFinish:!1}),i.a.component("moon-loader",a(230).default),i.a.use(G),i.a.use(F),i.a.use(ae,[{symbol:"$",thousandsSeparator:",",fractionCount:2,fractionSeparator:".",symbolPosition:"front",symbolSpacing:!1,avoidEmptyDecimals:"00"},{name:"kms",symbol:"KMS",thousandsSeparator:",",fractionCount:2,fractionSeparator:".",symbolPosition:"back",symbolSpacing:!0,avoidEmptyDecimals:""}]),i.a.filter("money",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MXN";return new Intl.NumberFormat("es-MX",{style:"currency",currency:t,maximumFractionDigits:2,minimumFractionDigits:2}).format(e)})),i.a.filter("percent",(function(e){return new Intl.NumberFormat("es-MX",{style:"percent"}).format(e)}));new i.a({vuetify:new r.a({theme:{dark:!1,themes:{dark:{primary:"#3f51b5",info:"#4c86b5",success:"#17b535",secondary:"#b0bec5",accent:"#8c9eff",error:"#b71c1c"},light:{primary:"#43A047",info:"#4c86b5",success:"#17b535",secondary:"#b0bec5",accent:"#8c9eff",error:"#b71c1c"}}},icons:{iconfont:"mdi"},lang:{locales:{es:l.a},current:"es"}}),el:"#admin",eventBus:F,router:R,store:N,data:function(){return{drawer:!1}},mounted:function(){var e=this;q.init((function(){e.$Progress.start()}),(function(){e.$Progress.finish()}))},computed:{getBreadcrumbs:function(){return N.getters.getBreadcrumbs},showLoader:function(){return N.getters.showLoader},showSnackbar:{get:function(){return N.getters.showSnackbar},set:function(e){e||N.commit("hideSnackbar")}},snackbarMessage:function(){return N.getters.snackbarMessage},snackbarColor:function(){return N.getters.snackbarColor},snackbarDuration:function(){return N.getters.snackbarDuration},showDialog:{get:function(){return N.getters.showDialog},set:function(e){e||N.commit("hideDialog")}},dialogType:function(){return N.getters.dialogType},dialogTitle:function(){return N.getters.dialogTitle},dialogMessage:function(){return N.getters.dialogMessage},dialogIcon:function(){return N.getters.dialogIcon}},methods:{menuClick:function(e,t){var a=t||"vue";"vue"===a&&this.$router.push({name:e}),"full_load"===a&&(window.location.href=e)},clickLogout:function(e,t){axios.post(e).then((function(e){window.location.href=t}))},dialogOk:function(){N.commit("dialogOk")},dialogCancel:function(){N.commit("dialogCancel")}}})},function(e,t,a){"use strict";a.r(t);var o={mounted:function(){this.loadSalesHistory((function(){})),this.loadResources((function(){}))},data:function(){return{page:1,pageCount:0,itemsPerPage:10,totalItems:0,items:[],currentItems:[],options:{years:[],months:[],type_of_sale:[],brands:[],agencies:[],seller:[]},filters:{product_name:"",customer_name:"",years:[],months:[],type_of_sale:[],brands:[],agencies:[],seller:[],isMXN:null,isUSD:null}}},computed:{headers:function(){return[{text:"Mes / Año",align:"left",sortable:!1,value:"MES",class:"font-weight-bold"},{text:"Marca",align:"left",sortable:!1,value:"MARCA",width:"100"},{text:"Producto",align:"left",sortable:!1,value:"DESCRIPCION_PRODUCTO"},{text:"Cliente",align:"left",sortable:!1,value:"NOMBRE_CLIENTE",width:"250"},{text:"Tipo Venta",align:"center",sortable:!1,value:"TIPO_DE_VENTA",divider:!0},{text:"Moneda",align:"center",sortable:!1,value:"MONEDA"},{text:"Precio Venta",align:"right",sortable:!1,value:"PRECIO_VENTA"},{text:"Costo",align:"right",sortable:!1,value:"TOTAL_COSTO"},{text:"Total",align:"right",sortable:!1,value:"TOTAL"},{text:"% Margen",align:"right",sortable:!1,value:"PORCENTAJE_MARGEN"}]},minHeight:function(){var e=this.$vuetify.breakpoint.mdAndUp?"70vh":"60vh";return"calc(".concat(e," - ").concat(this.$vuetify.application.top,"px)")},canExport:function(){return this.totalItems>1500}},watch:{page:{handler:_.debounce((function(){this.loadSalesHistory((function(){}))}),700),deep:!0},itemsPerPage:{handler:_.debounce((function(){this.loadSalesHistory((function(){}))}),700),deep:!0},filters:{handler:_.debounce((function(e){this.loadSalesHistory((function(){}))}),700),deep:!0}},methods:{cleanFilter:function(){this.$refs.filterForm.reset(),this.itemsPerPage=10,this.page=1},loadSalesHistory:function(e){var t=this,a={product_name:t.filters.product_name,customer_name:t.filters.customer_name,years:t.filters.years.join(","),months:t.filters.months.join(","),agencies:t.filters.agencies.join(","),brands:t.filters.brands.join(","),type_of_sale:t.filters.type_of_sale.join(","),seller:t.filters.seller.join(","),isMXN:!!t.filters.isMXN||null,isUSD:!!t.filters.isUSD||null,page:t.page,per_page:t.itemsPerPage};axios.get("/admin/marketing/sales_history",{params:a}).then((function(a){var o=a.data.data;t.items=o.data,t.totalItems=o.total,(e||Function)()}))},loadResources:function(e){var t=this;axios.get("/admin/marketing/sales_history/resources").then((function(a){var o=a.data.data;t.options.years=o.years,t.options.months=o.months,t.options.type_of_sale=o.type_of_sale,t.options.agencies=o.agencies,t.options.brands=o.brands,t.options.seller=o.seller,(e||Function)()}))},excelGenerate:function(){var e=this;if(e.filters.years.length<=0)return e.$store.commit("showSnackbar",{message:"Agregar Filtro por Año",color:"warning",duration:3e3});e.$store.commit("showLoader");var t={product_name:e.filters.product_name,customer_name:e.filters.customer_name,years:e.filters.years.join(","),months:e.filters.months.join(","),agencies:e.filters.agencies.join(","),brands:e.filters.brands.join(","),type_of_sale:e.filters.type_of_sale.join(","),seller:e.filters.seller.join(","),isMXN:!!e.filters.isMXN||null,isUSD:!!e.filters.isUSD||null,paginate:"no"};axios.get("/admin/marketing/export",{params:t,responseType:"blob"}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download","Historial_Ventas.xlsx"),document.body.appendChild(a),a.click()})).catch((function(t){t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)})).finally((function(){e.$store.commit("hideLoader")}))},getColor:function(e){return e<20?"red":e<30?"orange":"green"}}},i=a(0),n={name:"App",components:{HistorySales:Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{elevation:"0"}},[a("v-container",[a("v-form",{ref:"filterForm"},[a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12",xs:"12",md:"6"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-magnify",type:"text",label:"Descripcion Producto",clearable:""},model:{value:e.filters.product_name,callback:function(t){e.$set(e.filters,"product_name",t)},expression:"filters.product_name"}})],1),e._v(" "),a("v-col",{staticClass:"py-0",attrs:{cols:"12",xs:"12",md:"6"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-magnify",type:"text",label:"Nombre Cliente",clearable:""},model:{value:e.filters.customer_name,callback:function(t){e.$set(e.filters,"customer_name",t)},expression:"filters.customer_name"}})],1),e._v(" "),a("v-col",{staticClass:"py-0",attrs:{cols:"12",xs:"12",md:"3"}},[a("v-select",{staticClass:"mt-2",attrs:{items:e.options.years,label:"Filtro por Años","item-text":"ANIO","item-value":"ANIO",dense:"",filled:"",multiple:"",outlined:"",clearable:"","small-chips":"","hide-details":"","deletable-chips":"","prepend-icon":"mdi-calendar"},model:{value:e.filters.years,callback:function(t){e.$set(e.filters,"years",t)},expression:"filters.years"}})],1),e._v(" "),a("v-col",{staticClass:"py-0",attrs:{cols:"12",xs:"12",md:"3"}},[a("v-autocomplete",{staticClass:"mt-2",attrs:{"hide-details":"",outlined:"",dense:"",filled:"",multiple:"","small-chips":"","deletable-chips":"",clearable:"","prepend-icon":"mdi-calendar-month",label:"Filtro por Mes",items:e.options.months,"item-text":"MES","item-value":"MES"},model:{value:e.filters.months,callback:function(t){e.$set(e.filters,"months",t)},expression:"filters.months"}})],1),e._v(" "),a("v-col",{staticClass:"py-0",attrs:{cols:"12",xs:"12",md:"3"}},[a("v-autocomplete",{staticClass:"mt-2",attrs:{"hide-details":"",outlined:"",dense:"",filled:"",multiple:"","small-chips":"","deletable-chips":"",clearable:"","prepend-icon":"mdi-filter-variant",label:"Filtro por Sucursal",items:e.options.agencies,"item-text":"SUCURSAL","item-value":"SUCURSAL"},model:{value:e.filters.agencies,callback:function(t){e.$set(e.filters,"agencies",t)},expression:"filters.agencies"}})],1),e._v(" "),a("v-col",{staticClass:"py-0",attrs:{cols:"12",xs:"12",md:"3"}},[a("v-autocomplete",{staticClass:"mt-2",attrs:{"hide-details":"",outlined:"",dense:"",filled:"",multiple:"","small-chips":"","deletable-chips":"",clearable:"","prepend-icon":"mdi-filter-variant",label:"Filtro por Tipo de Venta",items:e.options.type_of_sale,"item-text":"TIPO_DE_VENTA","item-value":"TIPO_DE_VENTA"},model:{value:e.filters.type_of_sale,callback:function(t){e.$set(e.filters,"type_of_sale",t)},expression:"filters.type_of_sale"}})],1),e._v(" "),a("v-col",{staticClass:"py-0",attrs:{cols:"12",xs:"12",md:"3"}},[a("v-autocomplete",{staticClass:"mt-2",attrs:{"hide-details":"",outlined:"",dense:"",filled:"",multiple:"","small-chips":"","deletable-chips":"",clearable:"","prepend-icon":"mdi-filter-variant",label:"Filtro por Marca",items:e.options.brands,"item-text":"MARCA","item-value":"MARCA"},model:{value:e.filters.brands,callback:function(t){e.$set(e.filters,"brands",t)},expression:"filters.brands"}})],1),e._v(" "),a("v-col",{staticClass:"py-0",attrs:{cols:"12",xs:"12",md:"3"}},[a("v-autocomplete",{staticClass:"mt-2",attrs:{"hide-details":"",outlined:"",dense:"",filled:"",multiple:"","small-chips":"","deletable-chips":"",clearable:"","prepend-icon":"mdi-filter-variant",label:"Filtro por Vendedor",items:e.options.seller,"item-text":"VENDEDOR","item-value":"VENDEDOR"},model:{value:e.filters.seller,callback:function(t){e.$set(e.filters,"seller",t)},expression:"filters.seller"}})],1),e._v(" "),a("v-row",{staticClass:"justify-space-around mx-2 justify-center"},[a("v-checkbox",{attrs:{label:"MXN","hide-details":""},model:{value:e.filters.isMXN,callback:function(t){e.$set(e.filters,"isMXN",t)},expression:"filters.isMXN"}}),e._v(" "),a("v-checkbox",{attrs:{label:"USD","hide-details":""},model:{value:e.filters.isUSD,callback:function(t){e.$set(e.filters,"isUSD",t)},expression:"filters.isUSD"}})],1)],1)],1)],1),e._v(" "),a("v-data-table",{staticClass:"elevation-2 mx-2 text-uppercase",attrs:{headers:e.headers,items:e.items,page:e.page,"items-per-page":e.itemsPerPage,"server-items-length":e.totalItems,"hide-default-footer":"",height:e.minHeight,"fixed-header":"",dense:""},on:{"update:page":function(t){e.page=t},"page-count":function(t){e.pageCount=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-container",{attrs:{fluid:"","py-0":""}},[a("v-row",[a("span",{staticClass:"d-flex overline align-center pl-4"},[e._v("\n            historico de ventas\n          ")]),e._v(" "),a("div",{staticClass:"cols-4 d-flex flex-grow-1 justify-end align-center mx-2"},[a("span",{staticClass:"overline pr-2"},[e._v("\n              total Registros: "+e._s(e.totalItems)+"\n            ")]),e._v(" "),a("div",{staticStyle:{"max-width":"90px"}},[a("v-select",{staticClass:"my-2",attrs:{items:[5,10,25,50,100],label:"Items Pagina",reverse:"",filled:"",solo:"","hide-details":"",dense:""},model:{value:e.itemsPerPage,callback:function(t){e.itemsPerPage=t},expression:"itemsPerPage"}})],1),e._v(" "),a("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){return e.cleanFilter()}}},[a("v-icon",[e._v("mdi-filter-remove-outline")])],1),e._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:"",color:"green"},on:{click:function(t){return e.excelGenerate()}}},"v-btn",i,!1),o),[a("v-icon",[e._v("mdi-file-excel")])],1)]}}])},[e._v(" "),a("span",[e._v("Exportar")])]),e._v(" "),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.loadResources(),e.itemsPerPage=10,e.page=1}}},[a("v-icon",[e._v("mdi-refresh")])],1)],1)])],1)]},proxy:!0},{key:"item.MES",fn:function(t){var o=t.item;return[a("span",{staticClass:"caption text-truncate"},[e._v(e._s(o.MES)+" "+e._s(o.ANIO))])]}},{key:"item.MARCA",fn:function(t){var o=t.item;return[a("span",{staticClass:"caption text-truncate"},[e._v(e._s(o.MARCA))])]}},{key:"item.DESCRIPCION_PRODUCTO",fn:function(t){var o=t.item;return[a("span",{staticClass:"caption text-truncate"},[e._v(e._s(o.DESCRIPCION_PRODUCTO))])]}},{key:"item.NOMBRE_CLIENTE",fn:function(t){var o=t.item;return[a("span",{staticClass:"caption text-truncate"},[e._v(e._s(o.NOMBRE_CLIENTE))])]}},{key:"item.MONEDA",fn:function(t){var a=t.item;return[e._v("\n      "+e._s(a.MONEDA||"MXN")+"\n    ")]}},{key:"item.PRECIO_VENTA",fn:function(t){var a=t.item;return[e._v("\n      "+e._s(e._f("money")(a.PRECIO_VENTA))+"\n    ")]}},{key:"item.TOTAL_COSTO",fn:function(t){var a=t.item;return[e._v("\n      "+e._s(e._f("money")(a.TOTAL_COSTO))+"\n    ")]}},{key:"item.TOTAL",fn:function(t){var o=t.item;return[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[a("span",e._g(e._b({},"span",n,!1),i),[e._v("\n            "+e._s(e._f("money")(o.TOTAL))+"\n          ")])]}}],null,!0)},[e._v(" "),a("span",[e._v("Folio Fiscal: "+e._s(o.FOLIO_FISCAL))])])]}},{key:"item.PORCENTAJE_MARGEN",fn:function(t){var o=t.item;return[a("v-chip",{attrs:{color:e.getColor(100*o.PORCENTAJE_MARGEN),dark:"",small:""}},[e._v("\n        "+e._s(e._f("percent")(o.PORCENTAJE_MARGEN))+"\n      ")])]}}],null,!0)}),e._v(" "),a("div",{staticClass:"text-center pt-2"},[a("v-pagination",{attrs:{dark:"",page:e.page,length:e.pageCount,"total-visible":16,"prev-icon":"mdi-arrow-left","next-icon":"mdi-arrow-right"},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)],1)}),[],!1,null,null,null).exports},mounted:function(){this.$store.commit("setBreadcrumbs",[{label:"Historial Ventas",name:""}])}},r=Object(i.a)(n,(function(){var e=this.$createElement;return(this._self._c||e)("HistorySales")}),[],!1,null,null,null);t.default=r.exports},function(e,t,a){"use strict";a.r(t);var o=a(147),i=a(7),n=a(10),r=a(155),s={name:"TrackingNotification",data:function(){return{messages:4,items:[]}},mounted:function(){var e=this;this.$eventBus.$on(["NOTIFICATION"],(function(){e.loadNotification()})),this.loadNotification()},methods:{loadNotification:function(){var e=this;axios.get("/admin/notification").then((function(t){e.items=t.data.data.unReadNotifications}))},markRead:function(e,t){var a=this;axios.delete("/admin/notification/"+e).then((function(e){a.$store.commit("showSnackbar",{message:e.data.message,color:"success",duration:3e3}),a.$router.push({name:"tracking.prospect",params:{propTrackingId:t}})}))}}},l=a(0),c=Object(l.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{"offset-y":"",origin:"center center","nudge-bottom":10,transition:"scale-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[a("v-btn",e._g({attrs:{icon:""}},o),[a("v-badge",{attrs:{content:e.items.length,value:e.items.length,color:"green",overlap:""}},[a("v-icon",[e._v("\n          mdi-bell\n        ")])],1)],1)]}}])},[e._v(" "),a("v-list",{staticClass:"pa-0",attrs:{"two-line":"",subheader:""}},[a("v-list-item",[a("v-list-item-content",[a("v-subheader",[e._v("Mensajes")])],1),e._v(" "),a("v-list-item-action",[a("v-btn",{attrs:{icon:"",ripple:""},on:{click:function(t){return e.$router.push({name:"notification.list"})}}},[a("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("\n            mdi-eye-circle\n          ")])],1)],1)],1),e._v(" "),a("v-divider"),e._v(" "),e._l(e.items,(function(t){return a("v-list-item",{key:t.id,on:{click:function(a){return e.markRead(t.id,t.data.tracking_id)}}},[a("v-list-item-avatar",[a("v-icon",{staticClass:"blue white--text",class:[t.iconClass]},[e._v("\n          mdi-message\n        ")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",[e._v("\n          Folio: #"+e._s(t.data.tracking_id)+", "+e._s(t.data.sender.name)+"\n        ")]),e._v(" "),a("v-list-item-subtitle",[e._v(e._s(t.data.body))]),e._v(" "),a("v-list-item-subtitle",[e._v(e._s(e.$appFormatters.formatDate(t.created_at,"LLL"))+"\n        ")])],1),e._v(" "),a("v-list-item-action",[a("v-btn",{attrs:{icon:"",ripple:""}},[a("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("\n            mdi-information\n          ")])],1)],1)],1)}))],2)],1)}),[],!1,null,null,null).exports;function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){m(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var v={components:{TrackingProspect:r.default,Notification:c},data:function(){return{dialogs:{show:!1,id:null},date:[],modal:!1,headers:[{text:"",value:"action",align:"center",width:25,sortable:!1,class:"blue-grey lighten-5"},{text:"Folio",value:"id",align:"left",sortable:!1,class:"blue-grey lighten-5"},{text:"Titulo / Referencia",value:"title",align:"left",width:"150",sortable:!1,class:"blue-grey lighten-5"},{text:"Precio",value:"price",align:"right",sortable:!0,class:"blue-grey lighten-5"},{text:"Moneda",value:"currency",align:"center",width:"100",sortable:!0,class:"blue-grey lighten-5"},{text:"Prospecto:",value:"prospect.full_name",align:"left",width:"150",sortable:!1,class:"blue-grey lighten-5"},{text:"Atendido por:",value:"attended.name",align:"left",sortable:!1,class:"blue-grey lighten-5"},{text:"Agencia / Departamento",value:"agency-depto",width:150,sortable:!1,class:"blue-grey lighten-5"},{text:"Estatus",value:"estatus.title",align:"center",width:100,sortable:!1,class:"blue-grey lighten-5"},{text:"Sig. Seg.",value:"date_next_tracking",align:"center",width:150,sortable:!0,class:"blue-grey lighten-5"},{text:"Certeza",value:"assertiveness",align:"center",width:150,sortable:!0,class:"blue-grey lighten-5"},{text:"Ultimo Cambio",value:"updated_at",align:"center",width:100,sortable:!0,class:"blue-grey lighten-5"}],items:[],totalItems:0,pagination:{rowsPerPage:10},filters:{folio:null,title:null,category:null,assertiveness:null,prospect:[],estatus:"activo",agencies:[],departments:[],sellers:[],dates:[]},options:{prospects:[],agencies:[],departments:[],sellers:[],categories:o,assertiveness:i}}},mounted:function(){this.$store.commit("setBreadcrumbs",[{label:"Seguimientos",name:""}]),this.loadResources((function(){}))},computed:d(d({},Object(n.b)(["Assertiveness"])),{},{dateRangeText:{get:function(){return this.filters.dates.join(",")},set:function(e){!e||(this.filters.dates=e.split(" "))}}}),watch:{pagination:{handler:_.debounce((function(e){this.loadTrackings((function(){}))}),700),deep:!0},filters:{handler:_.debounce((function(e){this.loadTrackings((function(){}))}),700),deep:!0}},methods:{loadTrackings:function(e){var t=this,a=d(d({},t.filters),{},{sellers:t.filters.sellers.join(","),prospect:t.filters.prospect.join(","),agencies:t.filters.agencies.join(","),departments:t.filters.departments.join(","),dates:t.dateRangeText,order_sort:t.pagination.sortDesc[0]?"desc":"asc",order_by:t.pagination.sortBy[0]||"id",page:t.pagination.page,per_page:t.pagination.itemsPerPage});axios.get("/admin/tracking",{params:a}).then((function(a){t.items=a.data.data.data,t.totalItems=a.data.data.total,t.pagination.totalItems=a.data.data.total,(e||Function)()}))},loadResources:function(e){var t=this;axios.get("/admin/tracking/sales_history/resources").then((function(e){var a=e.data.data;t.options.agencies=a.agencies,t.options.departments=a.departments,t.options.prospects=a.prospects})),axios.get("/admin/sellers",{params:{paginate:"no"}}).then((function(a){t.options.sellers=a.data.data,(e||Function)()}))},getColor:function(e){return"finalizado"==e?"red":"formalizado"==e?"blue":"primary"},getColorDays:function(e){return this.$appFormatters.formatTimeDiffNow(e,"days")<0?"red":"primary"},getAssertiveness:function(e){return this.Assertiveness.find((function(t){return t.value==e}))},exportTracking:function(){var e=this,t=d(d({},e.filters),{},{sellers:e.filters.sellers.join(","),prospect:e.filters.prospect.join(","),agencies:e.filters.agencies.join(","),departments:e.filters.departments.join(","),dates:e.dateRangeText,page:e.pagination.page,per_page:e.pagination.itemsPerPage,paginate:"no"});axios.get("/admin/tracking-export",{params:t,responseType:"blob"}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download","tracking.xlsx"),document.body.appendChild(a),a.click()})).catch((function(t){t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)}))},reset:function(){this.$eventBus.$emit("NOTIFICATION"),this.filters.dates=[],this.$refs.formSearch.reset()},resetToActive:function(e){var t=this;axios.put("/admin/tracking/resetToActive/"+e).then((function(e){t.$store.commit("showSnackbar",{message:e.data.message,color:"success",duration:3e3}),t.loadTrackings((function(){})),cb()}))}}},p=Object(l.a)(v,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-expansion-panels",[a("v-expansion-panel",[a("v-expansion-panel-header",{staticClass:"titlle text-uppercase font-weight-bold",attrs:{color:"grey lighten-3"},scopedSlots:e._u([{key:"actions",fn:function(){return[a("v-icon",[e._v(" mdi-arrow-down ")])]},proxy:!0}])},[a("span",[a("v-icon",[e._v("mdi-magnify")]),e._v(" Filtros ")],1)]),e._v(" "),a("v-expansion-panel-content",{staticClass:"pa-0"},[a("v-form",{ref:"formSearch"},[a("v-row",{staticClass:"mx-2 my-0"},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar Folio:",outlined:"","hide-details":"",clearable:"",dense:""},model:{value:e.filters.folio,callback:function(t){e.$set(e.filters,"folio",t)},expression:"filters.folio"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Fitrar por Titulo Seguimiento",outlined:"","hide-details":"",clearable:"",dense:""},model:{value:e.filters.title,callback:function(t){e.$set(e.filters,"title",t)},expression:"filters.title"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{"append-icon":"mdi-magnify",items:e.options.categories,label:"Categoria:","hide-details":"",outlined:"",dense:""},model:{value:e.filters.category,callback:function(t){e.$set(e.filters,"category",t)},expression:"filters.category"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{items:e.options.prospects,"item-text":"full_name","item-value":"id",label:"Filtro Prospecto:","hide-details":"",clearable:"",multiple:"",outlined:"",dense:""},model:{value:e.filters.prospect,callback:function(t){e.$set(e.filters,"prospect",t)},expression:"filters.prospect"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{items:e.options.agencies,"item-text":"title","item-value":"id",label:"Filtrar Agencia:","hide-details":"",clearable:"",multiple:"",outlined:"",dense:""},model:{value:e.filters.agencies,callback:function(t){e.$set(e.filters,"agencies",t)},expression:"filters.agencies"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{items:e.options.departments,"item-text":"title","item-value":"id",label:"Filtrar Depto.","hide-details":"",clearable:"",multiple:"",outlined:"",dense:""},model:{value:e.filters.departments,callback:function(t){e.$set(e.filters,"departments",t)},expression:"filters.departments"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{items:e.options.sellers,"item-text":"name","item-value":"id",label:"Filtro Vendedor:","hide-details":"",clearable:"",multiple:"",outlined:"",dense:""},model:{value:e.filters.sellers,callback:function(t){e.$set(e.filters,"sellers",t)},expression:"filters.sellers"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:e.options.assertiveness,label:"Certeza:",dense:"",outlined:"",clearable:"","hide-details":""},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-list-item-content",[a("v-list-item-title",{staticClass:"overline",domProps:{textContent:e._s(t.item.text)}})],1),e._v(" "),a("v-list-item-action",[a("v-btn",{attrs:{color:t.item.color,dark:""}},[e._v("\n                      "+e._s(e._f("percent")(t.item.value))+"\n                    ")])],1)]}}]),model:{value:e.filters.assertiveness,callback:function(t){e.$set(e.filters,"assertiveness",t)},expression:"filters.assertiveness"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-dialog",{ref:"dialog",attrs:{"return-value":e.date,persistent:"",width:"354px"},on:{"update:returnValue":function(t){e.date=t},"update:return-value":function(t){e.date=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Rango de Fechas",placeholder:"Seleccione un Rango de fechas","prepend-inner-icon":"mdi-calendar",readonly:"",outlined:"","hide-details":"",dense:"",color:"orange","append-outer-icon":"mdi-close"},on:{"click:append-outer":function(t){e.filters.dates=[],e.date=[]}},model:{value:e.dateRangeText,callback:function(t){e.dateRangeText=t},expression:"dateRangeText"}},"v-text-field",i,!1),o))]}}]),model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[e._v(" "),a("v-date-picker",{attrs:{range:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.modal=!1,e.date=[]}}},[e._v("\n                    Cancel\n                  ")]),e._v(" "),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.$refs.dialog.save(e.filters.dates=e.date)}}},[e._v("\n                    OK\n                  ")])],1)],1)],1)],1)],1)],1)],1)],1),e._v(" "),a("v-data-table",{staticClass:"elevation-1 caption",attrs:{headers:e.headers,items:e.items,options:e.pagination,"server-items-length":e.totalItems,dense:"",caption:"","fixed-header":""},on:{"update:options":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-row",{staticClass:"ma-2",attrs:{align:"center"}},[a("v-btn",{staticClass:"primary lighten-1",attrs:{small:"",dark:""},on:{click:function(t){return e.$router.push({name:"tracking.create"})}}},[e._v("\n          Levantar un Seguimiento\n          "),a("v-icon",{attrs:{small:"",right:""}},[e._v("mdi-plus")])],1),e._v(" "),a("v-btn",{staticClass:"accent lighten-1 ml-2",attrs:{small:"",dark:""},on:{click:function(t){return e.$router.push({name:"tracking.diary"})}}},[e._v("\n          Calendario\n          "),a("v-icon",{attrs:{small:"",right:""}},[e._v("mdi-calendar-account")])],1),e._v(" "),a("v-spacer"),e._v(" "),a("v-radio-group",{attrs:{row:"",dense:""},model:{value:e.filters.estatus,callback:function(t){e.$set(e.filters,"estatus",t)},expression:"filters.estatus"}},[a("v-radio",{attrs:{label:"Activos",value:"activo"}}),e._v(" "),a("v-radio",{attrs:{label:"Finalizados",value:"finalizado"}}),e._v(" "),a("v-radio",{attrs:{label:"Fomalizados",value:"formalizado"}}),e._v(" "),a("v-radio",{attrs:{label:"Todos",value:"todos"}})],1),e._v(" "),a("notification"),e._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:"",color:"green"},on:{click:function(t){return e.exportTracking()}}},"v-btn",i,!1),o),[a("v-icon",[e._v("mdi-file-excel")])],1)]}}])},[e._v(" "),a("span",[e._v("Exportar")])]),e._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:"",color:"grey"},on:{click:function(t){e.loadTrackings((function(){e.$eventBus.$emit("NOTIFICATION")}))}}},"v-btn",i,!1),o),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[e._v(" "),a("span",[e._v("Refrescar")])]),e._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:"",color:"error"},on:{click:function(t){return e.reset()}}},"v-btn",i,!1),o),[a("v-icon",[e._v("mdi-filter-remove-outline")])],1)]}}])},[e._v(" "),a("span",[e._v("Reset Filtro")])])],1)]},proxy:!0},{key:"item.action",fn:function(t){var o=t.item;return[a("v-menu",{attrs:{"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:"",small:""}},"v-btn",i,!1),o),[a("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e._v(" "),a("v-list",{attrs:{shaped:"",dense:""}},[a("v-list-item-group",[a("v-list-item",{on:{click:function(t){e.dialogs.id=o.id,e.dialogs.show=!0}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"blue--text"},[e._v("mdi-information-outline")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",[e._v("Ver Seguimiento")])],1)],1),e._v(" "),e.$gate.allow("isGerente","tracking")?a("v-list-item",{on:{click:function(t){return e.resetToActive(o.id)}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"blue--text"},[e._v("mdi-undo-variant")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",[e._v("Regresar como Activo")])],1)],1):e._e()],1)],1)],1)]}},{key:"item.id",fn:function(t){var o=t.item;return[a("span",{staticClass:"caption"},[e._v(" #"+e._s(o.id.toString().padStart(5,0))+" ")])]}},{key:"item.title",fn:function(t){var o=t.item;return[a("v-list-item",{staticClass:"pa-0",attrs:{dense:""}},[a("v-list-item-content",{staticClass:"pa-0"},[a("v-list-item-title",[e._v(e._s(o.title))]),e._v(" "),a("v-list-item-subtitle",[a("span",{staticClass:"d-inline-block text-truncate text-capitalize caption",staticStyle:{"max-width":"150px"}},[e._v("\n              "+e._s(o.reference)+"\n            ")])])],1)],1)]}},{key:"item.price",fn:function(t){var o=t.item;return[a("span",{staticClass:"d-inline-block text-truncate text-capitalize caption",staticStyle:{"max-width":"150px"}},[e._v("\n        "+e._s(e._f("currency")(o.price))+"\n      ")])]}},{key:"item.currency",fn:function(t){var o=t.item;return[a("span",{staticClass:"d-inline-block text-truncate text-capitalize caption",staticStyle:{"max-width":"150px"}},[e._v("\n        "+e._s(o.currency)+"\n      ")])]}},{key:"item.prospect.full_name",fn:function(t){var o=t.item;return[a("v-list-item",{staticClass:"pa-0",attrs:{dense:""}},[a("v-list-item-content",{staticClass:"pa-0"},[a("v-list-item-title",[e._v(e._s(o.prospect.full_name))]),e._v(" "),o.prospect.is_moral?a("v-list-item-subtitle",[a("span",{staticClass:"d-inline-block text-truncate text-capitalize caption",staticStyle:{"max-width":"200px"}},[e._v("\n              "+e._s(o.prospect.company)+"\n            ")])]):e._e()],1)],1)]}},{key:"item.attended.name",fn:function(t){var o=t.item;return[a("span",{staticClass:"d-inline-block text-truncate text-capitalize caption",staticStyle:{"max-width":"150px"}},[e._v("\n        "+e._s(o.attended.name)+"\n      ")])]}},{key:"item.agency-depto",fn:function(t){var o=t.item;return[a("v-list-item",{staticClass:"pa-0 caption",attrs:{dense:""}},[a("v-list-item-content",{staticClass:"pa-0 caption"},[a("v-list-item-title",[e._v(e._s(o.agency.title))]),e._v(" "),a("v-list-item-subtitle",[e._v("\n            "+e._s(o.department.title)+"\n          ")])],1)],1)]}},{key:"item.estatus.title",fn:function(t){var o=t.item;return[a("v-chip",{staticClass:"text-uppercase buttom white--text",attrs:{dark:"",small:"",label:"",color:e.getColor(o.estatus.key)}},[e._v("\n        "+e._s(o.estatus.title)+"\n      ")])]}},{key:"item.date_next_tracking",fn:function(t){var o=t.item;return[a("v-chip",{staticClass:"text-uppercase buttom white--text",attrs:{small:"",label:"",color:e.getColorDays(o.date_next_tracking)}},[e._v("\n        "+e._s(e.$appFormatters.formatTimeDiffNow(o.date_next_tracking,"days")||"0")+"\n        dias\n      ")])]}},{key:"item.assertiveness",fn:function(t){var o=t.item;return[a("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[e.getAssertiveness(o.assertiveness)?a("v-progress-linear",e._g(e._b({attrs:{height:"25",value:100*e.getAssertiveness(o.assertiveness).value,color:e.getAssertiveness(o.assertiveness).color},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.value;return[a("strong",[e._v(" "+e._s(Math.ceil(o))+"% ")])]}}],null,!0)},"v-progress-linear",n,!1),i)):e._e()]}}],null,!0)},[e._v(" "),a("span",[e._v(e._s(e.getAssertiveness(o.assertiveness).text))])])]}},{key:"item.updated_at",fn:function(t){var a=t.item;return[e._v("\n      "+e._s(e.$appFormatters.formatDate(a.updated_at,"L"))+"\n    ")]}}],null,!0)}),e._v(" "),a("v-dialog",{attrs:{fullscreen:"",transition:"dialog-bottom-transition",overlay:!1},model:{value:e.dialogs.show,callback:function(t){e.$set(e.dialogs,"show",t)},expression:"dialogs.show"}},[a("v-card",[a("v-toolbar",{staticClass:"primary"},[a("v-toolbar-title",{staticClass:"white--text"},[e._v("\n          Detalle Seguimiento\n        ")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-toolbar-items",[a("v-btn",{attrs:{icon:"","x-large":"",color:"error"},nativeOn:{click:function(t){e.dialogs.show=!1,e.dialogs.id=null}}},[a("v-icon",[e._v("mdi-close-box")])],1)],1)],1),e._v(" "),e.dialogs.show&&e.dialogs.id?a("tracking-prospect",{attrs:{propTrackingId:e.dialogs.id}}):e._e()],1)],1)],1)}),[],!1,null,null,null);t.default=p.exports},function(e,t,a){"use strict";a.r(t);var o={name:"MoonLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"60px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},data(){return{spinnerStyle:{height:this.size,width:this.size,borderRadius:this.radius}}},computed:{moonSize(){return parseFloat(this.size)/7},spinnerMoonStyle(){return{height:this.moonSize+"px",width:this.moonSize+"px",borderRadius:this.radius}},animationStyle2(){return{top:parseFloat(this.size)/2-this.moonSize/2+"px",backgroundColor:this.color}},animationStyle3(){return{border:this.moonSize+"px solid "+this.color}}}},i=(a(202),a(0)),n=Object(i.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:this.loading,expression:"loading"}],staticClass:"v-spinner"},[t("div",{staticClass:"v-moon v-moon1",style:this.spinnerStyle},[t("div",{staticClass:"v-moon v-moon2",style:[this.spinnerMoonStyle,this.animationStyle2]}),t("div",{staticClass:"v-moon v-moon3",style:[this.spinnerStyle,this.animationStyle3]})])])}),[],!1,null,null,null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);var o={mounted:function(){this.$store.commit("setBreadcrumbs",[{label:"Dashboard",name:""}])}},i=(a(217),a(0)),n=Object(i.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return t("v-layout",{attrs:{"align-center":"","justify-center":"",row:"","fill-height":""}},[t("v-img",{staticClass:"swiss",attrs:{src:"../img/etbsa-logo-agricola.png"}}),this._v(" "),t("v-img",{staticClass:"swiss",attrs:{src:"../img/etbsa-logo-construccion.png"}})],1)}),[],!1,null,"d56ae546",null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);var o={mounted:function(){this.$store.commit("setBreadcrumbs",[{label:"Settings",name:""}])}},i=a(0),n=Object(i.a)(o,(function(){var e=this.$createElement;this._self._c;return this._m(0)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page_wrap_vue pa-3"},[t("h2",[this._v("COTIZADOR PAGE")]),this._v(" "),t("p",[this._v("I am located at "),t("b",[this._v("resources/js/admin/settings/Settings.vue")])]),this._v(" "),t("p",[this._v("single page routes for admin can be found at "),t("b",[this._v("resources/js/admin/router.js")])])])}],!1,null,null,null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);var o={mounted:function(){this.$store.commit("setBreadcrumbs",[{label:"Settings",name:""}])}},i=a(0),n=Object(i.a)(o,(function(){var e=this.$createElement;this._self._c;return this._m(0)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page_wrap_vue pa-3"},[t("h2",[this._v("SETTINGS PAGE")]),this._v(" "),t("p",[this._v("I am located at "),t("b",[this._v("resources/js/admin/settings/Settings.vue")])]),this._v(" "),t("p",[this._v("single page routes for admin can be found at "),t("b",[this._v("resources/js/admin/router.js")])])])}],!1,null,null,null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);var o={data:function(){return{activeTab:""}},computed:{Tabs:function(){return[{title:"Vendedores",icon:"mdi-view-dashboard",to:{name:"sellers.list"},show:this.$gate.allow("updateUser","user")},{title:"Prospectos",icon:"mdi-account",to:{name:"prospect.list"},show:!0},{title:"Seguimientos",icon:"mdi-gavel",to:{name:"tracking.list"},show:!0}]}}},i=a(0),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("div",{staticClass:"d-flex flex-column"},[a("v-tabs",{attrs:{grow:"",centered:"","icons-and-text":""}},[e._l(e.Tabs,(function(t){return[t.show?a("v-tab",{key:t.title,attrs:{to:t.to}},[e._v("\n          "+e._s(t.title)+"\n          "),a("v-icon",{attrs:{left:""}},[e._v(e._s(t.icon))])],1):e._e()]}))],2),e._v(" "),a("div",{staticClass:"flex-grow-1 flex-shrink-0",staticStyle:{"min-width":"100px","max-width":"100%"}},[a("v-slide-x-transition",[a("router-view")],1)],1)],1)])}),[],!1,null,null,null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);var o={props:{},data:function(){return{unReadNotifications:[],readNotifications:[]}},mounted:function(){this.loadNotification()},computed:{},methods:{loadNotification:function(){var e=this;axios.get("/admin/notification").then((function(t){e.unReadNotifications=t.data.data.unReadNotifications,e.readNotifications=t.data.data.readNotifications}))}}},i=(a(205),a(0)),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card",{staticClass:"mx-auto"},[a("v-toolbar",{attrs:{color:"light-blue",dark:""}},[a("v-toolbar-title",[e._v("No Leidas")])],1),e._v(" "),a("v-list",{attrs:{subheader:"","two-line":""}},e._l(e.unReadNotifications,(function(t){return a("v-list-item",{key:t.id},[a("v-list-item-avatar",[a("v-icon",{staticClass:"blue lighten-1",attrs:{dark:""}},[e._v("\n                mdi-message\n              ")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",[e._v("\n                Folio: #"+e._s(t.data.tracking_id)+",\n                "+e._s(t.data.sender.name)+"\n              ")]),e._v(" "),a("v-list-item-subtitle",[e._v("\n                "+e._s(t.data.body)+"\n              ")]),e._v(" "),a("v-list-item-subtitle",[e._v("\n                "+e._s(e.$appFormatters.formatDate(t.created_at,"LLL"))+"\n              ")])],1),e._v(" "),a("v-list-item-action",[a("v-btn",{attrs:{icon:""},on:{click:function(a){return e.$router.push({name:"tracking.prospect",params:{propTrackingId:t.data.tracking_id}})}}},[a("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("mdi-information")])],1)],1)],1)})),1)],1)],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card",{staticClass:"mx-auto"},[a("v-toolbar",{attrs:{color:"light-blue",dark:""}},[a("v-toolbar-title",[e._v("Leidas")])],1),e._v(" "),a("v-list",{attrs:{subheader:"","two-line":""}},e._l(e.readNotifications,(function(t){return a("v-list-item",{key:t.id},[a("v-list-item-avatar",[a("v-icon",[e._v("mdi-message")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",[e._v("\n                Folio: #"+e._s(t.data.tracking_id)+",\n                "+e._s(t.data.sender.name)+"\n              ")]),e._v(" "),a("v-list-item-subtitle",[e._v("\n                "+e._s(t.data.body)+"\n              ")]),e._v(" "),a("v-list-item-subtitle",[e._v("\n                "+e._s(e.$appFormatters.formatDate(t.created_at,"LLL"))+"\n              ")])],1),e._v(" "),a("v-list-item-action",[a("v-btn",{attrs:{icon:""},on:{click:function(a){return e.$router.push({name:"tracking.prospect",params:{propTrackingId:t.data.tracking_id}})}}},[a("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("mdi-information")])],1)],1)],1)})),1)],1)],1)],1)],1)}),[],!1,null,"4434ee32",null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);var o={data:function(){return{headers:[{text:"Action",value:"action",align:"left",sortable:!1},{text:"Clave Vendedor",value:"seller_key",align:"left",sortable:!1},{text:"Nombre",value:"name",align:"left",sortable:!1},{text:"Email",value:"email",align:"left",sortable:!1},{text:"Configuracion:",value:"seller_type",align:"center",sortable:!1},{text:"Es Gerente:",value:"groups",align:"center",sortable:!1},{text:"Ultimo Cambio",value:"updated_at",align:"right",sortable:!1}],items:[],totalItems:0,pagination:{rowsPerPage:10},filters:{title:""}}},mounted:function(){this.$store.commit("setBreadcrumbs",[{label:"Vendedores",name:""}])},watch:{"pagination.page":function(){this.loadSellers((function(){}))},"pagination.rowsPerPage":function(){this.loadSellers((function(){}))},"filters.title":_.debounce((function(){this.loadSellers((function(){}))}),700),"filters.email":_.debounce((function(){this.loadSellers((function(){}))}),700)},methods:{trash:function(e){var t=this;t.$store.commit("showDialog",{type:"confirm",title:"Confirm Deletion",message:"Are you sure you want to delete this seller?",okCb:function(){axios.delete("/admin/sellers/"+e.id).then((function(e){t.$store.commit("showSnackbar",{message:e.data.message,color:"success",duration:3e3}),t.loadSellers((function(){}))})).catch((function(e){t.$store.commit("hideLoader"),e.response?t.$store.commit("showSnackbar",{message:e.response.data.message,color:"error",duration:3e3}):e.request?console.log(e.request):console.log("Error",e.message)}))},cancelCb:function(){console.log("CANCEL")}})},loadSellers:function(e){var t=this,a={name:t.filters.title,email:t.filters.email,page:t.pagination.page,per_page:t.pagination.rowsPerPage};axios.get("/admin/sellers",{params:a}).then((function(a){t.items=a.data.data.data,t.totalItems=a.data.data.total,t.pagination.totalItems=a.data.data.total,(e||Function)()}))}}},i=a(0),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",{attrs:{flat:""}},[a("div",{staticClass:"d-flex flex-row align-center"},[a("div",{staticClass:"flex-grow-1 pa-2"},[a("v-text-field",{attrs:{"prepend-icon":"mdi-magnify",label:"Fitrar por Nombre",clearable:"",outlined:""},model:{value:e.filters.title,callback:function(t){e.$set(e.filters,"title",t)},expression:"filters.title"}})],1),e._v(" "),a("div",{staticClass:"flex-grow-1 pa-2"},[a("v-text-field",{attrs:{"prepend-icon":"mdi-magnify",label:"Fitrar por Email",clearable:"",outlined:""},model:{value:e.filters.email,callback:function(t){e.$set(e.filters,"email",t)},expression:"filters.email"}})],1)])]),e._v(" "),a("v-data-table",{staticClass:"elevation-1 text-uppercase",attrs:{headers:e.headers,options:e.pagination,items:e.items,"server-items-length":e.totalItems,dense:"","fixed-header":""},on:{"update:options":function(t){e.pagination=t}},scopedSlots:e._u([{key:"item.action",fn:function(t){var o=t.item;return[a("v-menu",{attrs:{"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:"",small:""}},"v-btn",i,!1),o),[a("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e._v(" "),a("v-list",{attrs:{shaped:"",dense:""}},[a("v-list-item-group",[a("v-list-item",{on:{click:function(t){return e.$router.push({name:"sellers.edit",params:{propSellerId:o.id}})}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"blue--text"},[e._v("mdi-information-outline")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",[e._v("Configurar Vendedor")])],1)],1)],1)],1)],1)]}},{key:"item.seller_type",fn:function(t){var o=t.item;return[a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{"x-small":"",rounded:"",color:"grey lighten-2"}},"v-btn",i,!1),o),[e._v("\n            Mostrar\n          ")])]}}],null,!0)},[e._v(" "),a("v-card",[a("v-card-title",[a("div",{staticClass:"headline"},[a("v-icon",[e._v("mdi-cog")]),e._v(" Configuracion Vendedor\n            ")],1)]),e._v(" "),a("v-card-text",[a("div",[e._v("Agencias:")]),e._v(" "),e._l(o.seller_agency,(function(t,o){return a("v-chip",{key:"suc-"+o,staticClass:"ma-1"},[e._v("\n              "+e._s(t.title)+"\n            ")])})),e._v(" "),a("div",[e._v("Departamentos:")]),e._v(" "),e._l(o.seller_type,(function(t,o){return a("v-chip",{key:"depto-"+o,staticClass:"ma-1"},[e._v("\n              "+e._s(t.title)+"\n            ")])}))],2)],1)],1)]}},{key:"item.groups",fn:function(t){var o=t.item;return[a("v-avatar",{attrs:{outlined:""}},[o.groups.some((function(e){return"Gerente"==e.name}))?a("v-icon",{staticClass:"green--text"},[e._v("mdi-check-circle-outline")]):a("v-icon",{staticClass:"grey--text"},[e._v("mdi-alert-circle-outline")])],1)]}},{key:"item.updated_at",fn:function(t){var a=t.item;return[e._v("\n      "+e._s(e.$appFormatters.formatDate(a.updated_at,"MMM DD,YYYY"))+"\n    ")]}}],null,!0)})],1)}),[],!1,null,null,null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);var o={data:function(){return{valid:!1,isLoading:!1,title:"",titleRules:[function(e){return!!e||"Title is required"}],description:"",descriptionRules:[function(e){return!!e||"Description is required"}],permissionKey:"",permissionKeyRules:[function(e){return!!e||"Permission Key is required"},function(e){return e&&!e.match(/[^\w\.]+/g)||"Description cannot contain special characters"}]}},mounted:function(){this.$store.commit("setBreadcrumbs",[{label:"Users",to:{name:"users.list"}},{label:"Vendedores",to:{name:"users.sellers.list"}},{label:"Create",name:""}])},watch:{permissionKey:function(e){e&&(this.permissionKey=e.replace(" ",".").toLowerCase())},title:function(e){e&&(this.permissionKey=e.replace(" ",".").toLowerCase())}},methods:{save:function(){var e=this,t={title:e.title,description:e.description,key:e.permissionKey};e.isLoading=!0,axios.post("/admin/permissions",t).then((function(t){e.$store.commit("showSnackbar",{message:t.data.message,color:"success",duration:3e3}),e.$eventBus.$emit("PERMISSION_ADDED"),e.$refs.permissionFormAdd.reset(),e.permissions=[],e.isLoading=!1})).catch((function(t){e.isLoading=!1,e.$store.commit("hideLoader"),t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)}))}}},i=a(0),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",[a("v-card-title",[a("v-icon",[e._v("mdi-account-box-outline")]),e._v(" Crear Vendedor\n    ")],1),e._v(" "),a("v-divider",{staticClass:"mb-2"}),e._v(" "),a("v-form",{ref:"permissionFormAdd",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"body-2"},[e._v("Asignar Clave/Tipos de Vendedor")])]),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Clave Vendedor",rules:e.titleRules},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-btn",{attrs:{loading:e.isLoading,disabled:!e.valid||e.isLoading,color:"primary",dark:""},on:{click:function(t){return e.save()}}},[e._v("Save")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);var o={props:{propSellerId:{required:!0}},data:function(){return{Seller:{name:""},valid:!1,isLoading:!1,title:"",seller_type:[],seller_agency:[],options:{departments:[],agencies:[]}}},created:function(){this.loadSeller((function(){})),this.loadResources((function(){}))},methods:{save:function(){var e=this,t={seller_key:e.title,seller_type:e.seller_type,seller_agency:e.seller_agency};e.isLoading=!0,axios.put("/admin/sellers/"+e.propSellerId,t).then((function(t){e.$store.commit("showSnackbar",{message:t.data.message,color:"success",duration:3e3}),e.$store.commit("hideLoader"),e.$router.push({name:"sellers.list"})})).catch((function(t){e.$store.commit("hideLoader"),t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)}))},loadSeller:function(e){var t=this;axios.get("/admin/sellers/"+t.propSellerId).then((function(a){var o=a.data.data;t.Seller=o,t.title=o.seller_key,_.each(t.Seller.seller_type,(function(e){t.seller_type[e.id]=!0})),_.each(t.Seller.seller_agency,(function(e){t.seller_agency[e.id]=!0})),(e||Function)()}))},loadResources:function(e){var t=this;axios.get("/admin/tracking/sales_history/resources").then((function(a){var o=a.data.data;t.options.departments=o.departments,t.options.agencies=o.agencies,_.each(t.options.departments,(function(e){e.selected=!1})),_.each(t.options.agencies,(function(e){e.selected=!1})),e(),(e||Function)()}))}}},i=a(0),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",[a("v-card-title",[a("v-icon",[e._v("mdi-account")]),e._v(" Configurar Vendedor\n    ")],1),e._v(" "),a("v-divider",{staticClass:"mb-2"}),e._v(" "),a("v-form",{ref:"permissionFormEdit",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",md3:""}},[a("div",{staticClass:"text-h6"},[e._v("Vendedor(a): "+e._s(e.Seller.name))]),e._v(" "),a("v-text-field",{attrs:{label:"Clave Vendedor",filled:"","hide-details":""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("h1",{staticClass:"title"},[a("v-icon",[e._v("mdi-domain")]),e._v(" Configuracion Vendedor Sucursal\n            ")],1),e._v(" "),a("v-divider")],1),e._v(" "),a("v-layout",{staticClass:"caption",attrs:{wrap:"","mx-2":""}},e._l(e.options.agencies,(function(t,o){return a("v-flex",{key:o,staticClass:"caption",attrs:{xs12:"",md3:""}},[a("v-switch",{attrs:{dense:"","hide-details":"",label:t.title},model:{value:e.seller_agency[t.id],callback:function(a){e.$set(e.seller_agency,t.id,a)},expression:"seller_agency[g.id]"}})],1)})),1),e._v(" "),a("v-flex",{attrs:{xs12:"","mt-4":""}},[a("h1",{staticClass:"title"},[a("v-icon",[e._v("mdi-office-building")]),e._v(" Configuracion Vendedor Departamentos\n            ")],1),e._v(" "),a("v-divider")],1),e._v(" "),a("v-layout",{staticClass:"caption",attrs:{wrap:"","mx-2":""}},e._l(e.options.departments,(function(t,o){return a("v-flex",{key:o,staticClass:"caption",attrs:{xs12:"",md3:""}},[a("v-switch",{attrs:{dense:"","hide-details":"",label:t.title},model:{value:e.seller_type[t.id],callback:function(a){e.$set(e.seller_type,t.id,a)},expression:"seller_type[g.id]"}})],1)})),1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-btn",{attrs:{block:"",disabled:!e.valid,color:"primary",dark:""},on:{click:function(t){return e.save()}}},[e._v("Guardar")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);var o={data:function(){return{headers:[{text:"Action",value:"action",align:"left",sortable:!1},{text:"Dirigido a / Razon Social",value:"full_name",align:"left",sortable:!1},{text:"Telefono",value:"phone",align:"left",sortable:!1},{text:"Seguimientos Activos:",value:"tracking_count",align:"center",sortable:!1},{text:"Proviene:",value:"town",align:"left",sortable:!1}],items:[],totalItems:0,pagination:{rowsPerPage:10},filters:{full_name:""}}},mounted:function(){this.$store.commit("setBreadcrumbs",[{label:"Prospectos",name:""}])},watch:{"pagination.page":function(){this.loadProspects((function(){}))},"pagination.rowsPerPage":function(){this.loadProspects((function(){}))},"filters.full_name":_.debounce((function(){this.loadProspects((function(){}))}),700)},methods:{trash:function(e){var t=this;t.$store.commit("showDialog",{type:"confirm",full_name:"Confirm Deletion",message:"Are you sure you want to delete this seller?",okCb:function(){axios.delete("/admin/sellers/"+e.id).then((function(e){t.$store.commit("showSnackbar",{message:e.data.message,color:"success",duration:3e3}),t.loadProspects((function(){}))})).catch((function(e){t.$store.commit("hideLoader"),e.response?t.$store.commit("showSnackbar",{message:e.response.data.message,color:"error",duration:3e3}):e.request?console.log(e.request):console.log("Error",e.message)}))},cancelCb:function(){console.log("CANCEL")}})},loadProspects:function(e){var t=this,a={full_name:t.filters.full_name,page:t.pagination.page,per_page:t.pagination.rowsPerPage};axios.get("/admin/prospects",{params:a}).then((function(a){t.items=a.data.data.data,t.totalItems=a.data.data.total,t.pagination.totalItems=a.data.data.total,(e||Function)()}))}}},i=a(0),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",{staticClass:"py-4 px-2 d-flex flex-row align-center",attrs:{flat:""}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-magnify",label:"Fitrar por Nombre / Telefono",outlined:"",dense:"",filled:"","hide-details":"",clearable:""},model:{value:e.filters.full_name,callback:function(t){e.$set(e.filters,"full_name",t)},expression:"filters.full_name"}}),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{staticClass:"primary",attrs:{dark:""},on:{click:function(t){return e.$router.push({name:"prospect.create"})}}},[e._v("\n      Registrar Prospecto\n      "),a("v-icon",{attrs:{right:""}},[e._v("mdi-plus")])],1)],1),e._v(" "),a("v-data-table",{staticClass:"elevation-1 text-uppercase",attrs:{headers:e.headers,options:e.pagination,items:e.items,"server-items-length":e.totalItems,dense:"","fixed-header":""},on:{"update:options":function(t){e.pagination=t}},scopedSlots:e._u([{key:"item.action",fn:function(t){var o=t.item;return[a("v-menu",{attrs:{"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:"",small:""}},"v-btn",i,!1),o),[a("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e._v(" "),a("v-list",{attrs:{shaped:""}},[a("v-list-item-group",[a("v-list-item",{on:{click:function(t){return e.$router.push({name:"prospect.edit",params:{propProspectId:o.id}})}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"blue--text"},[e._v("mdi-pencil")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",[e._v("Editar Prospecto")])],1)],1),e._v(" "),a("v-list-item",{on:{click:function(t){return e.$router.push({name:"tracking.create",params:{propProspectId:o.id}})}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"blue--text"},[e._v("mdi-information-outline")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",[e._v("Crear Seguimiento")])],1)],1)],1)],1)],1)]}},{key:"item.full_name",fn:function(t){var o=t.item;return[a("v-list-item",{staticClass:"pa-0",attrs:{dense:""}},[a("v-list-item-content",{staticClass:"pa-0"},[a("v-list-item-title",[e._v(e._s(o.full_name))]),e._v(" "),o.is_moral?a("v-list-item-subtitle",[e._v("\n            "+e._s(o.company)+"\n          ")]):e._e()],1)],1)]}}],null,!0)})],1)}),[],!1,null,null,null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);var o={components:{FormProspect:a(149).a},data:function(){return{form:{rfc:null,town:null,email:null,phone:null,company:null,full_name:null,is_moral:!1,estate_id:null,township_id:null}}},mounted:function(){this.$store.commit("setBreadcrumbs",[{label:"Prospectos",to:{name:"prospect.list"}},{label:"Nuevo",name:""}])},methods:{Save:function(){var e=this;axios.post("/admin/prospects",e.form).then((function(t){e.$store.commit("showSnackbar",{message:t.data.message,color:"success",duration:3e3}),e.$router.go(-1)})).catch((function(t){e.$store.commit("hideLoader"),t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)}))}}},i=a(0),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",[a("v-card-title",[a("v-icon",[e._v("mdi-account-box-outline")]),e._v(" Registrar Nuevo Prospecto\n    ")],1),e._v(" "),a("v-card-text",[a("form-prospect",{attrs:{form:e.form},on:{"update:form":function(t){e.form=t},submit:function(t){return e.Save()}}})],1)],1)],1)}),[],!1,null,null,null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var r={components:{FormProspect:a(149).a},props:{propProspectId:{required:!0,type:[Number,String]}},data:function(){return{form:null}},mounted:function(){this.loadProspect((function(){})),this.$store.commit("setBreadcrumbs",[{label:"Prospectos",to:{name:"prospect.list"}},{label:"Editar",name:""}])},methods:{update:function(){var e=this;axios.put("/admin/prospects/"+e.propProspectId,e.form).then((function(t){e.$store.commit("showSnackbar",{message:t.data.message,color:"success",duration:3e3}),e.$router.go(-1)})).catch((function(t){e.$store.commit("hideLoader"),t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)}))},loadProspect:function(){var e=this;axios.get("/admin/prospects/"+e.propProspectId).then((function(t){var a=t.data.data,o=a.township?a.township.estate_id:null;e.form=i(i({},a),{},{estate_id:o})}))}}},s=a(0),l=Object(s.a)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",[a("v-card-title",[a("v-icon",[e._v("mdi-account-box-outline")]),e._v(" Registrar Nuevo Prospecto\n    ")],1),e._v(" "),a("v-card-text",[e.form?a("form-prospect",{attrs:{form:e.form},on:{"update:form":function(t){e.form=t},submit:function(t){return e.update()}}}):e._e()],1)],1)],1)}),[],!1,null,null,null);t.default=l.exports},function(e,t,a){"use strict";a.r(t);var o={components:{TrackingForm:a(150).a},props:{propProspectId:{required:!1,type:[String,Number]}},data:function(){return{valid:!0,form:{price:null,title:null,currency:"MXN",reference:null,agency_id:null,prospect_id:null,attended_by:null,department_id:null,first_contact:"online",description_topic:null,tracking_condition:"Por definir"}}},mounted:function(){this.propProspectId&&(this.form.prospect_id=this.propProspectId)},methods:{save:function(){if(this.$refs.form.validate()){var e=this;e.isLoading=!0,axios.post("/admin/tracking",this.form).then((function(t){e.$store.commit("showSnackbar",{message:t.data.message,color:"success",duration:3e3}),e.isLoading=!1,e.$router.push({name:"tracking.list"})})).catch((function(t){e.isLoading=!1,e.$store.commit("hideLoader"),t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)}))}}}},i=a(0),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[a("v-icon",[e._v("mdi-account")]),e._v(" Levantar un Seguimiento a Prospecto\n  ")],1),e._v(" "),a("v-divider",{staticClass:"mb-3"}),e._v(" "),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("tracking-form",{attrs:{form:e.form},on:{"update:form":function(t){e.form=t}}})],1),e._v(" "),a("v-card-actions",[a("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"success",block:""},on:{click:e.save}},[e._v("\n      Guardar\n    ")])],1)],1)}),[],!1,null,null,null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var n={components:{TrackingForm:a(150).a},props:{propTrackingId:{required:!1,type:[String,Number]}},data:function(){return{valid:!0,form:{price:null,title:null,currency:null,reference:null,agency_id:null,prospect_id:null,attended_by:null,department_id:null,first_contact:null,description_topic:null,tracking_condition:null}}},mounted:function(){this.loadTracking((function(){}))},methods:{submit:function(){if(this.$refs.form.validate()){var e=this;axios.put("/admin/tracking/"+e.propTrackingId,e.form).then((function(t){e.$store.commit("showSnackbar",{message:t.data.message,color:"success",duration:3e3}),e.$router.go(-1)})).catch((function(t){e.$store.commit("hideLoader"),t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)}))}},loadTracking:function(e){var t=this;axios.get("/admin/tracking/"+t.propTrackingId+"/edit").then((function(e){t.form=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.data.data),t.$store.commit("showSnackbar",{message:e.data.message,color:"success",duration:3e3})})).catch((function(e){t.$store.commit("hideLoader"),e.response?t.$store.commit("showSnackbar",{message:e.response.data.message,color:"error",duration:3e3}):e.request?console.log(e.request):console.log("Error",e.message)})),e()}}},r=a(0),s=Object(r.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[a("v-icon",[e._v("mdi-account")]),e._v(" Editar el Seguimiento\n  ")],1),e._v(" "),a("v-divider",{staticClass:"mb-3"}),e._v(" "),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("tracking-form",{attrs:{form:e.form,editing:""},on:{"update:form":function(t){e.form=t}}})],1),e._v(" "),a("v-card-actions",[a("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"success",block:""},on:{click:e.submit}},[e._v("\n      Modificar\n    ")])],1)],1)}),[],!1,null,null,null);t.default=s.exports},function(e,t,a){"use strict";a.r(t);var o={data:function(){return{dialog:!1,focus:"",type:"month",typeToLabel:{month:"Mes",week:"Semana",day:"Dia","4day":"4 Dias"},selectedEvent:{},selectedElement:null,selectedOpen:!1,events:[]}},mounted:function(){this.$refs.calendar.checkChange(),this.loadHistorical()},methods:{viewDay:function(e){var t=e.date;this.focus=t,this.type="day"},getEventColor:function(e){return new Date(e.start)>=new Date?e.color:"red darken-4"},setToday:function(){this.focus=""},prev:function(){this.$refs.calendar.prev()},next:function(){this.$refs.calendar.next()},showEvent:function(e){var t=this,a=e.nativeEvent,o=e.event,i=function(){t.selectedEvent=o,t.selectedElement=a.target,setTimeout((function(){t.selectedOpen=!0}),10)};this.selectedOpen?(this.selectedOpen=!1,setTimeout(i,10)):i(),a.stopPropagation()},loadHistorical:function(e){var t=this;axios.get("/admin/tracking/historical/diary").then((function(a){t.events=a.data.data.event,(e||Function)()}))}}},i=a(0),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{staticClass:"fill-height"},[a("v-col",[a("v-sheet",{attrs:{height:"64"}},[a("v-toolbar",{attrs:{flat:""}},[a("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"grey darken-2"},on:{click:e.setToday}},[e._v("\n          HOY\n        ")]),e._v(" "),a("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:e.prev}},[a("v-icon",{attrs:{small:""}},[e._v("\n            mdi-chevron-left\n          ")])],1),e._v(" "),a("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:e.next}},[a("v-icon",{attrs:{small:""}},[e._v("\n            mdi-chevron-right\n          ")])],1),e._v(" "),e.$refs.calendar?a("v-toolbar-title",[e._v("\n          "+e._s(e.$refs.calendar.title)+"\n        ")]):e._e(),e._v(" "),a("v-spacer"),e._v(" "),a("v-menu",{attrs:{bottom:"",right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{outlined:"",color:"grey darken-2"}},"v-btn",i,!1),o),[a("span",[e._v(e._s(e.typeToLabel[e.type]))]),e._v(" "),a("v-icon",{attrs:{right:""}},[e._v("\n                mdi-menu-down\n              ")])],1)]}}])},[e._v(" "),a("v-list",[a("v-list-item",{on:{click:function(t){e.type="day"}}},[a("v-list-item-title",[e._v("Dia")])],1),e._v(" "),a("v-list-item",{on:{click:function(t){e.type="week"}}},[a("v-list-item-title",[e._v("Semana")])],1),e._v(" "),a("v-list-item",{on:{click:function(t){e.type="month"}}},[a("v-list-item-title",[e._v("Mes")])],1),e._v(" "),a("v-list-item",{on:{click:function(t){e.type="4day"}}},[a("v-list-item-title",[e._v("4 Dias")])],1)],1)],1)],1)],1),e._v(" "),a("v-sheet",{attrs:{height:"500"}},[a("v-calendar",{ref:"calendar",attrs:{color:"primary",events:e.events,"event-color":e.getEventColor,type:e.type},on:{"click:event":e.showEvent,"click:more":e.viewDay,"click:date":e.viewDay},model:{value:e.focus,callback:function(t){e.focus=t},expression:"focus"}}),e._v(" "),a("v-menu",{attrs:{"close-on-content-click":!1,activator:e.selectedElement,"offset-x":""},model:{value:e.selectedOpen,callback:function(t){e.selectedOpen=t},expression:"selectedOpen"}},[a("v-card",{attrs:{color:"grey lighten-4","min-width":"424px",flat:""}},[a("v-toolbar",{attrs:{color:e.selectedEvent.color,dark:""}},[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.$router.push({name:"tracking.prospect",params:{propTrackingId:e.selectedEvent.id}})}}},[a("v-icon",[e._v("mdi-eye-outline")])],1),e._v(" "),a("v-toolbar-title",{domProps:{innerHTML:e._s(e.selectedEvent.name+"<br>"+e.selectedEvent.prospect)}}),e._v(" "),a("v-spacer")],1),e._v(" "),a("v-card-text",{staticStyle:{"max-width":"424px"}},[a("span",{staticClass:"title",domProps:{innerHTML:e._s(e.selectedEvent.title)}}),e._v(" "),a("span",{staticClass:"font-weight-black text-uppercase",domProps:{innerHTML:e._s(e.selectedEvent.reference)}}),e._v(" "),a("p",{staticClass:"font-weight-medium",domProps:{innerHTML:e._s(e.selectedEvent.attended)}}),e._v(" "),a("span",{domProps:{innerHTML:e._s(e.selectedEvent.details)}})])],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);var o={data:function(){return{active:""}},mounted:function(){}},i=a(0),n=Object(i.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page_wrap_vue pa-3"},[t("transition",{attrs:{name:"fade"}},[t("router-view")],1)],1)}),[],!1,null,null,null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);var o={data:function(){return{headers:[{text:"Accion",value:"action",align:"center",sortable:!1},{text:"Nombre",value:"name",align:"left",sortable:!0},{text:"Email",value:"email",align:"left",sortable:!1},{text:"Permisos",value:"permissions",align:"center",sortable:!1},{text:"Grupos",value:"groups",align:"center",sortable:!1},{text:"Ultimo inicio",value:"last_login",align:"right",sortable:!0},{text:"Activo",value:"active",align:"center",width:10,sortable:!1}],items:[],totalItems:0,pagination:{itemsPerPage:10},filters:{name:"",email:"",groupId:[],groupOptions:[]},dialogs:{showPermissions:{items:[],show:!1}}}},mounted:function(){var e=this;e.loadGroups((function(){})),e.$eventBus.$on(["USER_ADDED","USER_UPDATED","USER_DELETED","GROUP_ADDED"],(function(){e.loadUsers((function(){}))})),e.$store.commit("setBreadcrumbs",[{label:"Users",to:{name:"users.list"}}])},watch:{pagination:{handler:function(){this.loadUsers((function(){}))},deep:!0},"filters.name":_.debounce((function(){this.loadUsers((function(){}))}),700),"filters.email":_.debounce((function(){this.loadUsers((function(){}))}),700),"filters.groupId":_.debounce((function(){this.loadUsers((function(){}))}),700)},methods:{trash:function(e){var t=this;t.$store.commit("showDialog",{type:"confirm",icon:"warning",title:"Confirmar Eliminacion",message:"¿Esta seguro en eliminar al usuario?",okCb:function(){axios.delete("/admin/users/"+e.id).then((function(e){t.$store.commit("showSnackbar",{message:e.data.message,color:"success",duration:3e3}),t.$eventBus.$emit("USER_DELETED")})).catch((function(e){t.$store.commit("hideLoader"),e.response?t.$store.commit("showSnackbar",{message:e.response.data.message,color:"error",duration:3e3}):e.request?console.log(e.request):console.log("Error",e.message)}))},cancelCb:function(){console.log("CANCEL")}})},showDialog:function(e,t){var a=this;switch(e){case"user_permissions":a.dialogs.showPermissions.items=t,setTimeout((function(){a.dialogs.showPermissions.show=!0}),500)}},loadUsers:function(e){var t=this,a={name:t.filters.name,email:t.filters.email,group_id:t.filters.groupId.join(","),order_sort:t.pagination.sortDesc[0]?"desc":"asc",order_by:t.pagination.sortBy[0]||"name",page:t.pagination.page,per_page:t.pagination.itemsPerPage};axios.get("/admin/users",{params:a}).then((function(a){t.items=a.data.data.data,t.totalItems=a.data.data.total,t.pagination.totalItems=a.data.data.total,(e||Function)()}))},loadGroups:function(e){var t=this;axios.get("/admin/groups",{params:{paginate:"no"}}).then((function(a){t.filters.groupOptions=a.data.data,e()}))}}},i=a(0),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",{staticClass:"pt-2"},[a("div",{staticClass:"d-flex flex-md-row flex-sm-column flex-wrap align-center"},[a("v-btn",{staticClass:"primary lighten-1 flex-grow-1 ma-1",attrs:{dark:""},on:{click:function(t){return e.$router.push({name:"users.create"})}}},[e._v("\n        Usuario Nuevo\n        "),a("v-icon",{attrs:{right:"",dark:""}},[e._v("mdi-plus")])],1),e._v(" "),a("v-btn",{staticClass:"primary lighten-1 float-right flex-grow-1 ma-1",attrs:{dark:""},on:{click:function(t){return e.$router.push({name:"users.groups.list"})}}},[e._v("\n        Administrar Grupos "),a("v-icon",{attrs:{right:"",dark:""}},[e._v("mdi-account-multiple")])],1),e._v(" "),a("v-btn",{staticClass:"primary lighten-1 float-right mr-2 flex-grow-1 ma-1",attrs:{dark:""},on:{click:function(t){return e.$router.push({name:"users.permissions.list"})}}},[e._v("\n        Administra Permisos "),a("v-icon",{attrs:{right:"",dark:""}},[e._v("mdi-key")])],1),e._v(" "),a("v-btn",{staticClass:"orange lighten-1 float-right mr-2 flex-grow-1 ma-1",attrs:{dark:""},on:{click:function(t){return e.$router.push({name:"sellers.list"})}}},[e._v("\n        Administrar Vendedores "),a("v-icon",{attrs:{right:"",dark:""}},[e._v("mdi-account")])],1)],1),e._v(" "),a("div",{staticClass:"d-flex flex-lg-row flex-sm-column flex-wrap align-center"},[a("div",{staticClass:"flex-grow-1 pa-2"},[a("v-text-field",{attrs:{filled:"","prepend-icon":"mdi-magnify",label:"Filtrar por Nombre"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("div",{staticClass:"flex-grow-1 pa-2"},[a("v-text-field",{attrs:{filled:"","prepend-icon":"mdi-magnify",label:"Filtrar por Email"},model:{value:e.filters.email,callback:function(t){e.$set(e.filters,"email",t)},expression:"filters.email"}})],1),e._v(" "),a("div",{staticClass:"flex-grow-1 pa-2"},[a("v-autocomplete",{attrs:{filled:"",multiple:"",chips:"","deletable-chips":"",clearable:"","prepend-icon":"mdi-filter-variant",label:"Filtrar por Grupos",items:e.filters.groupOptions,"item-text":"name","item-value":"id"},model:{value:e.filters.groupId,callback:function(t){e.$set(e.filters,"groupId",t)},expression:"filters.groupId"}})],1)])]),e._v(" "),a("v-divider",{staticClass:"pb-2"}),e._v(" "),a("v-data-table",{staticClass:"elevation-1 text-uppercase",attrs:{headers:e.headers,options:e.pagination,items:e.items,"server-items-length":e.totalItems,dense:"","fixed-header":""},on:{"update:options":function(t){e.pagination=t}},scopedSlots:e._u([{key:"header.name",fn:function(t){var o=t.header;return[a("v-icon",{attrs:{small:""}},[e._v("mdi-account")]),e._v(e._s(o.text)+"\n    ")]}},{key:"header.email",fn:function(t){var o=t.header;return[a("v-icon",{attrs:{small:""}},[e._v("mdi-email")]),e._v(e._s(o.text)+"\n    ")]}},{key:"header.permissions",fn:function(t){var o=t.header;return[a("v-icon",{attrs:{small:""}},[e._v("mdi-key")]),e._v(e._s(o.text)+"\n    ")]}},{key:"header.groups",fn:function(t){var o=t.header;return[a("v-icon",{attrs:{small:""}},[e._v("mdi-account-multiple")]),e._v(e._s(o.text)+"\n    ")]}},{key:"header.last_login",fn:function(t){var o=t.header;return[a("v-icon",{attrs:{small:""}},[e._v("mdi-av-timer")]),e._v(e._s(o.text)+"\n    ")]}},{key:"item.action",fn:function(t){var o=t.item;return[a("v-btn",{attrs:{"x-small":"",outlined:"",icon:"",color:"info"},on:{click:function(t){return e.$router.push({name:"users.edit",params:{id:o.id}})}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-pencil")])],1),e._v(" "),a("v-btn",{attrs:{"x-small":"",outlined:"",icon:"",color:"red"},on:{click:function(t){return e.trash(o)}}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-delete")])],1)]}},{key:"item.permissions",fn:function(t){var o=t.item;return[a("v-btn",{attrs:{small:"",outlined:"",rounded:"",color:"grey",dark:""},on:{click:function(t){return e.showDialog("user_permissions",o.permissions)}}},[e._v("Mostrar")])]}},{key:"item.groups",fn:function(t){var o=t.item;return e._l(o.groups,(function(t){return a("v-chip",{key:t.id,attrs:{outlined:"",color:"secondary","text-color":"accent"}},[e._v("\n        "+e._s(t.name)+"\n      ")])}))}},{key:"item.last_login",fn:function(t){var a=t.item;return[e._v("\n      "+e._s(e.$appFormatters.formatDate(a.last_login))+"\n    ")]}},{key:"item.active",fn:function(t){var o=t.item;return[a("v-avatar",{attrs:{outlined:""}},[null!=o.active?a("v-icon",{staticClass:"green--text"},[e._v("mdi-check-circle-outline")]):a("v-icon",{staticClass:"grey--text"},[e._v("mdi-alert-circle-outline")])],1)]}}],null,!0)}),e._v(" "),a("v-divider",{staticClass:"py-5"}),e._v(" "),a("v-dialog",{attrs:{absolute:"","max-width":"300px"},model:{value:e.dialogs.showPermissions.show,callback:function(t){e.$set(e.dialogs.showPermissions,"show",t)},expression:"dialogs.showPermissions.show"}},[a("v-card",[a("v-card-title",[a("div",{staticClass:"headline"},[a("v-icon",[e._v("vpn_key")]),e._v(" User Permissions")],1)]),e._v(" "),a("v-card-text",[e._l(e.dialogs.showPermissions.items,(function(t,o){return a("v-chip",{key:o,staticClass:"white--text ma-1",class:{green:1==t.value,red:-1==t.value,blue:0==t.value}},[-1==t.value?a("v-avatar",{staticClass:"red darken-4",attrs:{title:"Deny"}},[a("v-icon",[e._v("block")])],1):e._e(),e._v(" "),1==t.value?a("v-avatar",{staticClass:"green darken-4",attrs:{title:"Allow"}},[a("v-icon",[e._v("check_circle")])],1):e._e(),e._v(" "),0==t.value?a("v-avatar",{staticClass:"blue darken-4",attrs:{title:"Inherit"}},[a("v-icon",[e._v("swap_horiz")])],1):e._e(),e._v("\n          "+e._s(t.title)+"\n        ")],1)})),e._v(" "),0==e.dialogs.showPermissions.items.length?a("p",[e._v("No permissions")]):e._e()],2)],1)],1)],1)}),[],!1,null,null,null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);var o={data:function(){var e=this;return{valid:!1,name:"",nameRules:[function(e){return!!e||"Name is required"}],email:"",emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)||"E-mail must be valid"}],password:"",passwordRules:[function(e){return!!e||"Password is required"},function(e){return e&&e.length>=8||"Password must be atleast 8 characters."}],passwordConfirm:"",passwordConfirmRules:[function(t){return!(t!==e.password)||"Password do not match."}],permissions:[],groups:[],agency:null,department:null,jobTitle:"",active:"",options:{permissions:[],permissionValues:[{label:"Allow",value:1},{label:"Deny",value:-1},{label:"Inherit",value:0}],groups:[],agencies:[],departments:[]},selectedPermission:{},selectedPermissionValue:0,alert:{show:!1,icon:"",color:"",message:""}}},mounted:function(){console.log("components.UserFormAdd.vue");this.loadPermissions((function(e){})),this.loadGroups((function(e){})),this.$store.commit("setBreadcrumbs",[{label:"Users",to:{name:"users.list"}},{label:"Create",to:""}])},methods:{removePermission:function(e){this.permissions.splice(e,1)},save:function(){var e=this,t={name:e.name,email:e.email,password:e.password,active:e.active?moment().format("YYYY-MM-DD"):null,permissions:e.permissions,groups:e.groups,agency_id:e.agency,departments_id:e.department,job_title:e.jobTitle};e.$store.commit("showLoader"),axios.post("/admin/users",t).then((function(t){e.$store.commit("showSnackbar",{message:t.data.message,color:"success",duration:3e3}),e.$eventBus.$emit("USER_ADDED"),e.$store.commit("hideLoader"),e.$refs.userFormAdd.reset(),e.permissions=[]})).catch((function(t){e.$store.commit("hideLoader"),t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)}))},addSpecialPermission:function(){var e=this;_.each(e.options.permissions,(function(t){e.selectedPermission===t.key&&(e.existsInPermissions(e.selectedPermission)||(t.value=e.selectedPermissionValue,e.permissions.push(t)))}))},existsInPermissions:function(e){var t=!1;return _.each(this.permissions,(function(a){a.key===e&&(t=!0)})),t},loadPermissions:function(e){var t=this;axios.get("/admin/permissions",{params:{paginate:"no"}}).then((function(a){t.options.permissions=a.data.data,e()}))},loadGroups:function(e){var t=this;axios.get("/admin/groups",{params:{paginate:"no"}}).then((function(a){t.options.groups=a.data.data,_.each(t.options.groups,(function(e){e.selected=!1})),e()})),axios.get("/admin/tracking/sales_history/resources").then((function(a){var o=a.data.data;t.options.agencies=o.agencies,t.options.departments=o.departments,(e||Function)()}))}}},i=a(0),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",[a("v-card-title",[a("v-icon",[e._v("mdi-account")]),e._v(" Create User ")],1),e._v(" "),a("v-divider"),e._v(" "),a("v-form",{ref:"userFormAdd",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{label:"First Name",rules:e.nameRules},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{label:"Email",rules:e.emailRules},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-autocomplete",{attrs:{items:e.options.agencies,"item-text":"title","item-value":"id",label:"Agencia",placeholder:"Agencia a cual correponde."},model:{value:e.agency,callback:function(t){e.agency=t},expression:"agency"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-autocomplete",{attrs:{items:e.options.departments,"item-text":"title","item-value":"id",label:"Departamento:",placeholder:"Departamento a cual correponde."},model:{value:e.department,callback:function(t){e.department=t},expression:"department"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-text-field",{attrs:{label:"Puesto"},model:{value:e.jobTitle,callback:function(t){e.jobTitle=t},expression:"jobTitle"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{label:"Password",type:"password",rules:e.passwordRules},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{label:"Confirm Password",type:"password",rules:e.passwordConfirmRules},model:{value:e.passwordConfirm,callback:function(t){e.passwordConfirm=t},expression:"passwordConfirm"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-switch",{attrs:{label:"Pre-Activate Account"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-spacer")],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("h1",{staticClass:"title"},[a("v-icon",[e._v("mdi-key")]),e._v(" Special Permissions\n            ")],1),e._v(" "),a("v-alert",{attrs:{color:"info",icon:"mdi-information-outline",value:!0}},[e._v('\n              Los permisos especiales son permisos exclusivos para este\n              usuario. Permisos definidos aquí. Son más superiores que\n              cualquier permiso que tenga en su grupo. Así que si el usuario\n              pertenece a un grupo que tiene permiso para "hacer algo" pero\n              luego se le niega "hacer algo" aquí, al usuario se le negará ese\n              permiso. En definitiva, permisos especiales.Tiene alta prioridad\n              que los permisos de grupo.\n            ')]),e._v(" "),a("v-divider")],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-select",{attrs:{label:"Select Permission",items:e.options.permissions,"item-text":"title","item-value":"key"},model:{value:e.selectedPermission,callback:function(t){e.selectedPermission=t},expression:"selectedPermission"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-select",{attrs:{label:"Permission Value",items:e.options.permissionValues,"item-text":"label","item-value":"value"},model:{value:e.selectedPermissionValue,callback:function(t){e.selectedPermissionValue=t},expression:"selectedPermissionValue"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-btn",{staticClass:"primary lighten-1",attrs:{dark:""},on:{click:function(t){return e.addSpecialPermission()}}},[e._v("\n              Add Permission\n              "),a("v-icon",{attrs:{right:""}},[e._v("mdi-plus")])],1)],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"permissions_container"},[e._l(e.permissions,(function(t,o){return a("v-chip",{key:o,staticClass:"white--text",class:{green:1==t.value,red:-1==t.value,blue:0==t.value},on:{"click:close":function(t){return e.removePermission(o)}}},[-1==t.value?a("v-avatar",{staticClass:"red darken-4",attrs:{title:"Deny"}},[a("v-icon",[e._v("mdi-cancel")])],1):e._e(),e._v(" "),1==t.value?a("v-avatar",{staticClass:"green darken-4",attrs:{title:"Allow"}},[a("v-icon",[e._v("mdi-check-circle")])],1):e._e(),e._v(" "),0==t.value?a("v-avatar",{staticClass:"blue darken-4",attrs:{title:"Inherit"}},[a("v-icon",[e._v("mdi-swap-horizontal")])],1):e._e(),e._v("\n                "+e._s(t.title)+"\n              ")],1)})),e._v(" "),0===e.permissions.length?a("div",{staticClass:"info pa-2"},[e._v("\n                No special permissions assigned.\n              ")]):e._e()],2)]),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-spacer")],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("h1",{staticClass:"title"},[a("v-icon",[e._v("mdi-account-multiple")]),e._v(" Grupos\n            ")],1),e._v(" "),a("v-divider")],1),e._v(" "),a("v-layout",{attrs:{wrap:"","mx-2":""}},e._l(e.options.groups,(function(t,o){return a("v-flex",{key:o,attrs:{xs6:"",md3:""}},[a("v-switch",{attrs:{label:t.name},model:{value:e.groups[t.id],callback:function(a){e.$set(e.groups,t.id,a)},expression:"groups[g.id]"}})],1)})),1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-btn",{attrs:{block:"",disabled:!e.valid,color:"primary",dark:""},on:{click:function(t){return e.save()}}},[e._v("Guardar")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);var o={props:{propUserId:{required:!0}},data:function(){var e=this;return{valid:!1,name:"",nameRules:[function(e){return!!e||"Nombre Requerido"}],email:"",emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)||"E-mail debe ser valido"}],password:"",passwordRules:[function(e){return!(e&&e.length>0&&e.length<8)||"La contraseña necesita un mínimo de 8 caracteres."}],passwordConfirm:"",passwordConfirmRules:[function(t){return!(t!==e.password)||"Contraseña no coincide."}],permissions:[],groups:[],agency:null,department:null,jobTitle:"",active:"",options:{permissions:[],permissionValues:[{label:"Permitir",value:1},{label:"Denegar",value:-1},{label:"Heredar",value:0}],groups:[],agencies:[],departments:[]},selectedPermission:{},selectedPermissionValue:0,alert:{show:!1,icon:"",color:"",message:""}}},mounted:function(){var e=this;e.loadPermissions((function(){e.loadGroups((function(){}))})),e.$eventBus.$on(["GROUP_ADDED"],(function(){e.loadGroups((function(){}))})),this.loadUser((function(){}))},methods:{removePermission:function(e){this.permissions.splice(e,1)},save:function(){var e=this,t={name:e.name,email:e.email,password:e.password?e.password:null,active:e.active?moment().format("YYYY-MM-DD"):null,permissions:e.permissions,groups:e.groups,agency_id:e.agency,departments_id:e.department,job_title:e.jobTitle};e.$store.commit("showLoader"),axios.put("/admin/users/"+e.propUserId,t).then((function(t){e.$store.commit("showSnackbar",{message:t.data.message,color:"success",duration:3e3}),e.$eventBus.$emit("USER_UPDATED"),e.$store.commit("hideLoader")})).catch((function(t){e.$store.commit("hideLoader"),t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)}))},addSpecialPermission:function(){var e=this;_.each(e.options.permissions,(function(t){e.selectedPermission===t.key&&(e.existsInPermissions(e.selectedPermission)||(t.value=e.selectedPermissionValue,e.permissions.push(t)))})),console.log(e.permissions)},existsInPermissions:function(e){var t=!1;return _.each(this.permissions,(function(a){a.key===e&&(t=!0)})),t},loadUser:function(e){var t=this;t.groups=[],axios.get("/admin/users/"+t.propUserId).then((function(a){var o=a.data.data;t.name=o.name,t.email=o.email,t.active=null!==o.active,t.permissions=o.permissions,t.jobTitle=o.job_title,t.agency=o.agency_id,t.department=o.departments_id,_.each(o.groups,(function(e){t.groups[e.id]=!0})),t.$store.commit("setBreadcrumbs",[{label:"Users",to:{name:"users.list"}},{label:o.name,to:""},{label:"Perfil",to:""}]),e()}))},loadPermissions:function(e){var t=this;axios.get("/admin/permissions",{params:{paginate:"no"}}).then((function(a){t.options.permissions=a.data.data,e()}))},loadGroups:function(e){var t=this;axios.get("/admin/groups",{params:{paginate:"no"}}).then((function(a){t.options.groups=a.data.data,_.each(t.options.groups,(function(e){e.selected=!1})),e()})),axios.get("/admin/tracking/sales_history/resources").then((function(a){var o=a.data.data;t.options.agencies=o.agencies,t.options.departments=o.departments,(e||Function)()}))}}},i=a(0),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",[a("v-card-title",[a("v-icon",[e._v("mdi-badge-account")]),e._v(" Perfil Usuario\n    ")],1),e._v(" "),a("v-divider",{staticClass:"mb-2"}),e._v(" "),a("v-form",{ref:"userFormEdit",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{label:"Nombre",rules:e.nameRules},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{label:"Email",rules:e.emailRules},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-autocomplete",{attrs:{items:e.options.agencies,"item-text":"title","item-value":"id",label:"Agencia",placeholder:"Agencia a cual correponde."},model:{value:e.agency,callback:function(t){e.agency=t},expression:"agency"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-autocomplete",{attrs:{items:e.options.departments,"item-text":"title","item-value":"id",label:"Departamento:",placeholder:"Departamento a cual correponde."},model:{value:e.department,callback:function(t){e.department=t},expression:"department"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-text-field",{attrs:{label:"Puesto"},model:{value:e.jobTitle,callback:function(t){e.jobTitle=t},expression:"jobTitle"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Contraseña (dejar en blanco si no se cambia)",type:"password",rules:e.passwordRules},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-switch",{attrs:{label:"Cuenta Preactivada"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-spacer")],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("h1",{staticClass:"title"},[a("v-icon",[e._v("mdi-key")]),e._v(" Permisos Especiales\n            ")],1),e._v(" "),a("v-alert",{attrs:{color:"info",icon:"info",value:!0}},[e._v('\n              Los permisos especiales son permisos exclusivos para este\n              usuario. Permisos definidos aquí. Son más superiores que\n              cualquier permiso que tenga en su grupo. Así que si el usuario\n              pertenece a un grupo que tiene permiso para "hacer algo" pero\n              luego se le niega "hacer algo" aquí, al usuario se le negará ese\n              permiso. En definitiva, permisos especiales.Tiene alta prioridad\n              que los permisos de grupo.\n            ')]),e._v(" "),a("v-divider")],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-select",{attrs:{label:"Selecciona Permisos",items:e.options.permissions,"item-text":"title","item-value":"key"},model:{value:e.selectedPermission,callback:function(t){e.selectedPermission=t},expression:"selectedPermission"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-select",{attrs:{label:"Valor del Permiso",items:e.options.permissionValues,"item-text":"label","item-value":"value"},model:{value:e.selectedPermissionValue,callback:function(t){e.selectedPermissionValue=t},expression:"selectedPermissionValue"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-btn",{staticClass:"primary lighten-1",attrs:{dark:""},on:{click:function(t){return e.addSpecialPermission()}}},[e._v("\n              Agregar Permiso\n              "),a("v-icon",{attrs:{right:""}},[e._v("add")])],1)],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"permissions_container"},[e._l(e.permissions,(function(t,o){return a("v-chip",{key:o,staticClass:"white--text",class:{green:1==t.value,red:-1==t.value,blue:0==t.value},attrs:{close:""},on:{"click:close":function(t){return e.removePermission(o)}}},[-1==t.value?a("v-avatar",{staticClass:"red darken-1",attrs:{title:"Deny"}},[a("v-icon",[e._v("mdi-cancel")])],1):e._e(),e._v(" "),1==t.value?a("v-avatar",{staticClass:"green darken-1",attrs:{title:"Allow"}},[a("v-icon",[e._v("mdi-check-circle-outline")])],1):e._e(),e._v(" "),0==t.value?a("v-avatar",{staticClass:"blue darken-1",attrs:{title:"Inherit"}},[a("v-icon",[e._v("mdi-swap-horizontal")])],1):e._e(),e._v("\n                "+e._s(t.title)+"\n              ")],1)})),e._v(" "),e.permissions&&0===e.permissions.length?a("div",[e._v("\n                No hay permisos especiales asignados.\n              ")]):e._e()],2)]),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-spacer")],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("h1",{staticClass:"title"},[a("v-icon",[e._v("people")]),e._v(" Grupos")],1),e._v(" "),a("v-divider")],1),e._v(" "),a("v-layout",{attrs:{wrap:"","mx-2":""}},e._l(e.options.groups,(function(t,o){return a("v-flex",{key:o,attrs:{xs6:"",md3:""}},[a("v-switch",{attrs:{label:t.name},model:{value:e.groups[t.id],callback:function(a){e.$set(e.groups,t.id,a)},expression:"groups[g.id]"}})],1)})),1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-btn",{attrs:{block:"",disabled:!e.valid,color:"primary",dark:""},on:{click:function(t){return e.save()}}},[e._v("Update")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);var o={data:function(){return{headers:[{text:"Action",value:!1,align:"left",sortable:!1},{text:"Name",value:"name",align:"left",sortable:!1},{text:"Permissions",value:"permissions",align:"left",sortable:!1},{text:"Total Members",value:"members_count",align:"left",sortable:!1},{text:"Date Created",value:"created_at",align:"left",sortable:!1}],items:[],totalItems:0,pagination:{rowsPerPage:10},filters:{name:""},dialogs:{showPermissions:{items:[],show:!1}}}},mounted:function(){this.$store.commit("setBreadcrumbs",[{label:"Users",to:{name:"users.list"}},{label:"Groups",to:""}])},watch:{"pagination.page":function(){this.loadGroups()},"pagination.rowsPerPage":function(){this.loadGroups()},"filters.name":_.debounce((function(){this.loadGroups()}),700)},methods:{trash:function(e){var t=this;t.$store.commit("showDialog",{type:"confirm",title:"Confirm Deletion",message:"Are you sure you want to delete this group?",okCb:function(){axios.delete("/admin/groups/"+e.id).then((function(e){t.$store.commit("showSnackbar",{message:e.data.message,color:"success",duration:3e3}),t.$eventBus.$emit("GROUP_DELETED")})).catch((function(e){t.$store.commit("hideLoader"),e.response?t.$store.commit("showSnackbar",{message:e.response.data.message,color:"error",duration:3e3}):e.request?console.log(e.request):console.log("Error",e.message)}))},cancelCb:function(){console.log("CANCEL")}})},showDialog:function(e,t){var a=this;switch(e){case"group_permissions":a.dialogs.showPermissions.items=t,setTimeout((function(){a.dialogs.showPermissions.show=!0}),500)}},loadGroups:function(e){var t=this,a={name:t.filters.name,page:t.pagination.page,per_page:t.pagination.rowsPerPage};axios.get("/admin/groups",{params:a}).then((function(a){t.items=a.data.data.data,t.totalItems=a.data.data.total,t.pagination.totalItems=a.data.data.total,(e||Function)()}))}}},i=a(0),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",[a("div",{staticClass:"d-flex flex-row"},[a("div",{staticClass:"flex-grow-1 pa-2"},[a("v-text-field",{attrs:{"prepend-icon":"mdi-magnify",label:"Filter By Name"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("div",{staticClass:"flex-grow-1 pa-2 text-right"},[a("v-btn",{staticClass:"primary lighten-1",attrs:{dark:""},on:{click:function(t){return e.$router.push({name:"users.groups.create"})}}},[e._v("\n                    New Group\n                    "),a("v-icon",{attrs:{right:""}},[e._v("mdi-plus")])],1)],1)])]),e._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,options:e.pagination,items:e.items,"server-items-length":e.totalItems},on:{"update:options":function(t){e.pagination=t}},scopedSlots:e._u([{key:"body",fn:function(t){var o=t.items;return[a("tbody",e._l(o,(function(t){return a("tr",{key:t.id},[a("td",[a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",fab:"",small:"",color:"info"},on:{click:function(a){return e.$router.push({name:"users.groups.edit",params:{id:t.id}})}}},[a("v-icon",[e._v("mdi-pencil")])],1),e._v(" "),a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",fab:"",small:"",color:"red"},on:{click:function(a){return e.trash(t)}}},[a("v-icon",[e._v("mdi-delete")])],1)],1),e._v(" "),a("td",[e._v(e._s(t.name))]),e._v(" "),a("td",[a("v-btn",{attrs:{small:"",outlined:"",rounded:"",color:"grey",dark:""},on:{click:function(a){return e.showDialog("group_permissions",t.permissions)}}},[e._v("Show")])],1),e._v(" "),a("td",[e._v(e._s(t.members_count))]),e._v(" "),a("td",[e._v(e._s(e.$appFormatters.formatDate(t.created_at)))])])})),0)]}}])}),e._v(" "),a("v-dialog",{attrs:{absolute:"","max-width":"300px"},model:{value:e.dialogs.showPermissions.show,callback:function(t){e.$set(e.dialogs.showPermissions,"show",t)},expression:"dialogs.showPermissions.show"}},[a("v-card",[a("v-card-title",[a("div",{staticClass:"headline"},[a("v-icon",[e._v("mdi-key")]),e._v(" Group Permissions")],1)]),e._v(" "),a("v-card-text",[e._l(e.dialogs.showPermissions.items,(function(t,o){return a("v-chip",{key:o,staticClass:"white--text",class:{green:1==t.value,red:-1==t.value,blue:0==t.value}},[-1==t.value?a("v-avatar",{staticClass:"red darken-4",attrs:{title:"Deny"}},[a("v-icon",[e._v("mdi-cancel")])],1):e._e(),e._v(" "),1==t.value?a("v-avatar",{staticClass:"green darken-4",attrs:{title:"Allow"}},[a("v-icon",[e._v("mdi-check-circle")])],1):e._e(),e._v(" "),0==t.value?a("v-avatar",{staticClass:"blue darken-4",attrs:{title:"Inherit"}},[a("v-icon",[e._v("mdi-swap-horizontal")])],1):e._e(),e._v("\n                    "+e._s(t.title)+"\n                ")],1)})),e._v(" "),0==e.dialogs.showPermissions.items.length?a("p",[e._v("No permissions")]):e._e()],2)],1)],1)],1)}),[],!1,null,null,null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);var o={data:function(){return{valid:!1,name:"",nameRules:[function(e){return!!e||"Name is required"}],permissions:[],selectedPermission:{},selectedPermissionValue:0,options:{permissions:[],permissionValues:[{label:"Allow",value:1},{label:"Deny",value:-1}]}}},mounted:function(){this.loadPermissions((function(){})),this.$store.commit("setBreadcrumbs",[{label:"Users",to:{name:"users.list"}},{label:"Groups",to:{name:"users.groups.list"}},{label:"Create",to:""}])},methods:{remove:function(e){this.permissions.splice(e,1)},save:function(){var e=this,t={name:e.name,permissions:e.permissions};e.$store.commit("showLoader"),axios.post("/admin/groups",t).then((function(t){e.$store.commit("showSnackbar",{message:t.data.message,color:"success",duration:3e3}),e.$store.commit("hideLoader"),e.$eventBus.$emit("GROUP_ADDED"),e.$refs.groupFormAdd.reset(),e.permissions=[]})).catch((function(t){e.$store.commit("hideLoader"),t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)}))},addSpecialPermission:function(){var e=this;_.each(e.options.permissions,(function(t){e.selectedPermission===t.key&&(e.existsInPermissions(e.selectedPermission)||(t.value=e.selectedPermissionValue,e.permissions.push(t)))})),console.log(e.permissions)},loadPermissions:function(e){var t=this,a={paginate:"no",page:t.page};axios.get("/admin/permissions",{params:a}).then((function(a){t.options.permissions=a.data.data,e()}))},existsInPermissions:function(e){var t=!1;return _.each(this.permissions,(function(a){a.permission===e&&(t=!0)})),t}}},i=a(0),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",[a("v-card-title",[a("v-icon",[e._v("mdi-account-multiple")]),e._v(" Create Group\n        ")],1),e._v(" "),a("v-divider"),e._v(" "),a("v-form",{ref:"groupFormAdd",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"body-2 white--text"},[e._v("Group Details")])]),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Group Name",rules:e.nameRules},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-select",{attrs:{label:"Select Permission",items:e.options.permissions,"item-text":"title","item-value":"key"},model:{value:e.selectedPermission,callback:function(t){e.selectedPermission=t},expression:"selectedPermission"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-select",{attrs:{label:"Permission Value",items:e.options.permissionValues,"item-text":"label","item-value":"value"},model:{value:e.selectedPermissionValue,callback:function(t){e.selectedPermissionValue=t},expression:"selectedPermissionValue"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-btn",{staticClass:"primary lighten-1",attrs:{dark:""},on:{click:function(t){return e.addSpecialPermission()}}},[e._v("\n                        Add Permission\n                        "),a("v-icon",{attrs:{right:""}},[e._v("mdi-plus")])],1)],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"permissions_container"},[e._l(e.permissions,(function(t,o){return a("v-chip",{key:o,staticClass:"white--text",class:{green:1==t.value,red:-1==t.value,blue:0==t.value},attrs:{close:""},on:{input:function(t){return e.remove(o)}}},[-1==t.value?a("v-avatar",{staticClass:"red darken-4",attrs:{title:"Deny"}},[a("v-icon",[e._v("mdi-cancel")])],1):e._e(),e._v(" "),1==t.value?a("v-avatar",{staticClass:"green darken-4",attrs:{title:"Allow"}},[a("v-icon",[e._v("mdi-check-circle")])],1):e._e(),e._v(" "),0==t.value?a("v-avatar",{staticClass:"blue darken-4",attrs:{title:"Inherit"}},[a("v-icon",[e._v("mdi-swap-horizontal")])],1):e._e(),e._v("\n                            "+e._s(t.title)+"\n                        ")],1)})),e._v(" "),0===e.permissions.length?a("div",[e._v("No special permissions assigned.")]):e._e()],2)]),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-btn",{attrs:{disabled:!e.valid,color:"primary",dark:""},on:{click:function(t){return e.save()}}},[e._v("Save")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);var o={props:{propGroupId:{required:!0}},data:function(){return{valid:!1,name:"",nameRules:[function(e){return!!e||"Name is required"}],permissions:[],selectedPermission:{},selectedPermissionValue:0,options:{permissions:[],permissionValues:[{label:"Allow",value:1},{label:"Deny",value:-1}]}}},mounted:function(){console.log("pages.Home.vue");this.loadPermissions((function(){})),this.loadGroup((function(){}))},methods:{removePermission:function(e){this.permissions.splice(e,1)},save:function(){var e=this,t={name:e.name,permissions:e.permissions};e.$store.commit("showLoader"),axios.put("/admin/groups/"+e.propGroupId,t).then((function(t){e.$store.commit("showSnackbar",{message:t.data.message,color:"success",duration:3e3}),e.$store.commit("hideLoader"),e.$eventBus.$emit("GROUP_UPDATED")})).catch((function(t){e.$store.commit("hideLoader"),t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)}))},addSpecialPermission:function(){var e=this;_.each(e.options.permissions,(function(t){e.selectedPermission===t.key&&(e.existsInPermissions(e.selectedPermission)||(t.value=e.selectedPermissionValue,e.permissions.push(t)))})),console.log(e.permissions)},loadPermissions:function(e){var t=this,a={paginate:"no",page:t.page};axios.get("/admin/permissions",{params:a}).then((function(a){t.options.permissions=a.data.data,e()}))},loadGroup:function(e){var t=this;axios.get("/admin/groups/"+t.propGroupId).then((function(a){var o=a.data.data;t.name=o.name,t.permissions=o.permissions,t.$store.commit("setBreadcrumbs",[{label:"Users",to:{name:"users.list"}},{label:"Groups",to:{name:"users.groups.list"}},{label:o.name,name:""},{label:"Edit",name:""}]),e()}))},existsInPermissions:function(e){var t=!1;return _.each(this.permissions,(function(a){a.permission===e&&(t=!0)})),t}}},i=a(0),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",[a("v-card-title",[a("v-icon",[e._v("groups")]),e._v(" Edit Group\n        ")],1),e._v(" "),a("v-divider"),e._v(" "),a("v-form",{ref:"groupFormAdd",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"body-2 white--text"},[e._v("Group Details")])]),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Group Name",rules:e.nameRules},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-select",{attrs:{label:"Select Permission",items:e.options.permissions,"item-text":"title","item-value":"key"},model:{value:e.selectedPermission,callback:function(t){e.selectedPermission=t},expression:"selectedPermission"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-select",{attrs:{label:"Permission Value",items:e.options.permissionValues,"item-text":"label","item-value":"value"},model:{value:e.selectedPermissionValue,callback:function(t){e.selectedPermissionValue=t},expression:"selectedPermissionValue"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-btn",{staticClass:"primary lighten-1",attrs:{dark:""},on:{click:function(t){return e.addSpecialPermission()}}},[e._v("\n                        Add Permission\n                        "),a("v-icon",{attrs:{right:""}},[e._v("add")])],1)],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"permissions_container"},[e._l(e.permissions,(function(t,o){return a("v-chip",{key:o,staticClass:"white--text",class:{green:1==t.value,red:-1==t.value,blue:0==t.value},attrs:{close:""},on:{input:function(t){return e.removePermission(o)}}},[-1==t.value?a("v-avatar",{staticClass:"red darken-4",attrs:{title:"Deny"}},[a("v-icon",[e._v("block")])],1):e._e(),e._v(" "),1==t.value?a("v-avatar",{staticClass:"green darken-4",attrs:{title:"Allow"}},[a("v-icon",[e._v("check_circle")])],1):e._e(),e._v(" "),0==t.value?a("v-avatar",{staticClass:"blue darken-4",attrs:{title:"Inherit"}},[a("v-icon",[e._v("swap_horiz")])],1):e._e(),e._v("\n                            "+e._s(t.title)+"\n                        ")],1)})),e._v(" "),0===e.permissions.length?a("div",[e._v("No special permissions assigned.")]):e._e()],2)]),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-btn",{attrs:{disabled:!e.valid,color:"primary",dark:""},on:{click:function(t){return e.save()}}},[e._v("Update")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);var o={data:function(){return{headers:[{text:"Action",value:!1,align:"left",sortable:!1},{text:"Title",value:"name",align:"left",sortable:!1},{text:"Key",value:"key",align:"left",sortable:!1},{text:"Description",value:"description",align:"left",sortable:!1},{text:"Date Created",value:"created_at",align:"left",sortable:!1}],items:[],totalItems:0,pagination:{rowsPerPage:10},filters:{title:""},dialogs:{edit:{group:{},show:!1},add:{show:!1}}}},mounted:function(){this.$store.commit("setBreadcrumbs",[{label:"Users",to:{name:"users.list"}},{label:"Permissions",name:""}])},watch:{"pagination.page":function(){this.loadPermissions((function(){}))},"pagination.rowsPerPage":function(){this.loadPermissions((function(){}))},"filters.title":_.debounce((function(){this.loadPermissions((function(){}))}),700)},methods:{trash:function(e){var t=this;t.$store.commit("showDialog",{type:"confirm",title:"Confirm Deletion",message:"Are you sure you want to delete this permission?",okCb:function(){axios.delete("/admin/permissions/"+e.id).then((function(e){t.$store.commit("showSnackbar",{message:e.data.message,color:"success",duration:3e3}),t.loadPermissions((function(){}))})).catch((function(e){t.$store.commit("hideLoader"),e.response?t.$store.commit("showSnackbar",{message:e.response.data.message,color:"error",duration:3e3}):e.request?console.log(e.request):console.log("Error",e.message)}))},cancelCb:function(){console.log("CANCEL")}})},loadPermissions:function(e){var t=this,a={title:t.filters.title,page:t.pagination.page,per_page:t.pagination.rowsPerPage};axios.get("/admin/permissions",{params:a}).then((function(a){t.items=a.data.data.data,t.totalItems=a.data.data.total,t.pagination.totalItems=a.data.data.total,(e||Function)()}))}}},i=a(0),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",[a("div",{staticClass:"d-flex flex-row"},[a("div",{staticClass:"flex-grow-1 pa-2"},[a("v-text-field",{attrs:{"prepend-icon":"search",label:"Filter By Permission Title"},model:{value:e.filters.title,callback:function(t){e.$set(e.filters,"title",t)},expression:"filters.title"}})],1),e._v(" "),a("div",{staticClass:"flex-grow-1 pa-2 text-right"},[a("v-btn",{staticClass:"primary lighten-1",attrs:{dark:""},on:{click:function(t){return e.$router.push({name:"users.permissions.create"})}}},[e._v("\n                    New Permission\n                    "),a("v-icon",{attrs:{right:""}},[e._v("add")])],1)],1)])]),e._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{"hide-default-header":"",headers:e.headers,options:e.pagination,items:e.items,"server-items-length":e.totalItems},on:{"update:options":function(t){e.pagination=t}},scopedSlots:e._u([{key:"header",fn:function(t){var o=t.props.headers;return[a("thead",[a("tr",e._l(o,(function(t){return a("th",["key"==t.value?a("span",[a("v-icon",[e._v("mdi-vpn_key")]),e._v(" "+e._s(t.text))],1):"created_at"==t.value?a("span",[a("v-icon",[e._v("mdi-date_range")]),e._v(" "+e._s(t.text))],1):a("span",[e._v(e._s(t.text))])])})),0)])]}},{key:"body",fn:function(t){var o=t.items;return[a("tbody",e._l(o,(function(t){return a("tr",{key:t.id},[a("td",[a("div",{staticClass:"text-center"},[a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",fab:"",small:"",color:"info"},on:{click:function(a){return e.$router.push({name:"users.permissions.edit",params:{id:t.id}})}}},[a("v-icon",[e._v("mdi-pencil")])],1),e._v(" "),a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",fab:"",small:"",color:"red"},on:{click:function(a){return e.trash(t)}}},[a("v-icon",[e._v("mdi-delete")])],1)],1)]),e._v(" "),a("td",[e._v(e._s(t.title))]),e._v(" "),a("td",[e._v(e._s(t.key))]),e._v(" "),a("td",[e._v(e._s(t.description))]),e._v(" "),a("td",[e._v(e._s(e.$appFormatters.formatDate(t.created_at)))])])})),0)]}}])})],1)}),[],!1,null,null,null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);var o={data:function(){return{valid:!1,isLoading:!1,title:"",titleRules:[function(e){return!!e||"Title is required"}],description:"",descriptionRules:[function(e){return!!e||"Description is required"}],permissionKey:"",permissionKeyRules:[function(e){return!!e||"Permission Key is required"},function(e){return e&&!e.match(/[^\w\.]+/g)||"Description cannot contain special characters"}]}},mounted:function(){this.$store.commit("setBreadcrumbs",[{label:"Users",to:{name:"users.list"}},{label:"Permissions",to:{name:"users.permissions.list"}},{label:"Create",name:""}])},watch:{permissionKey:function(e){e&&(this.permissionKey=e.replace(" ",".").toLowerCase())},title:function(e){e&&(this.permissionKey=e.replace(" ",".").toLowerCase())}},methods:{save:function(){var e=this,t={title:e.title,description:e.description,key:e.permissionKey};e.isLoading=!0,axios.post("/admin/permissions",t).then((function(t){e.$store.commit("showSnackbar",{message:t.data.message,color:"success",duration:3e3}),e.$eventBus.$emit("PERMISSION_ADDED"),e.$refs.permissionFormAdd.reset(),e.permissions=[],e.isLoading=!1})).catch((function(t){e.isLoading=!1,e.$store.commit("hideLoader"),t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)}))}}},i=a(0),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",[a("v-card-title",[a("v-icon",[e._v("vpn_key")]),e._v(" Create Permission\n        ")],1),e._v(" "),a("v-divider",{staticClass:"mb-2"}),e._v(" "),a("v-form",{ref:"permissionFormAdd",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"body-2 white--text"},[e._v("Permission Details")])]),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Permission Title",rules:e.titleRules},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Permission Key",rules:e.permissionKeyRules},model:{value:e.permissionKey,callback:function(t){e.permissionKey=t},expression:"permissionKey"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{attrs:{label:"Description",rules:e.descriptionRules},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-btn",{attrs:{loading:e.isLoading,disabled:!e.valid||e.isLoading,color:"primary",dark:""},on:{click:function(t){return e.save()}}},[e._v("Save")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);var o={props:{propPermissionId:{required:!0}},data:function(){return{valid:!1,isLoading:!1,title:"",titleRules:[function(e){return!!e||"Title is required"}],description:"",descriptionRules:[function(e){return!!e||"Description is required"}],permissionKey:"",permissionKeyRules:[function(e){return!!e||"Permission Key is required"},function(e){return!e.match(/[^\w\.]+/g)||"Description cannot contain special characters"}]}},mounted:function(){this.loadPermission()},watch:{permissionKey:function(e){this.permissionKey=e.replace(" ",".").toLowerCase()},title:function(e){this.permissionKey=e.replace(" ",".").toLowerCase()}},methods:{save:function(){var e=this,t={title:e.title,description:e.description,key:e.permissionKey};e.isLoading=!0,axios.put("/admin/permissions/"+e.propPermissionId,t).then((function(t){e.$store.commit("showSnackbar",{message:t.data.message,color:"success",duration:3e3}),e.permissions=[],e.isLoading=!1})).catch((function(t){e.isLoading=!1,e.$store.commit("hideLoader"),t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)}))},loadPermission:function(e){var t=this;axios.get("/admin/permissions/"+t.propPermissionId).then((function(a){var o=a.data.data;t.title=o.title,t.description=o.description,t.permissionKey=o.key,t.$store.commit("setBreadcrumbs",[{label:"Users",to:{name:"users.list"}},{label:"Permissions",to:{name:"users.permissions.list"}},{label:o.title,name:""},{label:"Edit",name:""}]),(e||Function)()}))}}},i=a(0),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",[a("v-card-title",[a("v-icon",[e._v("vpn_key")]),e._v(" Edit Permission\n        ")],1),e._v(" "),a("v-divider",{staticClass:"mb-2"}),e._v(" "),a("v-form",{ref:"permissionFormEdit",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"body-2 white--text"},[e._v("Permission Details")])]),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Permission Title",rules:e.titleRules},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Permission Key",rules:e.permissionKeyRules},model:{value:e.permissionKey,callback:function(t){e.permissionKey=t},expression:"permissionKey"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{attrs:{label:"Description",rules:e.descriptionRules},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),e._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-btn",{attrs:{loading:e.isLoading,disabled:!e.valid||e.isLoading,color:"primary",dark:""},on:{click:function(t){return e.save()}}},[e._v("Save")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);var o={components:{GpsForm:a(151).a},data:function(){return{valid:!0,form:{name:null,gps_group_id:null,gps_chip_id:null,installation_date:null,renew_date:null,description:null,payment_type:"CONTADO",currency:"MXN",exchange_rate:1,invoice:null,invoice_date:null},options:{groups:[],chips:[],types:[]}}},mounted:function(){this.$store.commit("setBreadcrumbs",[{label:"GPS",to:{name:"gps"}},{label:"Crear",to:{name:""}}]),this.loadResources()},methods:{save:function(){if(this.$refs.form.validate()){var e=this;axios.post("/admin/gps",e.form).then((function(t){e.$store.commit("showSnackbar",{message:t.data.message,color:"success",duration:3e3}),e.$eventBus.$emit("GPS_REFRESH")})).catch((function(t){t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)}))}},loadResources:function(){var e=this;axios.get("/admin/gps/create").then((function(t){var a=t.data.data.resources;e.options.groups=a.groups_gps,e.options.chips=a.chips_gps,e.options.types=a.types}))}}},i=a(0),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{flat:""}},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[a("v-icon",[e._v("mdi-crosshairs")]),e._v(" Registrar Nuevo GPS\n    ")],1),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"success"},on:{click:e.save}},[e._v("\n      Guardar\n      "),a("v-icon",{attrs:{right:""}},[e._v("mdi-check")])],1)],1),e._v(" "),a("v-divider",{staticClass:"mb-3"}),e._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("gps-form",{attrs:{form:e.form,options:e.options},on:{"update:form":function(t){e.form=t}}})],1)],1)],1)}),[],!1,null,null,null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);var o={data:function(){return{activeTab:""}},computed:{Tabs:function(){return[{title:"Flotilla",icon:"mdi-car",to:{name:"vehicle.list"},show:!0},{title:"Dispersiones",icon:"mdi-gas-station",to:{name:"vehicle.dispersion.list"},show:!0},{title:"Servicios",icon:"mdi-settings",to:{name:"vehicle.services.list"},show:!0}]}}},i=a(0),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-tabs",{attrs:{grow:""},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[e._l(e.Tabs,(function(t){return[t.show?a("v-tab",{key:t.title,attrs:{to:t.to}},[a("v-icon",{attrs:{left:""}},[e._v(e._s(t.icon))]),e._v("\n        "+e._s(t.title)+"\n      ")],1):e._e()]}))],2),e._v(" "),a("v-slide-x-transition",[a("router-view")],1)],1)}),[],!1,null,null,null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);var o={data:function(){return{headers:[{text:"Action",value:"action",align:"left",sortable:!1},{text:"Matricula",value:"matricula",align:"left",sortable:!1},{text:"Responsable y Sucursal",value:"assigned",align:"left",sortable:!1},{text:"Modelo y Marca",value:"modelo",align:"center",sortable:!1},{text:"Ultimo Kilometraje",value:"ultimo_kilometraje",align:"center",sortable:!1},{text:"Ultima Actualizacion",value:"updated_at",align:"right",sortable:!1}],items:[],totalItems:0,pagination:{rowsPerPage:10},filters:{matricula:""}}},mounted:function(){this.$store.commit("setBreadcrumbs",[{label:"Flotilla de Unidades",name:""}])},watch:{"pagination.page":function(){this.loadVehicles((function(){}))},"pagination.rowsPerPage":function(){this.loadVehicles((function(){}))},filters:{handler:_.debounce((function(e){var t=this;this.loadVehicles((function(){t.$store.commit("hideLoader")}))}),700),deep:!0}},methods:{trash:function(e){var t=this;t.$store.commit("showDialog",{type:"confirm",title:"Confirm Deletion",message:"Are you sure you want to delete this vehicle?",okCb:function(){axios.delete("/admin/vehicles/"+e.id).then((function(e){t.$store.commit("showSnackbar",{message:e.data.message,color:"success",duration:3e3}),t.loadVehicles((function(){}))})).catch((function(e){t.$store.commit("hideLoader"),e.response?t.$store.commit("showSnackbar",{message:e.response.data.message,color:"error",duration:3e3}):e.request?console.log(e.request):console.log("Error",e.message)}))},cancelCb:function(){console.log("CANCEL")}})},loadVehicles:function(e){var t=this,a={matricula:t.filters.matricula,page:t.pagination.page,per_page:t.pagination.rowsPerPage};axios.get("/admin/vehicles",{params:a}).then((function(a){t.items=a.data.data.data,t.totalItems=a.data.data.total,t.pagination.totalItems=a.data.data.total,(e||Function)()}))}}},i=a(0),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",{attrs:{flat:""}},[a("div",{staticClass:"d-flex flex-row align-center"},[a("div",{staticClass:"flex-grow-1 pa-2"},[a("v-text-field",{attrs:{"prepend-icon":"mdi-magnify",label:"Fitrar por Matricula",clearable:""},model:{value:e.filters.matricula,callback:function(t){e.$set(e.filters,"matricula",t)},expression:"filters.matricula"}})],1),e._v(" "),a("div",{staticClass:"flex-grow-1 pa-2"},[a("v-btn",{attrs:{to:{name:"vehicle.create"}}},[e._v("Registrar Vehiculo")])],1)])]),e._v(" "),a("v-data-table",{staticClass:"elevation-1 text-uppercase",attrs:{headers:e.headers,options:e.pagination,items:e.items,"server-items-length":e.totalItems,dense:"","fixed-header":""},on:{"update:options":function(t){e.pagination=t}},scopedSlots:e._u([{key:"item.action",fn:function(t){var o=t.item;return[a("v-menu",{attrs:{"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:"",small:""}},"v-btn",i,!1),o),[a("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e._v(" "),a("v-list",{attrs:{shaped:"",dense:""}},[a("v-list-item-group",[a("v-list-item",{on:{click:function(t){return e.$router.push({name:"vehicle.dispersal.create",params:{propsVehicleId:o.id}})}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"blue--text"},[e._v("mdi-gas-station-outline")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",[e._v("Solcitar Dispercion")])],1)],1),e._v(" "),a("v-list-item",{on:{click:function(t){return e.$router.push({name:"vehicle.services.create",params:{propsVehicleServiceId:o.id}})}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"blue--text"},[e._v("mdi-settings")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",[e._v("Solcitar Servicio")])],1)],1),e._v(" "),a("v-list-item",{on:{click:function(t){return e.$router.push({name:"vehicle.edit",params:{propVehicleId:o.id}})}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"blue--text"},[e._v("mdi-information-outline")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",[e._v("Editar Vehiculo")])],1)],1),e._v(" "),a("v-list-item",{on:{click:function(t){return e.trash(o)}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"red--text"},[e._v("mdi-delete")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",[e._v("Eliminar Vehiculo")])],1)],1)],1)],1)],1)]}},{key:"item.assigned",fn:function(t){var o=t.item;return[a("v-list-item",{staticClass:"pa-0",attrs:{dense:""}},[a("v-list-item-content",{staticClass:"pa-0"},[a("v-list-item-title",[e._v(e._s(o.user.name))]),e._v(" "),a("v-list-item-subtitle",[e._v("\n            "+e._s(o.agency.title)+"\n          ")])],1)],1)]}},{key:"item.ultimo_kilometraje",fn:function(t){var a=t.item;return[e._v("\n      "+e._s(e._f("kms")(a.ultimo_kilometraje))+"\n    ")]}},{key:"item.updated_at",fn:function(t){var a=t.item;return[e._v("\n      "+e._s(e.$appFormatters.formatDate(a.updated_at,"MMM DD,YYYY"))+"\n    ")]}}],null,!0)})],1)}),[],!1,null,null,null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);var o={data:function(){return{valid:!1,isLoading:!1,form:{matricula:"QAWS",modelo:"Saveiro",marca:"VW",serie:"s662-jbsu-hb782-jb",ticket_card:"7889",tipo_combustible:"magna",ultimo_kilometraje:2e4,ultimo_kilometraje_servicio:1e4,rango_kilometros_servicio:15e3,capacidad_tanque:80,sucursal:1,responsable:1},options:{agencies:[],users:[]}}},mounted:function(){this.$store.commit("setBreadcrumbs",[{label:"Flotilla",to:{name:"vehicle.list"}},{label:"Registar Vehiculo",name:""}]),this.loadResource((function(){}))},methods:{save:function(){var e=this;if(e.$refs.vechicleForm.validate()){axios.post("/admin/vehicles",e.form).then((function(t){e.$store.commit("showSnackbar",{message:t.data.message,color:"success",duration:3e3}),e.$router.push({name:"vehicle.list"})})).catch((function(t){t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)}))}},loadResource:function(e){var t=this;axios.get("/admin/resource/agencies").then((function(a){var o=a.data.data;t.options.agencies=o.agencies,(e||Function)()})),axios.get("/admin/resource/users").then((function(a){var o=a.data.data;t.options.users=o.users,(e||Function)()}))}}},i=a(0),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",[a("v-card-title",[a("v-icon",[e._v("mdi-car")]),e._v(" Registrar Vehiculo a la Flotilla\n    ")],1),e._v(" "),a("v-divider",{staticClass:"mb-2"}),e._v(" "),a("v-container",{attrs:{"grid-list-md":""}},[a("v-form",{ref:"vechicleForm",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Valor Requerido"}],label:"Matricula",required:""},model:{value:e.form.matricula,callback:function(t){e.$set(e.form,"matricula",t)},expression:"form.matricula"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Valor Requerido"}],label:"Modelo",required:""},model:{value:e.form.modelo,callback:function(t){e.$set(e.form,"modelo",t)},expression:"form.modelo"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Valor Requerido"}],label:"Marca",required:""},model:{value:e.form.marca,callback:function(t){e.$set(e.form,"marca",t)},expression:"form.marca"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Valor Requerido"}],label:"Serie",required:""},model:{value:e.form.serie,callback:function(t){e.$set(e.form,"serie",t)},expression:"form.serie"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Valor Requerido"}],label:"Ticket Card",required:""},model:{value:e.form.ticket_card,callback:function(t){e.$set(e.form,"ticket_card",t)},expression:"form.ticket_card"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Valor Requerido"}],label:"Tipo Combustible",required:""},model:{value:e.form.tipo_combustible,callback:function(t){e.$set(e.form,"tipo_combustible",t)},expression:"form.tipo_combustible"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Valor Requerido"}],label:"Kilometraje",required:""},model:{value:e.form.ultimo_kilometraje,callback:function(t){e.$set(e.form,"ultimo_kilometraje",t)},expression:"form.ultimo_kilometraje"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Valor Requerido"}],label:"Capacidad max Tanque (lts)",required:""},model:{value:e.form.capacidad_tanque,callback:function(t){e.$set(e.form,"capacidad_tanque",t)},expression:"form.capacidad_tanque"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{items:e.options.agencies,"item-text":"title","item-value":"id",label:"Agencia",placeholder:"Agencia a cual correponde."},model:{value:e.form.sucursal,callback:function(t){e.$set(e.form,"sucursal",t)},expression:"form.sucursal"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{items:e.options.users,"item-text":"name","item-value":"id",label:"Responsable Unidad",placeholder:"Usuario a quien correcponde la unidad."},model:{value:e.form.responsable,callback:function(t){e.$set(e.form,"responsable",t)},expression:"form.responsable"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Valor Requerido"}],label:"Kilometraje ultimo Servicio",required:""},model:{value:e.form.ultimo_kilometraje_servicio,callback:function(t){e.$set(e.form,"ultimo_kilometraje_servicio",t)},expression:"form.ultimo_kilometraje_servicio"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Valor Requerido"}],label:"Ranfo Kilometros para Servicio",required:""},model:{value:e.form.rango_kilometros_servicio,callback:function(t){e.$set(e.form,"rango_kilometros_servicio",t)},expression:"form.rango_kilometros_servicio"}})],1)],1),e._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-btn",{attrs:{loading:e.isLoading,disabled:!e.valid||e.isLoading,color:"primary",dark:"",block:""},on:{click:function(t){return e.save()}}},[e._v("\n            Guardar\n          ")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);var o={props:{propVehicleId:{required:!0}},data:function(){return{valid:!1,isLoading:!1,Vehicle:{},options:{agencies:[],users:[]}}},mounted:function(){var e=this;this.$store.commit("setBreadcrumbs",[{label:"Flotilla",to:{name:"vehicle.list"}},{label:"Registar Vehiculo",name:""}]),this.loadResource((function(){e.loadVehicle((function(){}))}))},methods:{update:function(){var e=this;if(e.$refs.vechicleForm.validate()){axios.put("/admin/vehicles/"+e.propVehicleId,e.Vehicle).then((function(t){e.$store.commit("showSnackbar",{message:t.data.message,color:"success",duration:3e3}),e.$router.push({name:"vehicle.list"})})).catch((function(t){t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)}))}},loadVehicle:function(e){var t=this;axios.get("/admin/vehicles/"+t.propVehicleId).then((function(a){var o=a.data.data;t.Vehicle=o,(e||Function)()}))},loadResource:function(e){var t=this;axios.get("/admin/resource/agencies").then((function(a){var o=a.data.data;t.options.agencies=o.agencies,(e||Function)()})),axios.get("/admin/resource/users").then((function(a){var o=a.data.data;t.options.users=o.users,(e||Function)()}))}}},i=a(0),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",[a("v-card-title",[a("v-icon",[e._v("mdi-car")]),e._v(" Registrar Vehiculo a la Flotilla\n    ")],1),e._v(" "),a("v-divider",{staticClass:"mb-2"}),e._v(" "),a("v-container",{attrs:{"grid-list-md":""}},[a("v-form",{ref:"vechicleForm",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Valor Requerido"}],label:"Matricula",required:""},model:{value:e.Vehicle.matricula,callback:function(t){e.$set(e.Vehicle,"matricula",t)},expression:"Vehicle.matricula"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Valor Requerido"}],label:"Modelo",required:""},model:{value:e.Vehicle.modelo,callback:function(t){e.$set(e.Vehicle,"modelo",t)},expression:"Vehicle.modelo"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Valor Requerido"}],label:"Marca",required:""},model:{value:e.Vehicle.marca,callback:function(t){e.$set(e.Vehicle,"marca",t)},expression:"Vehicle.marca"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Valor Requerido"}],label:"Serie",required:""},model:{value:e.Vehicle.serie,callback:function(t){e.$set(e.Vehicle,"serie",t)},expression:"Vehicle.serie"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Valor Requerido"}],label:"Ticket Card",required:""},model:{value:e.Vehicle.ticket_card,callback:function(t){e.$set(e.Vehicle,"ticket_card",t)},expression:"Vehicle.ticket_card"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Valor Requerido"}],label:"Tipo Combustible",required:""},model:{value:e.Vehicle.tipo_combustible,callback:function(t){e.$set(e.Vehicle,"tipo_combustible",t)},expression:"Vehicle.tipo_combustible"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Valor Requerido"}],label:"Kilometraje",required:""},model:{value:e.Vehicle.ultimo_kilometraje,callback:function(t){e.$set(e.Vehicle,"ultimo_kilometraje",t)},expression:"Vehicle.ultimo_kilometraje"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Valor Requerido"}],label:"Capacidad max Tanque (lts)",required:""},model:{value:e.Vehicle.capacidad_tanque,callback:function(t){e.$set(e.Vehicle,"capacidad_tanque",t)},expression:"Vehicle.capacidad_tanque"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{items:e.options.agencies,"item-text":"title","item-value":"id",label:"Agencia",placeholder:"Agencia a cual correponde."},model:{value:e.Vehicle.sucursal,callback:function(t){e.$set(e.Vehicle,"sucursal",t)},expression:"Vehicle.sucursal"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{items:e.options.users,"item-text":"name","item-value":"id",label:"Responsable Unidad",placeholder:"Usuario a quien correcponde la unidad."},model:{value:e.Vehicle.responsable,callback:function(t){e.$set(e.Vehicle,"responsable",t)},expression:"Vehicle.responsable"}})],1)],1),e._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-btn",{attrs:{loading:e.isLoading,disabled:!e.valid||e.isLoading,color:"primary",dark:"",block:""},on:{click:function(t){return e.update()}}},[e._v("\n            Guardar\n          ")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);var o={data:function(){return{headers:[{text:"Action",value:"action",align:"left",sortable:!1},{text:"Folio",value:"folio",align:"left",sortable:!1},{text:"Matricula",value:"vehicle.matricula",align:"left",sortable:!1},{text:"Solicitante y Sucursal",value:"solicitante",align:"left",sortable:!1},{text:"Litros Solicitados",value:"gas_lts",align:"center",sortable:!1},{text:"Cargo Suc y/o Depto",value:"cargoA",align:"center",sortable:!1},{text:"Actual/Anterior Kilometraje",value:"kms",align:"center",sortable:!1},{text:"Tanque Gasolina",value:"tank",align:"center",sortable:!1},{text:"Estatus",value:"estatus.title",align:"center",sortable:!1},{text:"Fecha Solicitud",value:"created_at",align:"center",sortable:!0}],items:[],totalItems:0,pagination:{rowsPerPage:10},options:{agencies:[]},filters:{title:"",estatus:["dispersal:pendiente"],agencies:[]}}},mounted:function(){this.$store.commit("setBreadcrumbs",[{label:"Flotilla",to:{name:"vehicle.list"}},{label:"Dispercion",name:""}]),this.loadResource((function(){}))},watch:{"pagination.page":function(){this.loadDispersals((function(){}))},"pagination.rowsPerPage":function(){this.loadDispersals((function(){}))},filters:{handler:_.debounce((function(e){var t=this;this.loadDispersals((function(){t.$store.commit("hideLoader")}))}),700),deep:!0}},methods:{trash:function(e){var t=this;t.$store.commit("showDialog",{type:"confirm",title:"Confimacion",message:"¿Seguron en Eliminar esta Dispercion?",okCb:function(){axios.delete("/admin/vehicle-dispersal/"+e.id).then((function(e){t.$store.commit("showSnackbar",{message:e.data.message,color:"success",duration:3e3}),t.loadDispersals((function(){}))})).catch((function(e){t.$store.commit("hideLoader"),e.response?t.$store.commit("showSnackbar",{message:e.response.data.message,color:"error",duration:3e3}):e.request?console.log(e.request):console.log("Error",e.message)}))},cancelCb:function(){console.log("CANCEL")}})},loadDispersals:function(e){var t=this,a={folio:t.filters.title,estatus_keys:t.filters.estatus.join(","),agencies_id:t.filters.agencies.join(","),order_sort:t.pagination.sortDesc[0]?"desc":"asc",order_by:t.pagination.sortBy[0]||"id",page:t.pagination.page,per_page:t.pagination.rowsPerPage};axios.get("/admin/vehicle-dispersal",{params:a}).then((function(a){t.items=a.data.data.data,t.totalItems=a.data.data.total,t.pagination.totalItems=a.data.data.total,(e||Function)()}))},loadResource:function(e){var t=this;axios.get("/admin/resource/agencies").then((function(a){var o=a.data.data;t.options.agencies=o.agencies,(e||Function)()}))},itemRowBackground:function(e){return e.estatus.key>"dispersal:autorizado"?"style-1":"style-2"}}},i=(a(215),a(0)),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",{attrs:{flat:""}},[a("v-row",{staticClass:"align-center"},[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-magnify",label:"Fitrar por Folio",clearable:""},model:{value:e.filters.title,callback:function(t){e.$set(e.filters,"title",t)},expression:"filters.title"}})],1),e._v(" "),a("v-autocomplete",{attrs:{items:e.options.agencies,"item-text":"title","item-value":"id",label:"Filtrar Cargo A Sucursal:","prepend-icon":"mdi-magnify","hide-details":"",clearable:"",multiple:"",filled:""},model:{value:e.filters.agencies,callback:function(t){e.$set(e.filters,"agencies",t)},expression:"filters.agencies"}}),e._v(" "),a("v-row",{staticClass:"justify-space-around"},[a("v-checkbox",{attrs:{label:"Pendientes",value:"dispersal:pendiente","hide-details":""},model:{value:e.filters.estatus,callback:function(t){e.$set(e.filters,"estatus",t)},expression:"filters.estatus"}}),e._v(" "),a("v-checkbox",{attrs:{label:"Autorizados",value:"dispersal:autorizado","hide-details":""},model:{value:e.filters.estatus,callback:function(t){e.$set(e.filters,"estatus",t)},expression:"filters.estatus"}}),e._v(" "),a("v-checkbox",{attrs:{label:"Rechazados",value:"dispersal:rechazada","hide-details":""},model:{value:e.filters.estatus,callback:function(t){e.$set(e.filters,"estatus",t)},expression:"filters.estatus"}}),e._v(" "),a("v-checkbox",{attrs:{label:"Dispersados",value:"dispersal:dispersado","hide-details":""},model:{value:e.filters.estatus,callback:function(t){e.$set(e.filters,"estatus",t)},expression:"filters.estatus"}})],1),e._v(" "),a("v-col",{staticClass:"flex-grow-0 pa-2",attrs:{cols:"12"}},[a("v-btn",{attrs:{to:{name:"vehicle.dispersal.create"}}},[e._v("\n          Solicitar Dispersion\n        ")])],1)],1)],1),e._v(" "),a("v-data-table",{staticClass:"elevation-1 button",attrs:{headers:e.headers,options:e.pagination,items:e.items,"server-items-length":e.totalItems,dense:"","fixed-header":""},on:{"update:options":function(t){e.pagination=t}},scopedSlots:e._u([{key:"item.action",fn:function(t){var o=t.item;return[a("v-menu",{attrs:{"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:"",small:""}},"v-btn",i,!1),o),[a("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e._v(" "),a("v-list",{attrs:{shaped:"",dense:""}},[a("v-list-item-group",[a("v-list-item",{on:{click:function(t){return e.$router.push({name:"vehicle.dispersion.edit",params:{propsVehicleDispersalId:o.id}})}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"blue--text"},[e._v("mdi-information-outline")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",[e._v("Ver Detalles Dispercion")])],1)],1),e._v(" "),a("v-list-item",{on:{click:function(t){return e.trash(o)}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"red--text"},[e._v("mdi-delete")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",[e._v("Eliminar Dispercion")])],1)],1)],1)],1)],1)]}},{key:"item.folio",fn:function(t){var a=t.item;return[e._v("\n      "+e._s(a.id.toString().padStart(5,0))+"\n    ")]}},{key:"item.solicitante",fn:function(t){var o=t.item;return[a("v-list-item",{staticClass:"pa-0",attrs:{dense:""}},[a("v-list-item-content",{staticClass:"pa-0"},[a("v-list-item-title",[e._v(e._s(o.user.name))]),e._v(" "),a("v-list-item-subtitle",[e._v("\n            "+e._s(o.user.agency.title)+"\n          ")])],1)],1)]}},{key:"item.cargoA",fn:function(t){var o=t.item;return[a("v-list-item",{staticClass:"pa-0",attrs:{dense:""}},[a("v-list-item-content",{staticClass:"pa-0"},[a("v-list-item-title",[e._v(e._s(o.cargo_a.title))]),e._v(" "),a("v-list-item-subtitle",[e._v("\n            "+e._s(o.con_cargo_a)+"\n          ")])],1)],1)]}},{key:"item.kms",fn:function(t){var o=t.item;return[a("v-list-item",{staticClass:"pa-0",attrs:{dense:""}},[a("v-list-item-content",{staticClass:"pa-0"},[a("v-list-item-title",[e._v(e._s(e._f("kms")(o.kilometraje_actual)))]),e._v(" "),a("v-list-item-subtitle",[e._v("\n            "+e._s(e._f("kms")(o.kilometraje_anterior))+"\n          ")])],1)],1)]}},{key:"item.tank",fn:function(t){var o=t.item;return[a("v-progress-linear",{attrs:{color:"green lighten-1",height:"15",value:o.odometro_percent_gas}},[a("strong",[e._v(e._s(o.odometro_percent_gas)+"%")])])]}},{key:"item.created_at",fn:function(t){var o=t.item;return[a("span",{staticClass:"caption"},[e._v("\n        "+e._s(e.$appFormatters.formatDate(o.created_at,"DD-MMM-yyyy"))+"\n        ")])]}}],null,!0)})],1)}),[],!1,null,null,null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var n={props:{propsVehicleId:{required:!1}},data:function(){return{valid:!1,isLoading:!1,vehicle:{serie:"",ultimo_kilometraje:0,capacidad_tanque:0,user:{name:""}},form:{kilometraje_actual:152999,odometro_percent_gas:30,tarjeta:"798",destino:"Silao",motivo:"Viaje a Silao",con_cargo_a:"Sistemas",suc_cargo:null,gas_lts:30},options:{agencies:[],users:[],vehicles:[]}}},mounted:function(){var e=this;this.$store.commit("setBreadcrumbs",[{label:"Flotilla",to:{name:"vehicle.list"}},{label:"Disperciones",to:{name:"vehicle.dispersion.list"}},{label:"Solicitar Dispercion",name:""}]),this.loadResource((function(){})),this.loadVehicles((function(){e.propsVehicleId&&e.loadVehicle((function(){}))}))},methods:{save:function(){var e=this;if(e.$refs.dispersalForm.validate()){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({vehicle_id:e.vehicle.id,kilometraje_anterior:e.vehicle.ultimo_kilometraje},e.form);axios.post("/admin/vehicle-dispersal",t).then((function(t){e.$store.commit("showSnackbar",{message:t.data.message,color:"success",duration:3e3}),e.$router.push({name:"vehicle.dispersion.list"})})).catch((function(t){t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)}))}},loadResource:function(e){var t=this;axios.get("/admin/resource/agencies").then((function(a){var o=a.data.data;t.options.agencies=o.agencies,(e||Function)()})),axios.get("/admin/resource/users").then((function(a){var o=a.data.data;t.options.users=o.users,(e||Function)()}))},loadVehicle:function(e){var t=this;axios.get("/admin/vehicles/"+t.propsVehicleId).then((function(a){var o=a.data.data;t.vehicle=o,(e||Function)()}))},loadVehicles:function(e){var t=this;axios.get("/admin/vehicles",{params:{paginate:"no"}}).then((function(a){t.options.vehicles=a.data.data,(e||Function)()}))}}},r=a(0),s=Object(r.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",[a("v-card-title",[a("v-icon",[e._v("mdi-gas-station-outline")]),e._v("\n      Solicitar Dispercion a Vehiculo\n      "),e.vehicle.user.name?a("span",[e._v("\n        , Responsable: "+e._s(e.vehicle.user.name)+"\n      ")]):e._e()],1),e._v(" "),a("v-divider",{staticClass:"mb-2"}),e._v(" "),a("v-container",{attrs:{"grid-list-md":""}},[a("v-form",{ref:"dispersalForm",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",{staticClass:"align-center"},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{items:e.options.vehicles,label:"Vehiculo Matricula",rules:[function(e){return!!e||"Valor Requerido"}],"item-text":"matricula",hint:e.vehicle.serie,"persistent-hint":"","return-object":"",required:""},model:{value:e.vehicle,callback:function(t){e.vehicle=t},expression:"vehicle"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Valor Requerido"},function(t){return t>e.vehicle.ultimo_kilometraje||"Valor debe ser mayor al utimo Kilometraje ("+e.vehicle.ultimo_kilometraje+" kms)"}],label:"Kilometraje Actual",suffix:"KM",type:"numeric",hint:"Ultimo Kilometraje "+e.vehicle.ultimo_kilometraje+" kms","persistent-hint":"",required:""},model:{value:e.form.kilometraje_actual,callback:function(t){e.$set(e.form,"kilometraje_actual",t)},expression:"form.kilometraje_actual"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-slider",{attrs:{label:"% Odometro Gas Actual",step:"5","thumb-color":"green","thumb-label":"always"},model:{value:e.form.odometro_percent_gas,callback:function(t){e.$set(e.form,"odometro_percent_gas",t)},expression:"form.odometro_percent_gas"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Valor Requerido"}],label:"Tarjeta",required:""},model:{value:e.form.tarjeta,callback:function(t){e.$set(e.form,"tarjeta",t)},expression:"form.tarjeta"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Valor Requerido"}],label:"Destino",required:""},model:{value:e.form.destino,callback:function(t){e.$set(e.form,"destino",t)},expression:"form.destino"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{items:e.options.agencies,"item-text":"title","item-value":"id",label:"Agencia",placeholder:"Con Cargo A"},model:{value:e.form.suc_cargo,callback:function(t){e.$set(e.form,"suc_cargo",t)},expression:"form.suc_cargo"}}),e._v(" "),a("v-text-field",{attrs:{label:"Departamento",placeholder:"Con Cargo A"},model:{value:e.form.con_cargo_a,callback:function(t){e.$set(e.form,"con_cargo_a",t)},expression:"form.con_cargo_a"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-textarea",{attrs:{rules:[function(e){return!!e||"Valor Requerido"}],label:"Motivo",required:""},model:{value:e.form.motivo,callback:function(t){e.$set(e.form,"motivo",t)},expression:"form.motivo"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Valor Requerido"}],label:"Litros a Solicitar",suffix:"Litros",hint:"Capacidad Maxima "+e.vehicle.capacidad_tanque+" LTS","persistent-hint":"",outlined:"",required:""},model:{value:e.form.gas_lts,callback:function(t){e.$set(e.form,"gas_lts",t)},expression:"form.gas_lts"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-btn",{attrs:{loading:e.isLoading,disabled:!e.valid||e.isLoading,color:"primary",dark:"",block:""},on:{click:function(t){return e.save()}}},[e._v("\n            Guardar\n          ")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=s.exports},function(e,t,a){"use strict";a.r(t);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var n={props:{propsVehicleDispersalId:{required:!0}},data:function(){return{valid:!1,isLoading:!1,Dispersal:{},form:{estatus:null,kilometraje_actual:152999,odometro_percent_gas:30,tarjeta:"798",destino:"Silao",motivo:"Viaje a Silao",con_cargo_a:"Sistemas",suc_cargo:null,gas_lts:30},options:{agencies:[],users:[],vehicles:[]}}},created:function(){this.$store.commit("setBreadcrumbs",[{label:"Flotilla",to:{name:"vehicle.list"}},{label:"Disperciones",name:"vehicle.dispersion.list"},{label:"Detalle",name:""}]),this.loadResource((function(){})),this.loadDispersal((function(){}))},methods:{edit:function(){var e=this;if(e.$refs.dispersalForm.validate()){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({vehicle_id:e.vehicle.id},e.form);axios.put("/admin/vehicle-dispersal",t).then((function(t){e.$store.commit("showSnackbar",{message:t.data.message,color:"success",duration:3e3})})).catch((function(t){t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)}))}},change_estatus:function(e){var t=this;t.$store.commit("showDialog",{type:"confirm",title:"Confimacion de Cambio de Estatus",message:"¿Seguro en Actualizar el Estatus de la Dispecion?",okCb:function(){axios.post("/admin/vehicle-dispersal/"+t.propsVehicleDispersalId+"/estatus",{estatus_key:e}).then((function(e){t.$store.commit("showSnackbar",{message:e.data.message,color:"success",duration:3e3}),t.$router.go(-1)})).catch((function(e){e.response?t.$store.commit("showSnackbar",{message:e.response.data.message,color:"error",duration:3e3}):e.request?console.log(e.request):console.log("Error",e.message)}))},cancelCb:function(){console.log("CANCEL")}})},loadResource:function(e){var t=this;axios.get("/admin/resource/agencies").then((function(a){var o=a.data.data;t.options.agencies=o.agencies,(e||Function)()})),axios.get("/admin/resource/users").then((function(a){var o=a.data.data;t.options.users=o.users,(e||Function)()}))},loadDispersal:function(e){var t=this;axios.get("/admin/vehicle-dispersal/"+t.propsVehicleDispersalId).then((function(a){t.Dispersal=a.data.data,(e||Function)()}))}}},r=a(0),s=Object(r.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-col",{attrs:{cols:"12"}},[a("v-card",{staticClass:"mx-auto",attrs:{dark:"","max-width":"700"}},[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"headline"},[e._v("\n            Matricula: "+e._s(e.Dispersal.vehicle.matricula)+"\n          ")]),e._v(" "),a("v-list-item-subtitle",[e._v("\n            "+e._s(e.$appFormatters.formatDate(e.Dispersal.created_at,"MMMM, DD yyyy"))+"\n          ")])],1),e._v(" "),a("v-spacer"),e._v(" "),a("v-chip",{staticClass:"ma-2",attrs:{label:""}},[e._v("\n          "+e._s(e.Dispersal.estatus.title)+"\n        ")])],1),e._v(" "),a("v-card-text",{staticClass:"py-0"},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"display-3 text-center elevation-5",attrs:{cols:"12",xs:"12",md:"4"}},[a("v-edit-dialog",{attrs:{"return-value":e.Dispersal.gas_lts,large:"",persistent:"","save-text":"Cambiar"},on:{"update:returnValue":function(t){return e.$set(e.Dispersal,"gas_lts",t)},"update:return-value":function(t){return e.$set(e.Dispersal,"gas_lts",t)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{model:{value:e.Dispersal.gas_lts,callback:function(t){e.$set(e.Dispersal,"gas_lts",t)},expression:"Dispersal.gas_lts"}})]},proxy:!0}])},[e._v("\n              "+e._s(e.Dispersal.gas_lts)+" Lts\n              ")])],1),e._v(" "),a("v-col",{attrs:{cols:"12",xs:"12",md:"8"}},[a("v-list-item",[a("v-list-item-icon",[a("v-icon",[e._v("mdi-car-cruise-control")])],1),e._v(" "),a("v-list-item-subtitle",[e._v("\n                "+e._s(e.Dispersal.kilometraje_anterior)+" km (anterior)\n              ")])],1),e._v(" "),a("v-list-item",[a("v-list-item-icon",[a("v-icon",[e._v("mdi-car-cruise-control")])],1),e._v(" "),a("v-list-item-subtitle",[e._v("\n                "+e._s(e.Dispersal.kilometraje_actual)+" km (actual)\n              ")])],1),e._v(" "),a("v-list-item",[a("v-list-item-icon",[a("v-icon",[e._v("mdi-car-coolant-level")])],1),e._v(" "),a("v-list-item-subtitle",[a("v-progress-linear",{attrs:{color:"green lighten-1",height:"10",value:e.Dispersal.odometro_percent_gas}},[a("strong",{staticClass:"caption"},[e._v(e._s(e.Dispersal.odometro_percent_gas)+"%")])])],1)],1)],1)],1)],1),e._v(" "),a("v-list",{staticClass:"transparent text-uppercase",attrs:{dense:""}},[a("v-list-item",[a("v-list-item-title",[e._v("Destino / Motivo")]),e._v(" "),a("v-list-item-subtitle",{staticClass:"text-right"},[a("span",{staticClass:"overline"},[e._v(" "+e._s(e.Dispersal.destino)+" ")]),e._v(",\n            "+e._s(e.Dispersal.motivo)+"\n          ")])],1),e._v(" "),a("v-list-item",[a("v-list-item-title",[e._v("Con Cargo a:")]),e._v(" "),a("v-list-item-subtitle",{staticClass:"text-right"},[e._v("\n            "+e._s(e.Dispersal.cargo_a.title)+" / "+e._s(e.Dispersal.con_cargo_a)+"\n          ")])],1),e._v(" "),a("v-list-item",[a("v-list-item-title",[e._v("Tarjeta:")]),e._v(" "),a("v-list-item-subtitle",{staticClass:"text-right"},[e._v("\n            "+e._s(e.Dispersal.tarjeta)+"\n          ")])],1),e._v(" "),a("v-list-item",[a("v-list-item-title",[e._v("Solicitante:")]),e._v(" "),a("v-list-item-subtitle",{staticClass:"text-right"},[e._v("\n            "+e._s(e.Dispersal.user.name)+"\n          ")])],1)],1),e._v(" "),a("v-divider"),e._v(" "),a("v-card-actions",{staticClass:"justify-end"},[a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.change_estatus("dispersal:autorizado")}}},[e._v("\n          Autorizar\n        ")]),e._v(" "),a("v-btn",{attrs:{text:"",color:"error"},on:{click:function(t){return e.change_estatus("dispersal:rechazada")}}},[e._v("\n          Denegar\n        ")]),e._v(" "),a("v-btn",{attrs:{text:"",color:"orange"},on:{click:function(t){return e.change_estatus("dispersal:dispersado")}}},[e._v("\n          Dispersado\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=s.exports},function(e,t,a){"use strict";a.r(t);var o={data:function(){return{headers:[{text:"Action",value:"action",align:"left",sortable:!1},{text:"Folio",value:"folio",align:"left",sortable:!1},{text:"Matricula",value:"vehicle.matricula",align:"left",sortable:!1},{text:"Solicitante y Sucursal",value:"solicitante",align:"left",sortable:!1},{text:"Cargo Suc y/o Depto",value:"cargoA",align:"center",sortable:!1},{text:"Kilometraje Servicio",value:"kms",align:"center",sortable:!1},{text:"Estatus",value:"estatus.title",align:"center",sortable:!1},{text:"Fecha Solicitud",value:"created_at",align:"center",sortable:!1}],items:[],totalItems:0,pagination:{rowsPerPage:10},filters:{title:""}}},mounted:function(){this.$store.commit("setBreadcrumbs",[{label:"Flotilla",to:{name:"vehicle.list"}},{label:"Servicios",name:""}])},watch:{"pagination.page":function(){this.loadServices((function(){}))},"pagination.rowsPerPage":function(){this.loadServices((function(){}))},filters:{handler:_.debounce((function(e){var t=this;this.loadServices((function(){t.$store.commit("hideLoader")}))}),700),deep:!0}},methods:{trash:function(e){var t=this;t.$store.commit("showDialog",{type:"confirm",title:"Confimacion",message:"¿Seguron en Eliminar esta Servicio ?",okCb:function(){axios.delete("/admin/vehicle-services/"+e.id).then((function(e){t.$store.commit("showSnackbar",{message:e.data.message,color:"success",duration:3e3}),t.loadServices((function(){}))})).catch((function(e){t.$store.commit("hideLoader"),e.response?t.$store.commit("showSnackbar",{message:e.response.data.message,color:"error",duration:3e3}):e.request?console.log(e.request):console.log("Error",e.message)}))},cancelCb:function(){console.log("CANCEL")}})},loadServices:function(e){var t=this,a={matricula:t.filters.title,page:t.pagination.page,per_page:t.pagination.rowsPerPage};axios.get("/admin/vehicle-services",{params:a}).then((function(a){t.items=a.data.data.data,t.totalItems=a.data.data.total,t.pagination.totalItems=a.data.data.total,(e||Function)()}))}}},i=a(0),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",{attrs:{flat:""}},[a("div",{staticClass:"d-flex flex-row align-center"},[a("div",{staticClass:"flex-grow-1 pa-2"},[a("v-text-field",{attrs:{"prepend-icon":"mdi-magnify",label:"Fitrar por Folio",clearable:""},model:{value:e.filters.title,callback:function(t){e.$set(e.filters,"title",t)},expression:"filters.title"}})],1),e._v(" "),a("div",{staticClass:"flex-grow-1 pa-2"},[a("v-btn",{attrs:{to:{name:"vehicle.services.create"}}},[e._v("\n          Solicitar Servicio\n        ")])],1)])]),e._v(" "),a("v-data-table",{staticClass:"elevation-1 button",attrs:{headers:e.headers,options:e.pagination,items:e.items,"server-items-length":e.totalItems,dense:"","fixed-header":""},on:{"update:options":function(t){e.pagination=t}},scopedSlots:e._u([{key:"item.action",fn:function(t){var o=t.item;return[a("v-menu",{attrs:{"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:"",small:""}},"v-btn",i,!1),o),[a("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e._v(" "),a("v-list",{attrs:{shaped:"",dense:""}},[a("v-list-item-group",[a("v-list-item",{on:{click:function(t){return e.$router.push({name:"vehicle.services.edit",params:{propsVehicleServiceId:o.id}})}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"blue--text"},[e._v("mdi-information-outline")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",[e._v("Ver Detalles Dispercion")])],1)],1),e._v(" "),a("v-list-item",{on:{click:function(t){return e.trash(o)}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"red--text"},[e._v("mdi-delete")])],1),e._v(" "),a("v-list-item-content",[a("v-list-item-title",[e._v("Eliminar Dispercion")])],1)],1)],1)],1)],1)]}},{key:"item.folio",fn:function(t){var a=t.item;return[e._v("\n      "+e._s(a.id.toString().padStart(5,0))+"\n    ")]}},{key:"item.solicitante",fn:function(t){var o=t.item;return[a("v-list-item",{staticClass:"pa-0",attrs:{dense:""}},[a("v-list-item-content",{staticClass:"pa-0"},[a("v-list-item-title",[e._v(e._s(o.user.name))]),e._v(" "),a("v-list-item-subtitle",[e._v("\n            "+e._s(o.user.agency.title)+"\n          ")])],1)],1)]}},{key:"item.cargoA",fn:function(t){var o=t.item;return[a("v-list-item",{staticClass:"pa-0",attrs:{dense:""}},[a("v-list-item-content",{staticClass:"pa-0"},[a("v-list-item-title",[e._v(e._s(o.cargo_a.title))]),e._v(" "),a("v-list-item-subtitle",[e._v("\n            "+e._s(o.con_cargo_a)+"\n          ")])],1)],1)]}},{key:"item.kms",fn:function(t){var o=t.item;return[a("v-list-item",{staticClass:"pa-0",attrs:{dense:""}},[a("v-list-item-content",{staticClass:"pa-0"},[a("v-list-item-title",[e._v(e._s(o.kilometraje_servicio)+" kms")])],1)],1)]}},{key:"item.created_at",fn:function(t){var o=t.item;return[a("span",{staticClass:"caption"},[e._v("\n        "+e._s(e.$appFormatters.formatDate(o.created_at,"DD-MMM-yyyy"))+"\n      ")])]}}],null,!0)})],1)}),[],!1,null,null,null);t.default=n.exports},function(e,t,a){"use strict";a.r(t);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var n={props:{propsVehicleId:{required:!1}},data:function(){return{valid:!1,isLoading:!1,vehicle:{serie:"",ultimo_kilometraje:0,capacidad_tanque:0,user:{name:""}},form:{kilometraje_servicio:null,motivo:"La unidad ya Requiere el Servicio por el Kilometraje",con_cargo_a:"Sistemas",suc_cargo:null},options:{agencies:[],users:[],vehicles:[]}}},mounted:function(){var e=this;this.$store.commit("setBreadcrumbs",[{label:"Flotilla",to:{name:"vehicle.list"}},{label:"Disperciones",to:{name:"vehicle.dispersion.list"}},{label:"Solicitar Dispercion",name:""}]),this.loadResource((function(){})),this.loadVehicles((function(){e.propsVehicleId&&e.loadVehicle((function(){}))}))},methods:{save:function(){var e=this;if(e.$refs.vehicleServiceForm.validate()){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({vehicle_id:e.vehicle.id,kilometraje_anterior:e.vehicle.ultimo_kilometraje},e.form);axios.post("/admin/vehicle-services",t).then((function(t){e.$store.commit("showSnackbar",{message:t.data.message,color:"success",duration:3e3}),e.$router.push({name:"vehicle.services.list"})})).catch((function(t){t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)}))}},loadResource:function(e){var t=this;axios.get("/admin/resource/agencies").then((function(a){var o=a.data.data;t.options.agencies=o.agencies,(e||Function)()})),axios.get("/admin/resource/users").then((function(a){var o=a.data.data;t.options.users=o.users,(e||Function)()}))},loadVehicle:function(e){var t=this;axios.get("/admin/vehicles/"+t.propsVehicleId).then((function(a){var o=a.data.data;t.vehicle=o,(e||Function)()}))},loadVehicles:function(e){var t=this;axios.get("/admin/vehicles",{params:{paginate:"no"}}).then((function(a){t.options.vehicles=a.data.data,(e||Function)()}))}}},r=a(0),s=Object(r.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-card",[a("v-card-title",[a("v-icon",[e._v("mdi-settings")]),e._v("\n      Solicitar Servicio a Vehiculo\n      "),e.vehicle.user.name?a("span",[e._v("\n        , Responsable: "+e._s(e.vehicle.user.name)+"\n      ")]):e._e()],1),e._v(" "),a("v-divider",{staticClass:"mb-2"}),e._v(" "),a("v-container",{attrs:{"grid-list-md":""}},[a("v-form",{ref:"vehicleServiceForm",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",{staticClass:"align-center"},[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{items:e.options.vehicles,label:"Vehiculo Matricula",rules:[function(e){return!!e||"Valor Requerido"}],"item-text":"matricula",hint:e.vehicle.serie,"persistent-hint":"","return-object":"",required:""},model:{value:e.vehicle,callback:function(t){e.vehicle=t},expression:"vehicle"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{rules:[function(e){return!!e||"Valor Requerido"},function(t){return t>e.vehicle.ultimo_kilometraje||"Valor debe ser mayor al utimo Kilometraje ("+e.vehicle.ultimo_kilometraje+" kms)"}],label:"Kilometraje Actual",suffix:"KM",type:"numeric",hint:"Ultimo Kilometraje Servicio "+e.vehicle.ultimo_kilometraje_servicio+" kms","persistent-hint":"",required:""},model:{value:e.form.kilometraje_servicio,callback:function(t){e.$set(e.form,"kilometraje_servicio",t)},expression:"form.kilometraje_servicio"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("span",[e._v("\n              Cargo a Sucursal y/o departamento\n            ")]),e._v(" "),a("v-divider"),e._v(" "),a("v-autocomplete",{attrs:{items:e.options.agencies,"item-text":"title","item-value":"id",label:"Agencia",placeholder:"Con Cargo A",filled:""},model:{value:e.form.suc_cargo,callback:function(t){e.$set(e.form,"suc_cargo",t)},expression:"form.suc_cargo"}}),e._v(" "),a("v-text-field",{attrs:{label:"Departamento",placeholder:"Con Cargo A",filled:""},model:{value:e.form.con_cargo_a,callback:function(t){e.$set(e.form,"con_cargo_a",t)},expression:"form.con_cargo_a"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-textarea",{attrs:{rules:[function(e){return!!e||"Valor Requerido"}],label:"Motivo",required:"",filled:""},model:{value:e.form.motivo,callback:function(t){e.$set(e.form,"motivo",t)},expression:"form.motivo"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",md:"4"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-btn",{attrs:{loading:e.isLoading,disabled:!e.valid||e.isLoading,color:"primary",dark:"",block:""},on:{click:function(t){return e.save()}}},[e._v("\n            Guardar\n          ")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=s.exports},function(e,t,a){"use strict";a.r(t);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var n={props:{propsVehicleServiceId:{required:!0}},data:function(){return{valid:!1,isLoading:!1,Service:{},form:{estatus:null,kilometraje_actual:152999,odometro_percent_gas:30,tarjeta:"798",destino:"Silao",motivo:"Viaje a Silao",con_cargo_a:"Sistemas",suc_cargo:null,gas_lts:30},options:{agencies:[],users:[],vehicles:[]}}},created:function(){this.$store.commit("setBreadcrumbs",[{label:"Flotilla",to:{name:"vehicle.list"}},{label:"Disperciones",name:"vehicle.dispersion.list"},{label:"Detalle",name:""}]),this.loadResource((function(){})),this.loadService((function(){}))},methods:{edit:function(){var e=this;if(e.$refs.dispersalForm.validate()){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({vehicle_id:e.vehicle.id},e.form);axios.put("/admin/vehicle-dispersal",t).then((function(t){e.$store.commit("showSnackbar",{message:t.data.message,color:"success",duration:3e3})})).catch((function(t){t.response?e.$store.commit("showSnackbar",{message:t.response.data.message,color:"error",duration:3e3}):t.request?console.log(t.request):console.log("Error",t.message)}))}},change_estatus:function(e){var t=this;t.$store.commit("showDialog",{type:"confirm",title:"Confirmacion de Cambio de Estatus",message:"¿Seguro en Actualizar el Estatus de la Solicitud de Servicio?",okCb:function(){axios.post("/admin/vehicle-services/"+t.propsVehicleServiceId+"/estatus",{estatus_key:e}).then((function(e){t.$store.commit("showSnackbar",{message:e.data.message,color:"success",duration:3e3}),t.$router.go(-1)})).catch((function(e){e.response?t.$store.commit("showSnackbar",{message:e.response.data.message,color:"error",duration:3e3}):e.request?console.log(e.request):console.log("Error",e.message)}))},cancelCb:function(){console.log("CANCEL")}})},loadResource:function(e){var t=this;axios.get("/admin/resource/agencies").then((function(a){var o=a.data.data;t.options.agencies=o.agencies,(e||Function)()})),axios.get("/admin/resource/users").then((function(a){var o=a.data.data;t.options.users=o.users,(e||Function)()}))},loadService:function(e){var t=this;axios.get("/admin/vehicle-services/"+t.propsVehicleServiceId).then((function(a){t.Service=a.data.data,(e||Function)()}))}}},r=a(0),s=Object(r.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"component-wrap"},[a("v-container",{attrs:{"grid-list-md":""}},[a("v-col",{attrs:{cols:"12"}},[a("v-card",{staticClass:"mx-auto",attrs:{dark:""}},[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"headline"},[e._v("\n              Matricula: "+e._s(e.Service.vehicle.matricula)+"\n            ")]),e._v(" "),a("v-list-item-subtitle",[e._v("\n              "+e._s(e.$appFormatters.formatDate(e.Service.created_at,"MMMM, DD yyyy"))+"\n            ")])],1),e._v(" "),a("v-spacer"),e._v(" "),a("v-chip",{staticClass:"ma-2",attrs:{label:""}},[e._v("\n            "+e._s(e.Service.estatus.title)+"\n          ")])],1),e._v(" "),a("v-card-text",{staticClass:"py-0"},[a("v-row",{attrs:{align:"center"}},[a("v-list-item",[a("v-list-item-icon",[a("v-icon",[e._v("mdi-car-cruise-control")])],1),e._v(" "),a("v-list-item-subtitle",[e._v("\n                "+e._s(e.Service.kilometraje_servicio)+" km (actual)\n              ")])],1)],1)],1),e._v(" "),a("v-list",{staticClass:"transparent",attrs:{dense:""}},[a("v-list-item",[a("v-list-item-title",[e._v("Motivo Servicio")]),e._v(" "),a("v-list-item-subtitle",{staticClass:"text-right"},[e._v("\n              "+e._s(e.Service.motivo)+"\n            ")])],1),e._v(" "),a("v-list-item",[a("v-list-item-title",[e._v("Con Cargo a:")]),e._v(" "),a("v-list-item-subtitle",{staticClass:"text-right"},[e._v("\n              "+e._s(e.Service.cargo_a.title)+" / "+e._s(e.Service.con_cargo_a)+"\n            ")])],1),e._v(" "),a("v-list-item",[a("v-list-item-title",[e._v("Solicitante:")]),e._v(" "),a("v-list-item-subtitle",{staticClass:"text-right"},[e._v("\n              "+e._s(e.Service.user.name)+"\n            ")])],1)],1),e._v(" "),a("v-divider"),e._v(" "),a("v-card-actions",{staticClass:"justify-end"},[a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.change_estatus("service:autorizado")}}},[e._v("\n            Autorizar\n          ")]),e._v(" "),a("v-btn",{attrs:{text:"",color:"orange"},on:{click:function(t){return e.change_estatus("service:completado")}}},[e._v("\n            Completado\n          ")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=s.exports},,function(e,t){},,,,,,,,,,function(e,t){}],[[183,1,2]]]);